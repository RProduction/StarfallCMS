(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{138:function(n,t,e){"use strict";e.r(t);var r=e(66),a=e(0),c=e.n(a),u=e(34),i=e.n(u);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=e(92),f=e(31),l=e(33),d=e(88),s=e(93);function p(n,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](e,r):e}}var O=p(-1,{SET_AUTHORIZATION_STATUS:function(n,t){return t.status}}),E=e(3);var v=p(null,{SET_PROJECT_POPOVER:function(n,t){return t.anchor}}),h=p({},{ADD_PROJECTS:function(n,t){return Object(E.a)(n,function(n){var e=t.projects,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;n[o.id]={id:o.id,name:o.name,img:o.img,created:o.created,updated:o.updated,publicKey:o.publicKey}}}catch(f){a=!0,c=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},DELETE_PROJECT:function(n,t){return Object(E.a)(n,function(n){delete n[t.id]})},RENAME_PROJECT:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.name,a=t.updated,c=t.publicKey;n[e].name=r,n[e].updated=a,n[e].publicKey=c})},IMG_PROJECT:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.img,a=t.updated;n[e].img=r,n[e].updated=a})}}),m=p({},{ADD_ENTITIES:function(n,t){return Object(E.a)(n,function(n){var e=t.entities,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;n[o.id]={id:o.id,projectId:o.projectId,name:o.name,created:o.created,updated:o.updated}}}catch(f){a=!0,c=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},DELETE_ENTITIES:function(n,t){return Object(E.a)(n,function(n){var e=t.entities,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)delete n[u.value]}catch(o){a=!0,c=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},RENAME_ENTITY:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.name,a=t.updated;n[e].name=r,n[e].updated=a})}}),b=p({},{ADD_DOCUMENTS:function(n,t){return Object(E.a)(n,function(n){var e=t.documents,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;n[o.id]=o}}catch(f){a=!0,c=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},DELETE_DOCUMENTS:function(n,t){return Object(E.a)(n,function(n){var e=t.documents,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)delete n[u.value]}catch(o){a=!0,c=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},MODIFY_DOCUMENT:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.updated,a=t.data;n[e].updated=r,n[e].data=a})}});var T=p({},{INIT_STORAGE:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.data;n[e]=r})},UPLOAD_STORAGE:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.path,a=t.files;n[e]||(n[e]={});var c=n[e];(r?r.split("/"):[]).forEach(function(n){c=c[n]}),a.forEach(function(n){return c[n.name]={name:n.name,size:n.size,created:n.created,modified:n.modified}})})},FOLDER_STORAGE:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.path;n[e]||(n[e]={});var a=n[e],c=r.split("/");c.forEach(function(n,t){t+1<c.length?a=a[n]:a[n]={}})})},MOVE_STORAGE:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.path,a=t.targets,c=n[e];(r?r.split("/"):[]).forEach(function(n){c=c[n]}),a.forEach(function(t){var r=n[e],a=t.split("/");a.forEach(function(n,t){t+1<a.length?r=r[n]:(c[n]=r[n],delete r[n])})})})},RENAME_STORAGE:function(n,t){return Object(E.a)(n,function(n){var e=t.id,r=t.path,a=t.name,c=t.new_name,u=n[e];(r?r.split("/"):[]).forEach(function(n){u=u[n]}),u[c]=u[a],delete u[a],u[c].name&&u[c].name.constructor===String&&(u[c].name=c)})},DELETE_STORAGE:function(n,t){return Object(E.a)(n,function(n){var e=t.id;t.paths.forEach(function(t){var r=n[e],a=t.split("/");a.forEach(function(n,t){t+1<a.length?r=r[n]:delete r[n]})})})}}),_=p("",{INIT_STORAGE_PATH:function(n,t){var e=t.id;return"".concat(e)},FORWARD_STORAGE_PATH:function(n,t){var e=t.next;return"".concat(n,"/").concat(e)},BACKWARD_STORAGE_PATH:function(n,t){var e=n.split("/"),r="";return e.forEach(function(n,t){0===t?r=n:t+1<e.length&&(r+="/".concat(n))}),r}}),A=e(58),I=e(20);var y=p(!1,{SWITCH_SIDEBAR:function(n,t){return t.status}}),D=p({},{SET_TARGET:function(n,t){return Object(E.a)(n,function(n){var e=t.data;Object.entries(e).forEach(function(t){var e=Object(A.a)(t,2),r=e[0],a=e[1];return n[r]=a})})}}),j=p(null,{SHOW_ADD_DIALOG:function(n,t){return I.a},SHOW_DELETE_DIALOG:function(n,t){return I.b},SHOW_RENAME_DIALOG:function(n,t){return I.f},SHOW_IMG_DIALOG:function(n,t){return I.e},HIDE_DIALOG:function(n,t){return null}}),S=p({title:"",content:""},{SHOW_NOTIFICATION_DIALOG:function(n,t){return Object(E.a)(n,function(n){var e=t.title,r=t.content;n.title=e,n.content=r})},HIDE_NOTIFICATION_DIALOG:function(n,t){return Object(E.a)(n,function(n){n.title="",n.content=""})}}),g=Object(s.a)({authStatus:O,projects:h,entities:m,documents:b,storage:T,storagePath:_,dialog:j,notification:S,target:D,sidebar:y,projectPopover:v}),w=e(142),R=e(42),G=e.n(R),L=e(68),N=e.n(L),x=e(61),k=Object(a.lazy)(function(){return Promise.all([e.e(2),e.e(7),e.e(8)]).then(e.bind(null,714))}),H=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(2),e.e(10)]).then(e.bind(null,703))}),P=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(2),e.e(11)]).then(e.bind(null,708))});var C=function(){var n=Object(l.c)();return Object(a.useEffect)(function(){n(Object(x.e)())},[]),c.a.createElement(a.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(w.a,null),c.a.createElement(N.a,null,c.a.createElement(G.a,{path:"/signin",component:H}),c.a.createElement(G.a,{path:"/signup",component:P}),c.a.createElement(G.a,{path:"/",component:k})))},W=e(82),M=e.n(W),U=e(91),F=e.n(U),J=Object(f.d)(g,Object(f.a)(d.a)),z=M()({sidebar:{width:300,flexShrink:0},sidebarPaper:{width:300},responsive:{},hide:{display:"none"},palette:{primary:{main:"#a6e0ed"},secondary:{main:"#56db96"},error:{main:"#c91448"},background:{dark:{light:"#555954",main:"#444743",dark:"#2c2e2c"},light:{light:"#f5f5f5",main:"#ededed",dark:"#e6e6e6"}},tonalOffset:.2,contrastThreshold:3}});z.responsive=Object(r.a)({},z.breakpoints.up("md"),{marginLeft:300,width:"calc(100% - ".concat(300,"px)")}),i.a.render(c.a.createElement(F.a,{theme:z},c.a.createElement(l.a,{store:J},c.a.createElement(o.a,null,c.a.createElement(C,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},20:function(n,t,e){"use strict";function r(n){return{type:"SWITCH_SIDEBAR",status:n}}function a(n,t){return{type:"SHOW_NOTIFICATION_DIALOG",title:n,content:t}}function c(){return{type:"HIDE_NOTIFICATION_DIALOG"}}e.d(t,"l",function(){return r}),e.d(t,"j",function(){return a}),e.d(t,"d",function(){return c}),e.d(t,"a",function(){return u}),e.d(t,"b",function(){return i}),e.d(t,"f",function(){return o}),e.d(t,"e",function(){return f}),e.d(t,"h",function(){return l}),e.d(t,"i",function(){return d}),e.d(t,"k",function(){return s}),e.d(t,"c",function(){return p}),e.d(t,"g",function(){return O});var u="ADD_DIALOG",i="DELETE_DIALOG",o="RENAME_DIALOG",f="IMG_DIALOG";function l(){return{type:"SHOW_ADD_DIALOG"}}function d(){return{type:"SHOW_DELETE_DIALOG"}}function s(){return{type:"SHOW_RENAME_DIALOG"}}function p(){return{type:"HIDE_DIALOG"}}function O(n){return{type:"SET_TARGET",data:n}}},27:function(n,t,e){"use strict";var r=e(89),a=e.n(r);t.a=a.a.create({baseURL:"/",responseType:"json",headers:{"Content-Type":"application/json"},withCredentials:!0})},61:function(n,t,e){"use strict";e.d(t,"f",function(){return o}),e.d(t,"g",function(){return f}),e.d(t,"d",function(){return l}),e.d(t,"h",function(){return d}),e.d(t,"e",function(){return s}),e.d(t,"a",function(){return p}),e.d(t,"c",function(){return O}),e.d(t,"b",function(){return E});var r=e(16),a=e.n(r),c=e(26),u=e(27),i=e(20),o=0,f=-1,l=1,d=2,s=function(){return function(){var n=Object(c.a)(a.a.mark(function n(t){var e,r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.get("user/status");case 3:e=n.sent,r=e.data,t({type:"SET_AUTHORIZATION_STATUS",status:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(t){return n.apply(this,arguments)}}()},p=function(n,t){return function(){var e=Object(c.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("user/signin",{username:n,password:t});case 3:r(s()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r(Object(i.j)("Sign In","Fail to sign in")),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}()},O=function(n,t){return function(){var e=Object(c.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("user",{username:n,password:t});case 3:r(s()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r(Object(i.j)("Sign Up","Fail to sign up")),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}()},E=function(){return function(){var n=Object(c.a)(a.a.mark(function n(t){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.post("user/signout");case 3:t(s()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}));return function(t){return n.apply(this,arguments)}}()}},96:function(n,t,e){n.exports=e(138)}},[[96,5,6]]]);
//# sourceMappingURL=main.6381ecf7.chunk.js.map