(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{124:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(17);function r(e,t){if(null==e)return{};var a,r,o=Object(n.a)(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}},146:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(349),c=a(355),i=a(350),l=a(356),s=a(156),d=a(150),m=a(198),p=a(362),u=a(322);var b=function(e){var t=e.request,a=e.btn,n=e.category,o=e.values,c=o.name,i=o.newName,l=o.confirmName,s=e.errors,d=e.touched,b=e.handleChange,g=e.isValid,f=e.setFieldTouched,h=function(e,t){t.persist(),b(t),f(e,!0,!1)};return r.a.createElement(m.a,{container:!0,component:"form",spacing:1,onSubmit:function(e){e.preventDefault(),t({name:c,newName:i,confirmName:l})}},"add"===n?r.a.createElement(m.a,{component:p.a,item:!0,xs:12,id:"name",name:"name",label:"Name",onChange:h.bind(null,"name"),value:c,helperText:d.name?s.name:"",error:d.name&&Boolean(s.name)}):"delete"===n?r.a.createElement(m.a,{component:p.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:h.bind(null,"confirmName"),value:l,helperText:d.confirmName?s.confirmName:"",error:d.confirmName&&Boolean(s.confirmName)}):"rename"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{component:p.a,item:!0,xs:12,id:"newName",name:"newName",label:"New Name",onChange:h.bind(null,"newName"),value:i,helperText:d.newName?s.newName:"",error:d.newName&&Boolean(s.newName)}),r.a.createElement(m.a,{component:p.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:h.bind(null,"confirmName"),value:l,helperText:d.confirmName?s.confirmName:"",error:d.confirmName&&Boolean(s.confirmName)})):null,r.a.createElement(m.a,{item:!0,xs:12,component:u.a,type:"submit",disabled:!g,size:"large"},a))},g=d.object({name:d.string().required("enter name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"name too short").max(50,"name too long")}),f=d.object({name:d.string(),confirmName:d.string().required("re-enter name").matches(/^[a-z0-9_]*$/i,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).oneOf([d.ref("name")],"Confirm Name does not match")}),h=d.object({name:d.string(),confirmName:d.string().required("re-enter name").oneOf([d.ref("name")],"Confirm Name does not match"),newName:d.string().required("enter new name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"new name too short").max(50,"new name too long")}),j={name:""},v=function(e){return{name:e,confirmName:""}},x=function(e){return{name:e,confirmName:"",newName:""}};t.a=function(e){var t=e.title,a=e.content,n=e.targetName,d=e.category,m=e.dialogProps;return r.a.createElement(o.a,m,r.a.createElement(c.a,{id:"dialog-title"},t),r.a.createElement(i.a,null,"add"===d||"delete"===d||"rename"===d?r.a.createElement(r.a.Fragment,null,"delete"===d?r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,a),r.a.createElement(l.a,null,"Please type in the name of the target to confirm")):null,r.a.createElement(s.a,{validationSchema:"add"===d?g:"rename"===d?h:"delete"===d?f:{},initialValues:"add"===d?j:"rename"===d?x(n):"delete"===d?v(n):{},render:function(t){return r.a.createElement(b,Object.assign({},e,t))}})):"notification"===d?r.a.createElement(l.a,null,a):null))}},186:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(115);t.a=Object(o.a)(r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},349:function(e,t,a){"use strict";var n=a(3),r=a(12),o=a(24),c=a(0),i=a.n(c),l=(a(5),a(111)),s=a(112),d=a(116),m=a(680),p=a(659),u=a(660),b=a(41),g=a(271),f={enter:b.b.enteringScreen,exit:b.b.leavingScreen},h=i.a.forwardRef(function(e,t){var a=e.BackdropProps,o=e.children,c=e.classes,s=e.className,b=e.disableBackdropClick,h=void 0!==b&&b,j=e.disableEscapeKeyDown,v=void 0!==j&&j,x=e.fullScreen,E=void 0!==x&&x,O=e.fullWidth,w=void 0!==O&&O,y=e.maxWidth,k=void 0===y?"sm":y,N=e.onBackdropClick,C=e.onClose,S=e.onEnter,P=e.onEntered,W=e.onEntering,T=e.onEscapeKeyDown,B=e.onExit,D=e.onExited,F=e.onExiting,R=e.open,z=e.PaperComponent,M=void 0===z?g.a:z,A=e.PaperProps,I=void 0===A?{}:A,L=e.scroll,V=void 0===L?"paper":L,$=e.TransitionComponent,q=void 0===$?u.a:$,H=e.transitionDuration,Y=void 0===H?f:H,K=e.TransitionProps,U=Object(r.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"]),X=i.a.useRef();return i.a.createElement(m.a,Object(n.a)({className:Object(l.a)(c.root,s),BackdropComponent:p.a,BackdropProps:Object(n.a)({transitionDuration:Y},a),closeAfterTransition:!0,disableBackdropClick:h,disableEscapeKeyDown:v,onEscapeKeyDown:T,onClose:C,open:R,ref:t},U),i.a.createElement(q,Object(n.a)({appear:!0,in:R,timeout:Y,onEnter:S,onEntering:W,onEntered:P,onExit:B,onExiting:F,onExited:D,role:"none presentation"},K),i.a.createElement("div",{className:Object(l.a)(c.container,c["scroll".concat(Object(d.a)(V))]),onClick:function(e){e.target===e.currentTarget&&e.target===X.current&&(X.current=null,N&&N(e),!h&&C&&C(e,"backdropClick"))},onMouseDown:function(e){X.current=e.target}},i.a.createElement(M,Object(n.a)({elevation:24,role:"dialog"},I,{className:Object(l.a)(c.paper,c["paperScroll".concat(Object(d.a)(V))],c["paperWidth".concat(Object(d.a)(String(k)))],I.className,E&&c.paperFullScreen,w&&c.paperFullWidth)}),o))))});t.a=Object(s.a)(function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:48,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 96px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 96px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+96),{maxWidth:"calc(100% - 96px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.sm+96),{maxWidth:"calc(100% - 96px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.md+96),{maxWidth:"calc(100% - 96px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.lg+96),{maxWidth:"calc(100% - 96px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.xl+96),{maxWidth:"calc(100% - 96px)"})},paperFullWidth:{width:"calc(100% - 96px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},{name:"MuiDialog"})(h)},350:function(e,t,a){"use strict";var n=a(3),r=a(12),o=a(0),c=a.n(o),i=(a(5),a(111)),l=a(112),s=c.a.forwardRef(function(e,t){var a=e.classes,o=e.className,l=e.dividers,s=void 0!==l&&l,d=Object(r.a)(e,["classes","className","dividers"]);return c.a.createElement("div",Object(n.a)({className:Object(i.a)(a.root,o,s&&a.dividers),ref:t},d))});t.a=Object(l.a)(function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(s)},355:function(e,t,a){"use strict";var n=a(3),r=a(12),o=a(0),c=a.n(o),i=(a(5),a(111)),l=a(112),s=a(275),d=c.a.forwardRef(function(e,t){var a=e.children,o=e.classes,l=e.className,d=e.disableTypography,m=void 0!==d&&d,p=Object(r.a)(e,["children","classes","className","disableTypography"]);return c.a.createElement("div",Object(n.a)({className:Object(i.a)(o.root,l),ref:t},p),m?a:c.a.createElement(s.a,{component:"h2",variant:"h6"},a))});t.a=Object(l.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(d)},356:function(e,t,a){"use strict";var n=a(3),r=a(0),o=a.n(r),c=(a(5),a(112)),i=a(275),l=o.a.forwardRef(function(e,t){return o.a.createElement(i.a,Object(n.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(c.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(l)},607:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(115);t.a=Object(o.a)(r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create")},608:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(115);t.a=Object(o.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),"DeleteForever")},679:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a.n(n),o=a(22),c=a(0),i=a.n(c),l=a(26),s=a(12),d=a(3),m=(a(5),a(111)),p=a(112),u=a(681),b=a(116),g=i.a.forwardRef(function(e,t){var a=e.children,n=e.classes,r=e.className,o=e.color,c=void 0===o?"default":o,l=e.component,p=void 0===l?"button":l,g=e.disabled,f=void 0!==g&&g,h=e.disableFocusRipple,j=void 0!==h&&h,v=e.focusVisibleClassName,x=e.size,E=void 0===x?"large":x,O=e.variant,w=void 0===O?"round":O,y=Object(s.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.a.createElement(u.a,Object(d.a)({className:Object(m.a)(n.root,r,"round"!==w&&n.extended,"large"!==E&&n["size".concat(Object(b.a)(E))],f&&n.disabled,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[c]),component:p,disabled:f,focusRipple:!j,focusVisibleClassName:Object(m.a)(n.focusVisible,v),ref:t},y),i.a.createElement("span",{className:n.label},a))}),f=Object(p.a)(function(e){return{root:Object(d.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&$focusVisible":{boxShadow:e.shadows[6]},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},{name:"MuiFab"})(g),h=a(675),j=a(186),v=a(21),x=a(197),E=a(607),O=a(115),w=Object(O.a)(i.a.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image"),y=a(608),k=a(264);var N=function(e){var t=Object(l.c)(),a=Object(l.d)(function(e){return e.projectPopover});return i.a.createElement(k.a,{id:a?"Project Menu":null,open:!!a,onClose:function(){return t(Object(x.f)(null))},anchorEl:a,menus:[{title:"Rename",icon:E.a,onClick:function(){t(Object(x.f)(null)),t(Object(v.l)())}},{title:"Change Image",icon:w,onClick:function(){t(Object(x.f)(null)),t(Object(v.j)())}},{title:"Delete",icon:y.a,onClick:function(){t(Object(x.f)(null)),t(Object(v.i)())}}]})},C=a(146),S=a(124),P=a(40),W=a(198),T=a(362),B=a(322),D=a(349),F=a(355),R=a(350),z=a(23),M=10485760,A=["image/jpg","image/jpeg","image/png"];function I(e){var t=e.imgRequest,a=e.imgCategory,n=e.onSucceed,l=e.onFail,s=Object(c.useState)(),d=Object(P.a)(s,2),m=d[0],p=d[1],u=Object(c.useState)(),b=Object(P.a)(u,2),g=b[0],f=b[1];function h(){return(h=Object(o.a)(r.a.mark(function e(){var a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("img",m,m.name.split(/(\\|\/)/g).pop()),e.next=5,z.a.post(t,a,{"Content-Type":"multipart/form-data"});case 5:o=e.sent,n(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}return Object(c.useEffect)(function(){m&&m.size>=M?f("File too large"):m&&!A.includes(m.type)?f("Unsupported Format"):m&&!A.includes(m.type)&&m.size>=M?f("Unsupported Format and File too large"):m?f():f("Upload Image")},[m]),i.a.createElement(W.a,{container:!0,component:"form",spacing:1,onSubmit:function(e){e.preventDefault(),function(){h.apply(this,arguments)}()}},i.a.createElement(W.a,{item:!0,component:T.a,xs:12,id:"img",name:"img",label:"Image",onChange:function(e){return p(e.target.files[0])},files:[m],type:"file",helperText:g,error:Boolean(g)}),i.a.createElement(W.a,{item:!0,xs:12,component:B.a,type:"submit",disabled:Boolean(g),size:"large"},"Change ".concat(a," Image")))}var L=function(e){var t=e.imgCategory,a=e.dialogProps,n=Object(S.a)(e,["imgCategory","dialogProps"]);return i.a.createElement(D.a,a,i.a.createElement(F.a,{id:"dialog-img-title"},"Change ".concat(t," Image")),i.a.createElement(R.a,null,i.a.createElement(I,Object.assign({imgCategory:t},n,e))))},V=i.a.forwardRef(function(e,t){return i.a.createElement(f,Object.assign({},e,{innerRef:t,color:"secondary"}))});t.default=function(e){var t=Object(l.c)(),a=Object(l.d)(function(e){return e.target}),n=Object(l.d)(function(e){return e.dialog}),c=Object(l.d)(function(e){return e.notification});return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{dialogProps:{open:n===v.a,onClose:function(){return t(Object(v.c)())}},category:"add",title:"Add New Project",btn:"Add New Project",request:function(){var e=Object(o.a)(r.a.mark(function e(a){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.name,e.prev=1,e.next=4,z.a.post("project",{name:n});case 4:t(Object(v.c)()),t(Object(v.k)("Add New Project ".concat(n),"Succeed adding new project ".concat(n))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(v.c)()),t(Object(v.k)("Add New Project ".concat(n),"Fail adding new project ".concat(n,", error: ").concat(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}),i.a.createElement(C.a,{dialogProps:{open:n===v.b,onClose:function(){return t(Object(v.c)())}},category:"delete",title:'PERMANENTLY DELETE "'.concat(a.name,'"'),btn:'PERMANENTLY DELETE "'.concat(a.name,'"'),content:'This action will PERMANENTLY DELETE "'.concat(a.name,'". Proceed with caution!'),targetName:a.name,request:function(){var e=Object(o.a)(r.a.mark(function e(n){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.name,e.prev=1,e.next=4,z.a.delete("project/".concat(a.id));case 4:t(Object(v.c)()),t(Object(v.k)("Delete Project ".concat(o),"Succeed deleting project ".concat(o))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(v.c)()),t(Object(v.k)("Delete Project ".concat(o),"Fail deleting project ".concat(o,", error: ").concat(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}),i.a.createElement(C.a,{dialogProps:{open:n===v.f,onClose:function(){return t(Object(v.c)())}},category:"rename",title:'Rename "'.concat(a.name,'"'),btn:'Rename "'.concat(a.name,'"'),targetName:a.name,request:function(){var e=Object(o.a)(r.a.mark(function e(n){var o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.name,c=n.newName,e.prev=1,e.next=4,z.a.post("project/".concat(a.id,"/rename"),{name:c});case 4:t(Object(v.c)()),t(Object(v.k)("Rename Project ".concat(o),"Succeed renaming project ".concat(o," into ").concat(c))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(v.c)()),t(Object(v.k)("Rename Project ".concat(o),"Fail renaming project ".concat(o," into ").concat(c,", error: ").concat(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}),i.a.createElement(L,{dialogProps:{open:n===v.e,onClose:function(){return t(Object(v.c)())}},imgCategory:"Project",imgRequest:"project/".concat(a.id,"/img"),onSucceed:function(e){t(Object(v.c)()),t(Object(v.k)("Change Project Image","Succeed changing project image"))},onFail:function(e){t(Object(v.c)()),t(Object(v.k)("Change Project Image","Fail changing project image, error: ".concat(e)))}}),i.a.createElement(C.a,{category:"notification",title:c.title,content:c.content,dialogProps:{open:""!==c.title&&""!==c.content,onClose:function(){return t(Object(v.d)())}}}),i.a.createElement(N,null),i.a.createElement(h.a,{component:V,position:"fixed",bottom:30,right:30,zIndex:50,onClick:function(){return t(Object(v.h)())}},i.a.createElement(j.a,null)))}}}]);
//# sourceMappingURL=8.14e409dd.chunk.js.map