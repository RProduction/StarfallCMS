(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{18:function(t,n,e){"use strict";e.d(n,"c",function(){return r}),e.d(n,"e",function(){return a}),e.d(n,"g",function(){return c}),e.d(n,"d",function(){return u}),e.d(n,"b",function(){return i}),e.d(n,"a",function(){return o}),e.d(n,"f",function(){return f});var r="FIRST_BOOT",a="NOT_AUTHORIZED",c="USER",u="MANAGER",i="CREATOR",o={0:r,"-1":a,1:c,2:u,3:i};function f(t){return{type:"SET_AUTHORIZATION_STATUS",status:t}}},22:function(t,n,e){"use strict";function r(t){return{type:"SWITCH_SIDEBAR",status:t}}function a(t,n){return{type:"SHOW_NOTIFICATION_DIALOG",title:t,content:n}}function c(){return{type:"HIDE_NOTIFICATION_DIALOG"}}e.d(n,"m",function(){return r}),e.d(n,"k",function(){return a}),e.d(n,"d",function(){return c}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return i}),e.d(n,"f",function(){return o}),e.d(n,"e",function(){return f}),e.d(n,"h",function(){return l}),e.d(n,"i",function(){return d}),e.d(n,"l",function(){return E}),e.d(n,"j",function(){return O}),e.d(n,"c",function(){return s}),e.d(n,"g",function(){return p});var u="ADD_DIALOG",i="DELETE_DIALOG",o="RENAME_DIALOG",f="IMG_DIALOG";function l(){return{type:"SHOW_ADD_DIALOG"}}function d(){return{type:"SHOW_DELETE_DIALOG"}}function E(){return{type:"SHOW_RENAME_DIALOG"}}function O(){return{type:"SHOW_IMG_DIALOG"}}function s(){return{type:"HIDE_DIALOG"}}function p(t){return{type:"SET_TARGET",data:t}}},41:function(t,n,e){"use strict";var r=e(62),a=e.n(r);n.a=a.a.create({baseURL:"/",responseType:"json",headers:{"Content-Type":"application/json"}})},73:function(t,n,e){t.exports=e(99)},99:function(t,n,e){"use strict";e.r(n);var r=e(45),a=e(0),c=e.n(a),u=e(26),i=e.n(u),o=e(28),f=e(35),l=e.n(f),d=e(40),E=e(25),O=e(17),s=e(109),p=e(21),h=e(41),T=e(18);var v=function(){switch(Object(p.d)(function(t){return t.authStatus})){case T.c:return c.a.createElement(O.a,{to:"/signup"});case T.e:return c.a.createElement(O.a,{to:"/signin"});case T.g:return c.a.createElement(O.a,{to:"/"});default:return null}},_=Object(a.lazy)(function(){return Promise.all([e.e(4),e.e(8),e.e(10)]).then(e.bind(null,683))}),b=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(1),e.e(4),e.e(13)]).then(e.bind(null,667))}),m=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(1),e.e(4),e.e(16),e.e(17)]).then(e.bind(null,668))});var A=function(){var t=Object(p.c)(),n=Object(a.useState)(null),e=Object(E.a)(n,2),r=e[0],u=e[1];function i(){return(i=Object(d.a)(l.a.mark(function t(){var n,e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("user/status");case 3:n=t.sent,e=n.data,r!==e&&u(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))).apply(this,arguments)}return Object(a.useEffect)(function(){!function(){i.apply(this,arguments)}()},[]),Object(a.useEffect)(function(){null!==r&&t(Object(T.f)(T.a[r]))},[r]),c.a.createElement(a.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(s.a,null),c.a.createElement(v,null),c.a.createElement(O.d,null,c.a.createElement(O.b,{path:"/signin",component:b}),c.a.createElement(O.b,{path:"/signup",component:m}),c.a.createElement(O.b,{path:"/",component:_})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=e(19);function y(t,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return n.hasOwnProperty(r.type)?n[r.type](e,r):e}}var D=y("",{SET_AUTHORIZATION_STATUS:function(t,n){return n.status}}),S=e(2);var j=y(null,{SET_PROJECT_POPOVER:function(t,n){return n.anchor}}),R=y({},{ADD_PROJECTS:function(t,n){return Object(S.a)(t,function(t){var e=n.projects,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;t[o.id]={id:o.id,name:o.name,img:o.img,created:o.created,updated:o.updated,publicKey:o.publicKey}}}catch(f){a=!0,c=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},DELETE_PROJECT:function(t,n){return Object(S.a)(t,function(t){delete t[n.id]})},RENAME_PROJECT:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.name,a=n.updated;t[e].name=r,t[e].updated=a})},IMG_PROJECT:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.img,a=n.updated;t[e].img=r,t[e].updated=a})}}),g=y({},{ADD_ENTITIES:function(t,n){return Object(S.a)(t,function(t){var e=n.entities,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;t[o.id]={id:o.id,projectId:o.projectId,name:o.name,created:o.created,updated:o.updated,schema:o.schema}}}catch(f){a=!0,c=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},DELETE_ENTITIES:function(t,n){return Object(S.a)(t,function(t){var e=n.entities,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)delete t[u.value]}catch(o){a=!0,c=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},RENAME_ENTITY:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.name,a=n.updated;t[e].name=r,t[e].updated=a})},SET_ENTITY_SCHEMA:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.schema,a=n.updated;t[e].schema=r,t[e].updated=a})}}),G=y({},{ADD_DOCUMENTS:function(t,n){return Object(S.a)(t,function(t){var e=n.documents,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;t[o.id]=o}}catch(f){a=!0,c=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},DELETE_DOCUMENTS:function(t,n){return Object(S.a)(t,function(t){var e=n.documents,r=!0,a=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)delete t[u.value]}catch(o){a=!0,c=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}})},MODIFY_DOCUMENT:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.updated,a=n.data;t[e].updated=r,t[e].data=a})}}),L=y({data:{},type:{}},{GENERATE_FIELD:function(t,n){return Object(S.a)(t,function(t){var e=n.data,r=n.fieldType;t.data=e,t.type=r})},ADD_FIELD:function(t,n){return Object(S.a)(t,function(t){var e=n.keys,r=n.fieldType,a=t.type;e.forEach(function(t,n){n+1<e.length?a=a[t]:a[t]="object"===r?{}:"array"===r?["integer"]:r})})},SET_FIELD:function(t,n){return Object(S.a)(t,function(t){var e=n.keys,r=n.value,a=t.data;e.forEach(function(t,n){n+1<e.length?a=a[t]:a[t]=r})})},DELETE_FIELD:function(t,n){return Object(S.a)(t,function(t){var e=n.keys,r=t.type;e.forEach(function(t,n){n+1<e.length?r=r[t]:delete r[t]})})}});var N=y({},{INIT_STORAGE:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.data;t[e]=r})},UPLOAD_STORAGE:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.path,a=n.files,c=t[e];r.split("/").forEach(function(t){c=c[t]}),a.forEach(function(t){return c[t.name]={name:t.name,size:t.size,created:t.created,modified:t.modified}})})},FOLDER_STORAGE:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.path,a=t[e],c=r.split("/");c.forEach(function(t,n){n+1<c.length?a=a[t]:a[t]={}})})},MOVE_STORAGE:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.path,a=n.targets,c=t[e];r.split("/").forEach(function(t){c=c[t]}),a.forEach(function(n){var r=t[e],a=n.split("/");a.forEach(function(t,n){n+1<a.length?r=r[t]:(c[t]=r[t],delete r[t])})})})},RENAME_STORAGE:function(t,n){return Object(S.a)(t,function(t){var e=n.id,r=n.path,a=n.name,c=n.new_name,u=t[e];r.split("/").forEach(function(t){u=u[t]}),u[c]=u[a],delete u[a]})},DELETE_STORAGE:function(t,n){return Object(S.a)(t,function(t){var e=n.id;n.paths.forEach(function(n){var r=t[e],a=n.split("/");a.forEach(function(t,n){n+1<a.length?r=r[t]:delete r[t]})})})}}),w=y("",{INIT_STORAGE_PATH:function(t,n){var e=n.id;return"".concat(e)},FORWARD_STORAGE_PATH:function(t,n){var e=n.next;return"".concat(t,"/").concat(e)},BACKWARD_STORAGE_PATH:function(t,n){var e=t.split("/"),r="";return e.forEach(function(t,n){0===n?r=t:n+1<e.length&&(r+="/".concat(t))}),r}}),H=e(22);var C=y(!1,{SWITCH_SIDEBAR:function(t,n){return n.status}}),P=y({},{SET_TARGET:function(t,n){return Object(S.a)(t,function(t){var e=n.data;Object.entries(e).forEach(function(n){var e=Object(E.a)(n,2),r=e[0],a=e[1];return t[r]=a})})}}),k=y(null,{SHOW_ADD_DIALOG:function(t,n){return H.a},SHOW_DELETE_DIALOG:function(t,n){return H.b},SHOW_RENAME_DIALOG:function(t,n){return H.f},SHOW_IMG_DIALOG:function(t,n){return H.e},HIDE_DIALOG:function(t,n){return null}}),M=y({title:"",content:""},{SHOW_NOTIFICATION_DIALOG:function(t,n){return Object(S.a)(t,function(t){var e=n.title,r=n.content;t.title=e,t.content=r})},HIDE_NOTIFICATION_DIALOG:function(t,n){return Object(S.a)(t,function(t){t.title="",t.content=""})}}),W=Object(I.c)({authStatus:D,projects:R,entities:g,documents:G,currentDocument:L,storage:N,storagePath:w,dialog:k,notification:M,target:P,sidebar:C,projectPopover:j}),x=e(64),F=e(65),U=e(110),J=Object(I.e)(W,Object(I.a)(x.a)),B=Object(F.a)({sidebar:{width:300,flexShrink:0},sidebarPaper:{width:300},responsive:{},hide:{display:"none"},palette:{primary:{main:"#a6e0ed"},secondary:{main:"#56db96"},error:{main:"#c91448"},background:{dark:{light:"#555954",main:"#444743",dark:"#2c2e2c"},light:{light:"#f5f5f5",main:"#ededed",dark:"#e6e6e6"}},tonalOffset:.2,contrastThreshold:3}});B.responsive=Object(r.a)({},B.breakpoints.up("md"),{marginLeft:300,width:"calc(100% - ".concat(300,"px)")}),i.a.render(c.a.createElement(U.a,{theme:B},c.a.createElement(p.a,{store:J},c.a.createElement(o.a,null,c.a.createElement(A,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[73,6,7]]]);
//# sourceMappingURL=main.7cc67106.chunk.js.map