{"version":3,"sources":["redux/selectors/entitySelectors.js","redux/actions/storageActions.js","components/ContentContainer.js","redux/selectors/projectSelectors.js","redux/actions/projectActions.js","redux/actions/documentActions.js","redux/selectors/documentSelectors.js","components/PopoverMenu.js","redux/actions/entityActions.js","redux/schemas/database.js","components/HeaderUserMenu.js","components/HeaderLink.js","components/Header.js","components/Footer.js","components/SideBarEntity.js","components/SideBarProject.js","components/SideBarContent.js","components/SideBar.js","WebsocketClient.js","Admin.js"],"names":["__webpack_require__","d","__webpack_exports__","selectEntitiesInProject","selectEntitiesInProjectByName","selectEntityInProjectByName","reselect__WEBPACK_IMPORTED_MODULE_0__","_projectSelectors__WEBPACK_IMPORTED_MODULE_1__","_selectEntities","state","entities","selectAllEntities","Object","values","createSelector","_","id","filter","value","projectId","name","selectProjectByName","select","project","__","find","FetchStorage","_ref","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","Axios","get","concat","sent","type","data","t0","console","log","stop","_x","apply","this","arguments","UploadStorage","path","files","FolderStorage","MoveStorage","targets","RenameStorage","new_name","DeleteStorage","paths","InitStoragePath","ForwardStoragePath","BackwardStoragePath","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_Container__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Box__WEBPACK_IMPORTED_MODULE_2__","ContentContainer","props","createElement","assign","minHeight","component","Container","maxWidth","children","selectAllProjects","_selectProjects","projects","SetProjectPopover","anchor","AddProjects","DeleteProject","getState","DeleteEntities","map","_x2","RenameProject","updated","publicKey","ImgProject","img","InitDatabase","_ref2","_callee2","_projects","normalized","_context2","normalizeProjects","result","forEach","push","img_url","created","created_at","updated_at","public_key","project_id","AddEntities","FetchDocuments","_x3","AddDocuments","documents","DeleteDocuments","ids","ModifyDocument","entityId","normalizeDocuments","entity_id","selectDocument","selectDocumentsInEntity","selectDocumentsInEntityByName","_entitySelectors__WEBPACK_IMPORTED_MODULE_1__","_selectDocuments","selectAllDocuments","entity","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_4__","Icon","IconComponent","PopoverMenu","menus","index","title","onClick","key","icon","RenameEntity","normalizr__WEBPACK_IMPORTED_MODULE_0__","document","schema","Entity","idAttribute","documentList","Array","entityList","projectList","input","normalize","HeaderUserMenu","close","useDispatch","react_default","open","onClose","anchorEl","Settings","ExitToApp","AuthSignOut","HeaderLink","location","_useState","useState","_useState2","slicedToArray","params","setParams","useEffect","count","pathname","match","length","matchPath","exact","Fragment","Link_default","to","useStyle","makeStyles","theme","root","objectSpread","backgroundColor","palette","primary","light","responsive","link","& a","color","paddingLeft","spacing","paddingRight","fontSize","whiteSpace","overflow","textOverflow","hide","Header","style","sidebar","useSelector","setAnchor","AppBar","position","className","Toolbar","Hidden","mdUp","IconButton","aria-label","SwitchSideBar","edge","clsx","Menu_default","Box","display","flexGrow","container","Typography","variant","align","components_HeaderLink","aria-haspopup","e","currentTarget","AccountCircle_default","components_HeaderUserMenu","text","textAlign","lineHeight","Footer","SideBarEntity","projectName","ListItem","divider","ButtonBase","Link","ListItemText","btn","SideBarProject","useMemo","setOpen","_useState3","_useState4","openEntities","setOpenEntities","button","ExpandLess_default","ExpandMore_default","Collapse","in","timeout","unmountOnExit","List","disablePadding","components_SideBarEntity","SideBarContent","components_SideBarProject","paper","main","sidebarPaper","direction","alignItems","padding","mixins","toolbar","justifyContent","SideBar","Drawer","classes","ModalProps","keepMounted","ChevronLeft_default","ChevronRight_default","Divider","components_SideBarContent","smDown","WebsocketClient","ws","Ws","on","subscribe","storage","msg","err","connect","Overview","lazy","then","bind","Project","Promise","all","Document","Storage","marginTop","paddingTop","paddingBottom","background","Admin","_status","authStatus","FIRST_BOOT","Redirect_default","NOT_AUTHORIZED","components_Header","components_SideBar","src_WebsocketClient","react","fallback","Switch_default","Route_default","components_Footer"],"mappings":"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","file":"static/js/8.3510d0c5.chunk.js","sourcesContent":["import {createSelector} from 'reselect';\r\nimport {selectProjectByName} from './projectSelectors';\r\n\r\n// entity selectors\r\nconst _selectEntities = state => state.entities;\r\nexport const selectEntityIds = state => Object.keys(_selectEntities(state));\r\nexport const selectEntity = (state, id) => _selectEntities(state)[id];\r\nexport const selectAllEntities = state => Object.values(_selectEntities(state));\r\nexport const selectEntitiesInProject = ()=>{\r\n    return createSelector(\r\n        selectAllEntities,\r\n        (_, id) => id,\r\n        (entities, id)=>{\r\n            return entities.filter(value => value.projectId === id);\r\n        }\r\n    );\r\n};\r\nexport const selectEntitiesInProjectByName = ()=>{\r\n    return createSelector(\r\n        selectAllEntities,\r\n        (state, name) => {\r\n            const select = selectProjectByName();\r\n            return select(state, name);\r\n        },\r\n        (entities, project)=>{\r\n            return {\r\n                project: project,\r\n                entities: entities.filter(value => value.projectId === project.id)\r\n            };\r\n        }\r\n    );\r\n};\r\nexport const selectEntityInProjectByName = ()=>{\r\n    return createSelector(\r\n        selectAllEntities,\r\n        (state, project, _) => {\r\n            const select = selectProjectByName();\r\n            return select(state, project);\r\n        },\r\n        (_, __, name) => name,\r\n        (entities, project, name)=>{\r\n            return entities.find(\r\n                value => value.name === name && value.projectId === project.id\r\n            );\r\n        }\r\n    );\r\n};","import Axios from '../../Axios';\r\n\r\n// actions for storage\r\n\r\n// get data from server containing storage list per project id\r\nexport const FetchStorage = (projectId) => async dispatch => {\r\n    try{\r\n        const res = await Axios.get(`storage/${projectId}`);\r\n        dispatch({type: \"INIT_STORAGE\", id: projectId, data: res.data});\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n// receive project id, path, files\r\nexport const UploadStorage = (id, path, files) => {\r\n    return {\r\n        type: \"UPLOAD_STORAGE\", \r\n        id: id,\r\n        path: path,\r\n        files: files\r\n    };\r\n}\r\n\r\nexport const FolderStorage = (id, path) => {\r\n    return {\r\n        type: \"FOLDER_STORAGE\", \r\n        id: id,\r\n        path: path\r\n    };\r\n}\r\n\r\nexport const MoveStorage = (id, path, targets) => {\r\n    return {\r\n        type: \"MOVE_STORAGE\", \r\n        id: id,\r\n        path: path,\r\n        targets: targets\r\n    };\r\n}\r\n\r\nexport const RenameStorage = (id, path, name, new_name) => {\r\n    return {\r\n        type: \"RENAME_STORAGE\", \r\n        id: id,\r\n        path: path,\r\n        name: name,\r\n        new_name: new_name\r\n    };\r\n}\r\n\r\nexport const DeleteStorage = (id, paths) => {\r\n    return {\r\n        type: \"DELETE_STORAGE\", \r\n        id: id,\r\n        paths: paths\r\n    };\r\n}\r\n\r\n// actions for storage path\r\n// receive project id\r\nexport function InitStoragePath(id){\r\n    return {type: \"INIT_STORAGE_PATH\", id: id};\r\n}\r\n\r\nexport function ForwardStoragePath(next){\r\n    return {type: \"FORWARD_STORAGE_PATH\", next: next};\r\n}\r\n\r\nexport function BackwardStoragePath(){\r\n    return {type: \"BACKWARD_STORAGE_PATH\"};\r\n}","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nfunction ContentContainer(props){\r\n    return(\r\n        <Box minHeight='100vh' component={Container} maxWidth=\"xl\" {...props}>\r\n            {\r\n                props.children\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ContentContainer;","import {createSelector} from 'reselect';\r\n\r\n// project selectors\r\nconst _selectProjects = state => state.projects;\r\nexport const selectProjectIds = state => Object.keys(_selectProjects(state));\r\nexport const selectProject = (state, id) => _selectProjects(state)[id];\r\nexport const selectAllProjects = state => Object.values(_selectProjects(state));\r\nexport const selectProjectByName = ()=>{\r\n    return createSelector(\r\n        selectAllProjects,\r\n        (_, name) => name,\r\n        (projects, name)=>{\r\n            return projects.find(value => value.name === name);\r\n        }\r\n    );\r\n};","import {DeleteEntities, AddEntities} from './entityActions';\r\nimport {FetchDocuments} from './documentActions';\r\nimport {FetchStorage} from './storageActions';\r\nimport {selectEntitiesInProject} from '../selectors/entitySelectors';\r\nimport Axios from '../../Axios';\r\nimport {normalizeProjects} from '../schemas/database';\r\n\r\n// UI Overview PopoverMenu\r\nexport function SetProjectPopover(anchor){\r\n    return {type: \"SET_PROJECT_POPOVER\", anchor: anchor};\r\n}\r\n\r\n// receive array of id, name, updated, created, publicKey\r\nexport const AddProjects = projects => {\r\n    return {\r\n        type: \"ADD_PROJECTS\", \r\n        projects: projects\r\n    };\r\n}\r\n\r\nexport const DeleteProject = id => async (dispatch, getState) => {\r\n    // must delete entities first before deleting project\r\n    // entities will search project indexes\r\n    // then project can delete it's indexes\r\n    const select = selectEntitiesInProject();\r\n    const entities = select(getState(), id);\r\n    dispatch(DeleteEntities(entities.map(value => value.id)));\r\n    \r\n    // delete project\r\n    dispatch({type: \"DELETE_PROJECT\", id: id});\r\n}\r\n\r\nexport const RenameProject = (id, name, updated, publicKey) => {\r\n    return {\r\n        type: \"RENAME_PROJECT\", \r\n        id: id, \r\n        name: name,\r\n        updated: updated,\r\n        publicKey: publicKey\r\n    };\r\n}\r\n\r\nexport const ImgProject = (id, img, updated) => {\r\n    return {\r\n        type: \"IMG_PROJECT\", \r\n        id: id, \r\n        img: img,\r\n        updated: updated\r\n    };\r\n}\r\n\r\n// get data from server containing project with related entity\r\n// and dispatch multiple action from this function\r\nexport const InitDatabase = () => async dispatch => {\r\n    // normalized containing\\\r\n    /*\r\n        entities:\r\n            entities: object\r\n            projects: object\r\n        result: Array()\r\n            0: _id\r\n    */\r\n    try{\r\n        const _projects = await Axios.get('project');\r\n        const normalized = normalizeProjects(_projects.data);\r\n        let projects = [];\r\n        let entities = [];\r\n        normalized.result.forEach(value =>{\r\n            projects.push({\r\n                id: normalized.entities.projects[value].id,\r\n                name: normalized.entities.projects[value].name,\r\n                img: normalized.entities.projects[value].img_url,\r\n                created: normalized.entities.projects[value].created_at,\r\n                updated: normalized.entities.projects[value].updated_at,\r\n                publicKey: normalized.entities.projects[value].public_key\r\n            });\r\n            dispatch(AddProjects(projects));\r\n\r\n            normalized.entities.projects[value].entities.forEach(value =>{\r\n                entities.push({\r\n                    id: normalized.entities.entities[value].id,\r\n                    projectId: normalized.entities.entities[value].project_id,\r\n                    name: normalized.entities.entities[value].name,\r\n                    created: normalized.entities.entities[value].created_at,\r\n                    updated: normalized.entities.entities[value].updated_at\r\n                });\r\n            });\r\n        });\r\n        dispatch(AddEntities(entities));\r\n\r\n        entities.forEach(value => dispatch(FetchDocuments(value.id)));\r\n        projects.forEach(value => dispatch(FetchStorage(value.id)));\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import {normalizeDocuments} from '../schemas/database';\r\nimport Axios from '../../Axios';\r\n\r\n// receive array of id, entityId, updated, created, data\r\nexport const AddDocuments = documents => {\r\n    return {\r\n        type: \"ADD_DOCUMENTS\", \r\n        documents: documents\r\n    };\r\n}\r\n\r\n// accept array of id\r\nexport const DeleteDocuments = ids => {\r\n    return {type: \"DELETE_DOCUMENTS\", documents: ids};\r\n}\r\n\r\n// receive object id, updated, data\r\nexport const ModifyDocument = (id, updated, data) => {\r\n    return {type: \"MODIFY_DOCUMENT\", id: id, updated: updated, data: data};\r\n}\r\n\r\nexport const FetchDocuments = (entityId) => async dispatch => {\r\n    try{\r\n        const res = await Axios.get(`document/${entityId}`);\r\n        const normalized = normalizeDocuments(res.data);\r\n        let documents = [];\r\n        normalized.result.forEach(value =>{\r\n            documents.push({\r\n                id: normalized.entities.documents[value].id,\r\n                entityId: normalized.entities.documents[value].entity_id,\r\n                created: normalized.entities.documents[value].created_at,\r\n                updated: normalized.entities.documents[value].updated_at,\r\n                data: normalized.entities.documents[value].data\r\n            });\r\n        });\r\n        \r\n        dispatch({type: 'SET_DOCUMENT_INIT', entityId: entityId});\r\n        dispatch(AddDocuments(documents));\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import {createSelector} from 'reselect';\r\nimport {selectEntityInProjectByName} from './entitySelectors';\r\n\r\nconst _selectDocuments = state => state.documents;\r\nexport const selectDocumentIds = state => Object.keys(_selectDocuments(state));\r\nexport const selectDocument = (state, id) => _selectDocuments(state)[id];\r\nexport const selectAllDocuments = state => Object.values(_selectDocuments(state));\r\nexport const selectDocumentsInEntity = ()=>{\r\n    return createSelector(\r\n        selectAllDocuments,\r\n        (_, id) => id,\r\n        (documents, id)=>{\r\n            return documents.filter(value => value.entityId === id);\r\n        }\r\n    );\r\n};\r\n\r\n// if empty then return entity\r\nexport const selectDocumentsInEntityByName = ()=>{\r\n    return createSelector(\r\n        selectAllDocuments,\r\n        (state, project, name)=>{\r\n            const select = selectEntityInProjectByName();\r\n            return select(state, project, name);\r\n        },\r\n        (documents, entity)=>{\r\n            return {\r\n                entity: entity,\r\n                documents: documents.filter(value => value.entityId === entity.id)\r\n            };\r\n        }\r\n    );\r\n};","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Icon({IconComponent}){\r\n    if(!IconComponent) return null;\r\n    return(\r\n        <ListItemIcon>\r\n            <IconComponent/>\r\n        </ListItemIcon>\r\n    )\r\n}\r\n\r\n// menus is list consist of\r\n// {title: string, onClick: fn, icon: component}\r\nfunction PopoverMenu(props){\r\n    const {menus} = props;\r\n\r\n    return(\r\n        <Menu {...props}>\r\n        {\r\n            menus.map((value, index)=>{\r\n                const title = value.title ? value.title : '';\r\n                const onClick = value.onClick ? value.onClick : ()=>{};\r\n\r\n                return(\r\n                    <MenuItem key={index} onClick={onClick}>\r\n                        <Icon IconComponent={value.icon}/>\r\n                        <Typography>{title}</Typography>\r\n                    </MenuItem>\r\n                )\r\n            })\r\n        }\r\n        </Menu>\r\n    )\r\n}\r\n\r\nPopoverMenu.propTypes = {\r\n    menus: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            title: PropTypes.string.isRequired,\r\n            icon: PropTypes.elementType,\r\n            onClick: PropTypes.func.isRequired\r\n        }).isRequired\r\n    ).isRequired,\r\n    ...Menu.propTypes\r\n}\r\n\r\nexport default PopoverMenu;","import {DeleteDocuments} from './documentActions';\r\nimport {selectDocumentsInEntity} from '../selectors/documentSelectors';\r\n\r\n// receive array of id, projectId, name, updated, created\r\nexport const AddEntities = entities => {\r\n    return {\r\n        type: \"ADD_ENTITIES\", \r\n        entities: entities\r\n    };\r\n}\r\n\r\n// accept array of id\r\nexport const DeleteEntities = ids => async (dispatch, getState) => {\r\n    // delete documents first then can safely delete entities\r\n    const select = selectDocumentsInEntity();\r\n    let documents = [];\r\n    ids.forEach(value => {\r\n        const temp = select(getState(), value);\r\n        temp.forEach(value => documents.push(value.id));\r\n    });\r\n\r\n    dispatch(DeleteDocuments(documents));\r\n    dispatch({type: \"DELETE_ENTITIES\", entities: ids});\r\n}\r\n\r\nexport const RenameEntity = (id, name, updated) => {\r\n    return {\r\n        type: \"RENAME_ENTITY\", \r\n        id: id,\r\n        name: name,\r\n        updated: updated\r\n    };\r\n}","import {schema, normalize} from 'normalizr';\r\n\r\nconst document = new schema.Entity('documents', {}, {idAttribute: 'id'});\r\nconst documentList = new schema.Array(document);\r\n\r\nconst entity = new schema.Entity('entities', {\r\n    documents: documentList\r\n}, {idAttribute: 'id'});\r\nconst entityList = new schema.Array(entity);\r\n\r\nconst project = new schema.Entity('projects', {\r\n    entities: entityList\r\n}, {idAttribute: 'id'});\r\nconst projectList = new schema.Array(project);\r\n\r\nexport function normalizeProjects(input){\r\n    return normalize(input, projectList);\r\n}\r\n\r\nexport function normalizeEntities(input){\r\n    return normalize(input, entityList);\r\n}\r\n\r\nexport function normalizeDocuments(input){\r\n    return normalize(input, documentList);\r\n}","import React from 'react';\r\n\r\nimport ExitToApp from '@material-ui/icons/ExitToApp';\r\nimport Settings from '@material-ui/icons/Settings';\r\n\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport {AuthSignOut} from '../redux/actions/authorizationActions';\r\nimport PopoverMenu from './PopoverMenu';\r\n\r\nfunction HeaderUserMenu(props){\r\n    const {anchor, close} = props;\r\n    const dispatch = useDispatch();\r\n\r\n    return(\r\n        <PopoverMenu\r\n            id={anchor ? 'User' : null}\r\n            open={anchor ? true : false}\r\n            onClose={() => close()}\r\n            anchorEl={anchor}\r\n            menus={[\r\n                {\r\n                    title: \"User List\",\r\n                    icon: Settings,\r\n                    onClick: () => {\r\n                        \r\n                    }\r\n                },\r\n                {\r\n                    title: \"Sign Out\",\r\n                    icon: ExitToApp,\r\n                    onClick: () => dispatch(AuthSignOut())\r\n                }\r\n            ]}\r\n        />\r\n    );\r\n}\r\n\r\nexport default HeaderUserMenu;","import React, {useEffect, useState} from 'react';\r\n\r\nimport Link from 'react-router-dom/Link';\r\nimport matchPath from 'react-router-dom/matchPath';\r\n\r\nfunction HeaderLink(props){\r\n    const {location} = props;\r\n    const [params, setParams] = useState({});\r\n    \r\n    useEffect(()=>{\r\n        // calculate how many strip in pathname\r\n        // then apply matchPath function conditionally\r\n        const count = (location.pathname.match(/\\/./g)||[]).length;\r\n        if(count === 0){\r\n            setParams({});\r\n        }else if(count === 1){\r\n            setParams(matchPath(location.pathname, {\r\n                path: \"/:project\", exact: true\r\n            }).params);\r\n        }else if(count === 2){\r\n            setParams(matchPath(location.pathname, {\r\n                path: \"/:project/:entity\", exact: true\r\n            }).params);\r\n        }else if(count === 3){\r\n            setParams(matchPath(location.pathname, {\r\n                path: \"/:project/:entity/:document\", exact: true\r\n            }).params);\r\n        }\r\n    }, [location.pathname]);\r\n\r\n    const {project, entity, document} = params;\r\n    // from root => project => entity\r\n    return(\r\n        <React.Fragment>\r\n            <Link to='/'> StarfallCMS </Link>\r\n            {project ? \r\n                <React.Fragment>\r\n                    /\r\n                    <Link to={`/${project}`}> {project} </Link>\r\n                </React.Fragment> : null\r\n            }\r\n            {entity ? \r\n                <React.Fragment>\r\n                    /\r\n                    <Link to={`/${project}/${entity}`}> {entity} </Link>\r\n                </React.Fragment> : null\r\n            }\r\n            {document ? \r\n                <React.Fragment>\r\n                    /\r\n                    <Link to={`/${project}/${entity}/${document}`}> {document} </Link>\r\n                </React.Fragment> : null\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default HeaderLink;","import React, {useState} from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Box from '@material-ui/core/Box';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nimport Menu from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\n\r\nimport clsx from 'clsx';\r\n\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\nimport {SwitchSideBar} from '../redux/actions/globalActions';\r\nimport HeaderUserMenu from './HeaderUserMenu';\r\nimport HeaderLink from './HeaderLink';\r\n\r\nconst useStyle = makeStyles(theme=>({\r\n    root: {\r\n        backgroundColor: theme.palette.primary.light,\r\n        ...theme.responsive\r\n    },\r\n    link: {\r\n        '& a': {\r\n            color: 'black',\r\n            paddingLeft: theme.spacing(0.35),\r\n            paddingRight: theme.spacing(0.35),\r\n            fontSize: '115%'\r\n        },\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    hide: theme.hide\r\n}));\r\n\r\nfunction Header(props){\r\n    const style = useStyle();\r\n    const dispatch = useDispatch();\r\n    const sidebar = useSelector(state => state.sidebar);\r\n    const [anchor, setAnchor] = useState(null);\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <AppBar position=\"fixed\" className={style.root}>\r\n                <Toolbar>\r\n                    <Hidden mdUp>\r\n                        <IconButton\r\n                            color=\"inherit\"\r\n                            aria-label=\"Open drawer\"\r\n                            onClick={() => dispatch(SwitchSideBar(!sidebar))}\r\n                            edge=\"start\"\r\n                            className={clsx(sidebar && style.hide)}\r\n                        >\r\n                            <Menu />\r\n                        </IconButton>\r\n                    </Hidden>\r\n                    <Box display=\"flex\" flexGrow={1}\r\n                        container={Typography} variant=\"h6\" align=\"center\"\r\n                        className={style.link}\r\n                    >\r\n                        <HeaderLink {...props}/>\r\n                    </Box>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Account of current user\"\r\n                        aria-haspopup=\"true\"\r\n                        color=\"inherit\"\r\n                        onClick={e => setAnchor(e.currentTarget)}\r\n                    >\r\n                        <AccountCircle />\r\n                    </IconButton>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <HeaderUserMenu anchor={anchor} close={()=>setAnchor(null)}/>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: '#292D2E',\r\n        ...theme.responsive\r\n    },\r\n    text: {\r\n        color: 'white',\r\n        fontSize: '125%',\r\n        textAlign: 'center',\r\n        lineHeight: '50px'\r\n    }\r\n}));\r\n\r\nfunction Footer(){\r\n    const style = useStyle();\r\n    return(\r\n        <footer className={style.root}>\r\n            <Typography variant=\"h3\" className={style.text}>\r\n                Copyright Starfall Production\r\n            </Typography>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport Link from 'react-router-dom/Link';\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nconst useStyle = makeStyles({\r\n    root: {\r\n        flexGrow: 1\r\n    }\r\n});\r\n\r\nfunction SideBarEntity(props){\r\n    const style = useStyle();\r\n    const {name, projectName} = props;\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <ListItem divider>\r\n                <ButtonBase component={Link} \r\n                    to={`/${projectName}/${name}`}\r\n                    className={style.root}\r\n                >\r\n                    <ListItemText primary={name}/>\r\n                </ButtonBase>\r\n            </ListItem>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default SideBarEntity;","import React, {useState, useMemo} from 'react';\r\nimport Link from 'react-router-dom/Link';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nimport clsx from 'clsx';\r\n\r\nimport {useSelector} from 'react-redux';\r\n\r\nimport SideBarEntity from './SideBarEntity';\r\nimport {selectEntitiesInProject} from '../redux/selectors/entitySelectors';\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n    root: {\r\n        paddingLeft: theme.spacing(1)\r\n    },\r\n    hide: {\r\n        display: 'none'\r\n    },\r\n    btn: {\r\n        flexGrow: 1\r\n    }\r\n}));\r\n\r\nfunction SideBarProject(props){\r\n    const style = useStyle();\r\n    const {id, name} = props;\r\n    const select = useMemo(selectEntitiesInProject,[]);\r\n    const entities = useSelector(state => select(state, id));\r\n    const [open, setOpen] = useState(false);\r\n    const [openEntities, setOpenEntities] = useState(false);\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <ListItem button divider onClick={() => setOpen(!open)}>\r\n                <ListItemText primary={name}/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List className={style.root} disablePadding>\r\n                    <ListItem button component={Link} to={`/${name}/authentication`} divider>\r\n                        <ListItemText primary=\"Authentication\" />\r\n                    </ListItem>\r\n                    <ListItem button component={Link} to={`/${name}/storage`} divider>\r\n                        <ListItemText primary=\"Storage\" />\r\n                    </ListItem>\r\n                    <ListItem divider>\r\n                        <ButtonBase component={Link} \r\n                            to={`/${name}`}\r\n                            className={style.btn}\r\n                        >\r\n                            <ListItemText primary=\"Entities\"/>\r\n                        </ButtonBase>\r\n                        <IconButton\r\n                            color=\"inherit\"\r\n                            aria-label={`Expand ${name} entities`}\r\n                            onClick={() => setOpenEntities(!openEntities)}\r\n                            edge=\"end\"\r\n                            className={clsx(entities.length === 0 && style.hide)}\r\n                        >\r\n                            {openEntities ? <ExpandLess /> : <ExpandMore />}\r\n                        </IconButton>\r\n                    </ListItem>\r\n                    {\r\n                        entities.length > 0 ? \r\n                            <Collapse in={openEntities} timeout=\"auto\" unmountOnExit>\r\n                                <List className={style.root} disablePadding>\r\n                                    {\r\n                                        entities.map((value) => {\r\n                                            return <SideBarEntity\r\n                                                key={value.id}\r\n                                                name={value.name}\r\n                                                projectName={name}\r\n                                            />\r\n                                        })\r\n                                    }\r\n                                </List>\r\n                            </Collapse> : null\r\n                    }\r\n                </List>\r\n            </Collapse>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default SideBarProject;","import React from 'react';\r\n\r\nimport Link from 'react-router-dom/Link';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport {useSelector} from 'react-redux';\r\n\r\nimport SideBarProject from './SideBarProject';\r\nimport {selectAllProjects} from '../redux/selectors/projectSelectors';\r\n\r\nfunction SideBarContent(props){\r\n    const projects = useSelector(selectAllProjects);\r\n\r\n    return(\r\n        <List>\r\n            <ListItem button component={Link} to=\"/\" divider>\r\n                <ListItemText primary=\"Overview\" />\r\n            </ListItem>\r\n            {\r\n                projects.map((value)=>{\r\n                    return(\r\n                        <SideBarProject id={value.id} name={value.name} key={value.id}/>\r\n                    )\r\n                })\r\n            }\r\n        </List>\r\n    )\r\n}\r\n\r\nexport default SideBarContent;","import React from 'react';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport {SwitchSideBar} from '../redux/actions/globalActions';\r\nimport SideBarContent from './SideBarContent';\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n    root: theme.sidebar,\r\n    paper: {\r\n        backgroundColor: theme.palette.primary.main,\r\n        ...theme.sidebarPaper\r\n    },\r\n    direction: theme.direction,\r\n    btn: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '0 8px',\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-end'\r\n    }\r\n}));\r\n\r\nfunction SideBar(props){\r\n    const style = useStyle();\r\n    const dispatch = useDispatch();\r\n    const sidebar = useSelector(state => state.sidebar);\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <Hidden mdUp>\r\n                <Drawer\r\n                    className={style.root}\r\n                    variant=\"temporary\"\r\n                    anchor={style.direction === 'rtl' ? 'right' : 'left'}\r\n                    open={sidebar}\r\n                    classes={{paper: style.paper}}\r\n                    ModalProps={{keepMounted: true}}\r\n                >\r\n                    <div className={style.btn}>\r\n                        <IconButton onClick={() => dispatch(SwitchSideBar(!sidebar))}>\r\n                            {style.direction === 'ltr' ? <ChevronLeft /> : <ChevronRight />}\r\n                        </IconButton>\r\n                    </div>\r\n                    <Divider />\r\n                    <SideBarContent/>\r\n                </Drawer>\r\n            </Hidden>\r\n            <Hidden smDown>\r\n                <Drawer\r\n                    className={style.root}\r\n                    classes={{paper: style.paper}}\r\n                    variant=\"permanent\"\r\n                    open\r\n                >\r\n                    <SideBarContent/>\r\n                </Drawer>\r\n            </Hidden>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default SideBar;","import {useEffect} from 'react';\r\n\r\nimport Ws from '@adonisjs/websocket-client';\r\n\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport {AddProjects, DeleteProject, RenameProject, ImgProject} from './redux/actions/projectActions';\r\nimport {AddEntities, DeleteEntities, RenameEntity} from './redux/actions/entityActions';\r\nimport {AddDocuments, ModifyDocument, DeleteDocuments} from './redux/actions/documentActions';\r\nimport {UploadStorage, FolderStorage, RenameStorage, MoveStorage, DeleteStorage} from './redux/actions/storageActions';\r\n\r\nfunction WebsocketClient(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        const ws = process.env.NODE_ENV === 'development' \r\n            ? Ws('ws://localhost:3333/', {path: 'starfall-cms-ws'}) \r\n            : Ws(null, {path: 'starfall-cms-ws'});\r\n        \r\n        ws.on(\"open\", ()=>{\r\n            const project = ws.subscribe('project');\r\n            const entity = ws.subscribe('entity');\r\n            const document = ws.subscribe('document');\r\n            const storage = ws.subscribe('storage');\r\n            \r\n            // project socket listener\r\n            project.on('add', (msg)=>{\r\n                console.log(\"add project\");\r\n                console.log(msg);\r\n                dispatch(AddProjects([{\r\n                    id: msg.id,\r\n                    name: msg.name,\r\n                    img: msg.img_url,\r\n                    created: msg.created_at,\r\n                    updated: msg.updated_at,\r\n                    publicKey: msg.public_key\r\n                }]));\r\n            });\r\n            project.on('delete', (msg)=>{\r\n                console.log(\"delete project\");\r\n                console.log(msg);\r\n                dispatch(DeleteProject(msg.id));\r\n            });\r\n            project.on('rename', (msg)=>{\r\n                console.log(\"rename project\");\r\n                console.log(msg);\r\n                dispatch(RenameProject(\r\n                    msg.id, \r\n                    msg.name, \r\n                    msg.updated_at,\r\n                    msg.public_key\r\n                ));\r\n            });\r\n            project.on('img', (msg)=>{\r\n                console.log(\"change image of project\");\r\n                console.log(msg);\r\n                dispatch(ImgProject(\r\n                    msg.id, \r\n                    msg.img_url, \r\n                    msg.updated_at\r\n                ));\r\n            });\r\n            project.on(\"error\", (err)=>{\r\n                console.log(err);\r\n            });\r\n\r\n            // entity socket listener\r\n            entity.on('add', (msg)=>{\r\n                console.log(\"add entity\");\r\n                console.log(msg);\r\n                dispatch(AddEntities([{\r\n                    id: msg.id,\r\n                    projectId:msg.project_id,\r\n                    name: msg.name,\r\n                    created: msg.created_at,\r\n                    updated: msg.updated_at\r\n                }]));\r\n            });\r\n            entity.on('delete', (msg)=>{\r\n                console.log(\"delete entity\");\r\n                console.log(msg);\r\n                dispatch(DeleteEntities([msg.id]));\r\n            });\r\n            entity.on('rename', (msg)=>{\r\n                console.log(\"rename entity\");\r\n                console.log(msg);\r\n                dispatch(RenameEntity(\r\n                    msg.id,\r\n                    msg.name, \r\n                    msg.updated_at\r\n                ));\r\n            });\r\n            entity.on(\"error\", (err)=>{\r\n                console.log(err);\r\n            });\r\n\r\n            // document socket listener\r\n            document.on('add', (msg)=>{\r\n                console.log(\"add document\");\r\n                console.log(msg);\r\n                dispatch(AddDocuments([{\r\n                    id: msg.id,\r\n                    entityId: msg.entity_id,\r\n                    created: msg.created_at,\r\n                    updated: msg.updated_at,\r\n                    data: msg.data\r\n                }]));\r\n            });\r\n            document.on('modify', (msg)=>{\r\n                console.log(\"modify document\");\r\n                console.log(msg);\r\n                dispatch(ModifyDocument(\r\n                    msg.id,\r\n                    msg.updated_at,\r\n                    msg.data\r\n                ));\r\n            });\r\n            document.on('delete', (msg)=>{\r\n                console.log(\"delete documents\");\r\n                console.log(msg);\r\n                dispatch(DeleteDocuments(msg.ids));\r\n            });\r\n\r\n            // storage socket listener\r\n            storage.on('upload', (msg)=>{\r\n                console.log(\"upload into storage\");\r\n                console.log(msg);\r\n                dispatch(UploadStorage(msg.id, msg.path, msg.files));\r\n            });\r\n            storage.on('folder', (msg)=>{\r\n                console.log(\"new folder into storage\");\r\n                console.log(msg);\r\n                dispatch(FolderStorage(msg.id, msg.path));\r\n            });\r\n            storage.on('move', (msg)=>{\r\n                console.log(\"move storage\");\r\n                console.log(msg);\r\n                dispatch(MoveStorage(msg.id, msg.path, msg.targets));\r\n            });\r\n            storage.on('rename', (msg)=>{\r\n                console.log(\"rename storage\");\r\n                console.log(msg);\r\n                dispatch(RenameStorage(msg.id, msg.path, msg.name, msg.new_name));\r\n            });\r\n            storage.on('delete', (msg)=>{\r\n                console.log(\"delete storage\");\r\n                console.log(msg);\r\n                dispatch(DeleteStorage(msg.id, msg.paths));\r\n            });\r\n        });\r\n\r\n        ws.on(\"close\", ()=>{\r\n                \r\n        });\r\n\r\n        ws.on(\"error\", (err)=>{\r\n            console.log(err);\r\n        });\r\n\r\n        ws.connect();\r\n\r\n        return ()=>{\r\n            ws.close();\r\n        }\r\n    }, []);\r\n\r\n\treturn null;\r\n}\r\n\r\nexport default WebsocketClient;","import React, {useEffect, lazy, Suspense} from 'react';\r\n\r\nimport Route from 'react-router-dom/Route';\r\nimport Switch from 'react-router-dom/Switch';\r\nimport Redirect from 'react-router-dom/Redirect';\r\n\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport SideBar from './components/SideBar';\r\nimport {InitDatabase} from './redux/actions/projectActions';\r\nimport ContentContainer from './components/ContentContainer';\r\nimport WebsocketClient from './WebsocketClient';\r\nimport {NOT_AUTHORIZED, FIRST_BOOT} from './redux/actions/authorizationActions';\r\n\r\nconst Overview = lazy(()=>import('./components/Overview'));\r\nconst Project = lazy(()=>import('./components/Project'));\r\nconst Entity = lazy(()=>import('./components/Entity'));\r\nconst Document = lazy(()=>import('./components/Document'));\r\nconst Storage = lazy(()=>import('./components/Storage'));\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n    root: {\r\n\t\tmarginTop: 65,\r\n\t\tpaddingTop: 15,\r\n\t\tpaddingBottom: 15,\r\n\t\tbackgroundColor: theme.palette.background.light.light,\r\n\t\toverflow: 'auto',\r\n\t\t...theme.responsive\r\n\t}\r\n}));\r\n\r\nfunction Admin(props) {\r\n\tconst style = useStyle();\r\n\tconst dispatch = useDispatch();\r\n\tconst _status = useSelector(state => state.authStatus);\r\n\r\n\tuseEffect(()=>{\r\n\t\tdispatch(InitDatabase());\r\n\t}, []);\r\n\r\n\tif(_status === FIRST_BOOT)\r\n\t\treturn <Redirect to='/signup'/>;\r\n\telse if(_status === NOT_AUTHORIZED)\r\n\t\treturn <Redirect to='/signin'/>;\r\n\telse return (\r\n\t\t<React.Fragment>\r\n\t\t\t<Header {...props}/>\r\n\t\t\t<SideBar/>\r\n\t\t\t\r\n\t\t\t<WebsocketClient/>\r\n\t\t\t<ContentContainer className={style.root}>\r\n\t\t\t\t<Suspense fallback={<div></div>}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path='/:project/:entity/:document' component={Document}/>\r\n\t\t\t\t\t\t<Route path='/:project/authentication' component={null}/>\r\n\t\t\t\t\t\t<Route path='/:project/storage' component={Storage}/>\r\n\t\t\t\t\t\t<Route path='/:project/:entity' component={Entity}/>\r\n\t\t\t\t\t\t<Route path='/:project' component={Project}/>\r\n\t\t\t\t\t\t<Route path='/' component={Overview}/>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Suspense>\r\n\t\t\t</ContentContainer>\r\n\t\r\n\t\t\t<Footer/>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default Admin;"],"sourceRoot":""}