(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{135:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(198),o=n(322);t.a=function(e){return r.a.createElement(c.a,Object.assign({item:!0,component:o.a},e),e.children)}},137:function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return a})},186:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(115);t.a=Object(c.a)(r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},223:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return c});var a=n(40),r=["integer","float","string","boolean","object","array"],c=function e(t,n){Object.entries(t).forEach(function(r){var c=Object(a.a)(r,2),o=c[0],i=c[1];"integer"===i?n[o]=0:"float"===i?n[o]=0:"string"===i?n[o]="":"boolean"===i?n[o]=!1:i.constructor===Object?(n[o]={},e(t[o],n[o])):i.constructor===Array&&(n[o]=[])})}},357:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(115);t.a=Object(c.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},611:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),o=n(63),i=n(198),l=n(149),u=n(131),m=n(137),s=n(40),b=n(123),f=n(275),y=n(277),d=n(186),v=n(357),j=n(362),E=n(272),g=n(223);var p=function(e){var t=e.keys,n=e.cancel,o=Object(c.c)(),l=Object(a.useState)(""),u=Object(s.a)(l,2),f=u[0],p=u[1],O=Object(a.useState)(g.b[0]),h=Object(s.a)(O,2),k=h[0],x=h[1];return r.a.createElement(i.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"space-evenly"},r.a.createElement(i.a,{item:!0,component:j.a,xs:3,md:4,value:f,onChange:function(e){return p(e.target.value)}}),r.a.createElement(i.a,{item:!0,component:j.a,xs:5,md:6,required:!0,select:!0,margin:"normal",value:k,onChange:function(e){return x(e.target.value)}},g.b.map(function(e){return r.a.createElement(E.a,{key:e,value:e},e)})),r.a.createElement(y.a,{color:"inherit","aria-label":"Add ".concat(f),onClick:function(){var e=[].concat(Object(m.a)(t),[f]);o(Object(b.b)(e,k)),n()},edge:"end"},r.a.createElement(d.a,null)),r.a.createElement(y.a,{color:"inherit","aria-label":"Cancel adding ".concat(f),onClick:function(){return n()},edge:"end"},r.a.createElement(v.a,null)))};function O(e){var t=e.keys,n=e.curKey,a=e.type,c=[].concat(Object(m.a)(t),[n]);return"object"===a?r.a.createElement(w,{fromArray:!0,keys:c}):"array"===a?r.a.createElement(h,{fromArray:!0,keys:c}):null}function h(e){var t=e.keys,n=e.fromArray,o=Object(c.c)(),l=Object(a.useMemo)(u.b,[]),s=Object(c.d)(function(e){return l(e,t)});return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{container:!0,item:!0,xs:12,alignItems:"center"},r.a.createElement(i.a,{item:!0,component:f.a,xs:4},n?"Root":t[t.length-1]),r.a.createElement(i.a,{item:!0,component:j.a,xs:!0,required:!0,select:!0,margin:"normal",value:s.type,onChange:function(e){var n=s.key,a=[].concat(Object(m.a)(t),[n]);o(Object(b.b)(a,e.target.value))}},g.b.map(function(e){return r.a.createElement(E.a,{key:e,value:e},e)})),n?null:r.a.createElement(y.a,{color:"inherit","aria-label":"Delete ".concat(t[t.length-1]),onClick:function(){return o(Object(b.d)(t))},edge:"end"},r.a.createElement(v.a,null))),r.a.createElement(O,{type:s.type,curKey:s.key,keys:t}))}var k=h;var x=function(e){var t=e.keys,n=e.category,a=Object(c.c)();return r.a.createElement(i.a,{container:!0,item:!0,xs:12,alignItems:"center"},r.a.createElement(i.a,{item:!0,component:f.a,xs:4},t[t.length-1]),r.a.createElement(i.a,{item:!0,component:f.a,xs:!0},n),r.a.createElement(y.a,{color:"inherit","aria-label":"Delete ".concat(t[t.length-1]),onClick:function(){return a(Object(b.d)(t))},edge:"end"},r.a.createElement(v.a,null)))},C=Object(o.a)(function(e){return{root:{marginLeft:e.spacing(3)}}});var w=function e(t){var n=C(),o=t.keys,l=t.fromArray,j=Object(c.c)(),E=Object(a.useMemo)(u.b,[]),g=Object(c.d)(function(e){return E(e,o)}),O=Object(a.useState)(!1),h=Object(s.a)(O,2),w=h[0],A=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{container:!0,item:!0,xs:12,alignItems:"center"},r.a.createElement(i.a,{item:!0,component:f.a,xs:!0},l?"Root":o[o.length-1]),r.a.createElement(y.a,{color:"inherit","aria-label":"Add new field",onClick:function(){return A(!0)},edge:"end"},r.a.createElement(d.a,null)),l?null:r.a.createElement(y.a,{color:"inherit","aria-label":"Delete ".concat(o[o.length-1]),onClick:function(){return j(Object(b.d)(o))},edge:"end"},r.a.createElement(v.a,null))),r.a.createElement(i.a,{container:!0,item:!0,xs:12,direction:"column",className:n.root},g.map(function(t){var n=t.key,a=t.type,c=[].concat(Object(m.a)(o),[n]);return"object"===a?r.a.createElement(e,{key:n,keys:c}):"array"===a?r.a.createElement(k,{key:n,keys:c}):r.a.createElement(x,{key:n,keys:c,category:a})}),w?r.a.createElement(p,{keys:o,cancel:function(){return A(!1)}}):null))},A=n(13),S=n.n(A),M=n(22),I=n(21),D=n(135);var F=function(e){var t=e.save;return r.a.createElement(D.a,{xs:5,onClick:function(){return t()},variant:"contained",color:"secondary"},"Save Schema")};var N=function(e){var t=e.cancel;return r.a.createElement(D.a,{xs:5,onClick:function(){return t()},color:"error",variant:"contained"},"Cancel")};var z=function(e){var t=e.add;return r.a.createElement(D.a,{xs:10,onClick:function(){return t()},variant:"contained"},"New Field")},H=n(23),T=Object(o.a)(function(e){return{root:{"& > *":{marginTop:e.spacing(.5),marginBottom:e.spacing(.5)}}}});var V=function(e){var t=T(),n=Object(c.c)(),o=e.history,l=e.id,m=e.match.params,b=m.entity,f=m.project,y=Object(c.d)(u.c),d=Object(a.useState)(!1),v=Object(s.a)(d,2),j=v[0],E=v[1];return r.a.createElement(i.a,{container:!0,item:!0,xs:12,justify:"space-evenly",className:t.root},j?r.a.createElement(p,{keys:[],cancel:function(){return E(!1)}}):null,r.a.createElement(z,{add:function(){return E(!0)}}),r.a.createElement(N,{cancel:function(){return o.push("/".concat(f,"/").concat(b))}}),r.a.createElement(F,{save:Object(M.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.post("entity/".concat(l,"/schema"),{schema:y});case 3:n(Object(I.k)("Save Schema","Succeed saving schema")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(Object(I.k)("Save Schema","Fail saving schema, ".concat(e.t0)));case 9:case"end":return e.stop()}},e,null,[[0,6]])}))}))},q=Object(o.a)(function(e){return{root:{"& > *":{marginTop:e.spacing(.5),marginBottom:e.spacing(.5)}}}});t.default=function(e){var t=q(),n=Object(c.c)(),o=e.match.params.entity,m=Object(a.useMemo)(l.c,[]),s=Object(c.d)(function(e){return m(e,o)}),f=Object(a.useMemo)(u.b,[]),y=Object(c.d)(f);return Object(a.useEffect)(function(){s&&n(Object(b.f)(s.schema))},[s]),r.a.createElement(i.a,{container:!0,className:t.root,direction:"column"},r.a.createElement(i.a,{container:!0,item:!0,direction:"column",xs:12,sm:6,md:8,lg:6},y.map(function(e){var t=e.key,n=e.type,a=[t];return"object"===n?r.a.createElement(w,{key:t,keys:a}):"array"===n?r.a.createElement(k,{key:t,keys:a}):r.a.createElement(x,{key:t,keys:a,category:n})})),r.a.createElement(V,Object.assign({id:s?s.id:0},e)))}}}]);
//# sourceMappingURL=11.01844625.chunk.js.map