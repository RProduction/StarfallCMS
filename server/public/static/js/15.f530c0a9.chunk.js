(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{146:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(349),o=t(355),m=t(350),i=t(356),l=t(156),u=t(150),d=t(198),s=t(362),f=t(322);var p=function(e){var n=e.request,t=e.btn,a=e.category,c=e.values,o=c.name,m=c.newName,i=c.confirmName,l=e.errors,u=e.touched,p=e.handleChange,h=e.isValid,N=e.setFieldTouched,b=function(e,n){n.persist(),p(n),N(e,!0,!1)};return r.a.createElement(d.a,{container:!0,component:"form",spacing:1,onSubmit:function(e){e.preventDefault(),n({name:o,newName:m,confirmName:i})}},"add"===a?r.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"name",name:"name",label:"Name",onChange:b.bind(null,"name"),value:o,helperText:u.name?l.name:"",error:u.name&&Boolean(l.name)}):"delete"===a?r.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:b.bind(null,"confirmName"),value:i,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)}):"rename"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"newName",name:"newName",label:"New Name",onChange:b.bind(null,"newName"),value:m,helperText:u.newName?l.newName:"",error:u.newName&&Boolean(l.newName)}),r.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:b.bind(null,"confirmName"),value:i,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)})):null,r.a.createElement(d.a,{item:!0,xs:12,component:f.a,type:"submit",disabled:!h,size:"large"},t))},h=u.object({name:u.string().required("enter name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"name too short").max(50,"name too long")}),N=u.object({name:u.string(),confirmName:u.string().required("re-enter name").matches(/^[a-z0-9_]*$/i,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).oneOf([u.ref("name")],"Confirm Name does not match")}),b=u.object({name:u.string(),confirmName:u.string().required("re-enter name").oneOf([u.ref("name")],"Confirm Name does not match"),newName:u.string().required("enter new name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"new name too short").max(50,"new name too long")}),g={name:""},E=function(e){return{name:e,confirmName:""}},v=function(e){return{name:e,confirmName:"",newName:""}};n.a=function(e){var n=e.title,t=e.content,a=e.targetName,u=e.category,d=e.dialogProps;return r.a.createElement(c.a,d,r.a.createElement(o.a,{id:"dialog-title"},n),r.a.createElement(m.a,null,"add"===u||"delete"===u||"rename"===u?r.a.createElement(r.a.Fragment,null,"delete"===u?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,t),r.a.createElement(i.a,null,"Please type in the name of the target to confirm")):null,r.a.createElement(l.a,{validationSchema:"add"===u?h:"rename"===u?b:"delete"===u?N:{},initialValues:"add"===u?g:"rename"===u?v(a):"delete"===u?E(a):{},render:function(n){return r.a.createElement(p,Object.assign({},e,n))}})):"notification"===u?r.a.createElement(i.a,null,t):null))}},186:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(115);n.a=Object(c.a)(r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},673:function(e,n,t){"use strict";t.r(n);var a=t(13),r=t.n(a),c=t(22),o=t(40),m=t(0),i=t.n(m),l=t(26),u=t(179),d=t.n(u),s=t(186),f=t(607),p=t(608),h=t(667),N=t(668),b=t(669),g=t(670),E=t(671),v=t(672),w=t(35),j=t(18),x=t(131),y=t(23),O=t(21),C=t(146),S=[{title:"#",field:"#",searchable:!1},{field:"projectName",searchable:!1,hidden:!0,export:!1},{field:"entityName",searchable:!1,hidden:!0,export:!1},{title:"ID",field:"id",searchable:!1,render:function(e){var n=e.id,t=e.projectName,a=e.entityName;return i.a.createElement(w.b,{style:{color:"black"},to:"/".concat(t,"/").concat(a,"/").concat(n)},n)}},{title:"Created At",field:"createdAt",searchable:!1,type:"datetime"},{title:"Updated At",field:"updatedAt",searchable:!1,type:"datetime"}];n.default=function(e){var n=Object(l.c)(),t=e.match.params,a=t.project,u=t.entity,w=Object(l.d)(function(e){return e.notification}),A=Object(m.useState)(""),k=Object(o.a)(A,2),D=k[0],F=k[1],P=Object(m.useMemo)(x.g,[]),z=Object(l.d)(function(e){return P(e,u)}),q=Object(m.useState)([]),T=Object(o.a)(q,2),B=T[0],V=T[1];return Object(m.useEffect)(function(){z.documents&&V(z.documents.map(function(e,n){return{"#":n+1,id:e.id,projectName:a,entityName:u,createdAt:e.created,updatedAt:e.updated}}))},[z]),"add"===D?i.a.createElement(j.a,{to:"/".concat(a,"/").concat(u,"/add")}):"schema"===D?i.a.createElement(j.a,{to:"/".concat(a,"/").concat(u,"/schema")}):i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{category:"notification",title:w.title,content:w.content,dialogProps:{open:""!==w.title&&""!==w.content,onClose:function(){return n(Object(O.d)())}}}),i.a.createElement(d.a,{title:"Documents",columns:S,data:B,actions:[{icon:function(){return i.a.createElement(s.a,null)},tooltip:"Add Document",isFreeAction:!0,onClick:function(e){return F("add")}},{icon:function(){return i.a.createElement(f.a,null)},tooltip:"Edit Schema",isFreeAction:!0,onClick:function(e){return F("schema")}},{icon:function(){return i.a.createElement(p.a,null)},tooltip:"Delete Documents",onClick:function(){var e=Object(c.a)(r.a.mark(function e(t,a){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.map(function(e){return e.id}),e.prev=1,e.next=4,y.a.delete("document",{data:{ids:c}});case 4:e.sent,n(Object(O.k)("Delete Documents","Succeed deleting documents")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(Object(O.k)("Delete Documents","Failed deleting documents, ".concat(e.t0)));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(n,t){return e.apply(this,arguments)}}()}],icons:{Search:h.a,ResetSearch:N.a,FirstPage:b.a,PreviousPage:g.a,NextPage:E.a,LastPage:v.a},options:{pageSize:100,pageSizeOptions:[100,500,1e3],search:!0,selection:!0,actionsColumnIndex:-1}}))}}}]);
//# sourceMappingURL=15.f530c0a9.chunk.js.map