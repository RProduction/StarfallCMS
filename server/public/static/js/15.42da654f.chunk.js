(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{166:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(175),o=t(172),m=t(704),i=t(705),l=t(706),u=t(707),d=t(403),s=t(360),f=t(243);var p=function(e){var n=e.request,t=e.btn,a=e.category,c=e.values,o=c.name,m=c.newName,i=c.confirmName,l=e.errors,u=e.touched,p=e.handleChange,h=e.isValid,N=e.setFieldTouched,b=function(e,n){n.persist(),p(n),N(e,!0,!1)};return r.a.createElement(f.a,{container:!0,component:"form",spacing:1,onSubmit:function(e){e.preventDefault(),n({name:o,newName:m,confirmName:i})}},"add"===a?r.a.createElement(f.a,{component:d.a,item:!0,xs:12,id:"name",name:"name",label:"Name",onChange:b.bind(null,"name"),value:o,helperText:u.name?l.name:"",error:u.name&&Boolean(l.name)}):"delete"===a?r.a.createElement(f.a,{component:d.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:b.bind(null,"confirmName"),value:i,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)}):"rename"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{component:d.a,item:!0,xs:12,id:"newName",name:"newName",label:"New Name",onChange:b.bind(null,"newName"),value:m,helperText:u.newName?l.newName:"",error:u.newName&&Boolean(l.newName)}),r.a.createElement(f.a,{component:d.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:b.bind(null,"confirmName"),value:i,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)})):null,r.a.createElement(f.a,{item:!0,xs:12,component:s.a,type:"submit",disabled:!h,size:"large"},t))},h=o.object({name:o.string().required("enter name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"name too short").max(50,"name too long")}),N=o.object({name:o.string(),confirmName:o.string().required("re-enter name").matches(/^[a-z0-9_]*$/i,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).oneOf([o.ref("name")],"Confirm Name does not match")}),b=o.object({name:o.string(),confirmName:o.string().required("re-enter name").oneOf([o.ref("name")],"Confirm Name does not match"),newName:o.string().required("enter new name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"new name too short").max(50,"new name too long")}),g={name:""},E=function(e){return{name:e,confirmName:""}},v=function(e){return{name:e,confirmName:"",newName:""}};n.a=function(e){var n=e.title,t=e.content,a=e.targetName,o=e.category,d=e.dialogProps;return r.a.createElement(m.a,d,r.a.createElement(i.a,{id:"dialog-title"},n),r.a.createElement(l.a,null,"add"===o||"delete"===o||"rename"===o?r.a.createElement(r.a.Fragment,null,"delete"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,t),r.a.createElement(u.a,null,"Please type in the name of the target to confirm")):null,r.a.createElement(c.a,{validationSchema:"add"===o?h:"rename"===o?b:"delete"===o?N:{},initialValues:"add"===o?g:"rename"===o?v(a):"delete"===o?E(a):{},render:function(n){return r.a.createElement(p,Object.assign({},e,n))}})):"notification"===o?r.a.createElement(u.a,null,t):null))}},220:function(e,n,t){"use strict";var a=t(144);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t(0)),c=(0,a(t(146)).default)(r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.default=c},709:function(e,n,t){"use strict";t.r(n);var a=t(16),r=t.n(a),c=t(26),o=t(58),m=t(0),i=t.n(m),l=t(193),u=t.n(l),d=t(231),s=t.n(d),f=t(293),p=t.n(f),h=t(294),N=t.n(h),b=t(296),g=t.n(b),E=t(254),v=t.n(E),j=t(295),w=t.n(j),x=t(297),y=t.n(x),O=t(219),C=t.n(O),S=t(220),A=t.n(S),D=t(285),P=t.n(D),F=t(33),k=t(27),z=t(263),q=t(20),T=t(166),_=[{title:"#",field:"#",searchable:!1},{field:"projectName",searchable:!1,hidden:!0,export:!1},{field:"entityName",searchable:!1,hidden:!0,export:!1},{title:"ID",field:"id",searchable:!1,render:function(e){var n=e.id,t=e.projectName,a=e.entityName;return i.a.createElement(u.a,{style:{color:"black"},to:"/".concat(t,"/").concat(a,"/").concat(n)},n)}},{title:"Created At",field:"createdAt",searchable:!1,type:"datetime"},{title:"Updated At",field:"updatedAt",searchable:!1,type:"datetime"}];n.default=function(e){var n=Object(F.c)(),t=e.match.params,a=t.project,l=t.entity,u=Object(F.d)(function(e){return e.notification}),d=Object(m.useState)(""),f=Object(o.a)(d,2),h=f[0],b=f[1],E=Object(m.useMemo)(z.c,[]),j=Object(F.d)(function(e){return E(e,a,l)}),x=Object(m.useState)([]),O=Object(o.a)(x,2),S=O[0],D=O[1];return Object(m.useEffect)(function(){j.documents&&D(j.documents.map(function(e,n){return{"#":n+1,id:e.id,projectName:a,entityName:l,createdAt:e.created,updatedAt:e.updated}}))},[j]),"add"===h?i.a.createElement(s.a,{to:"/".concat(a,"/").concat(l,"/add")}):"schema"===h?i.a.createElement(s.a,{to:"/".concat(a,"/").concat(l,"/schema")}):i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{category:"notification",title:u.title,content:u.content,dialogProps:{open:""!==u.title&&""!==u.content,onClose:function(){return n(Object(q.d)())}}}),i.a.createElement(P.a,{title:"Documents",columns:_,data:S,actions:[{icon:function(){return i.a.createElement(A.a,null)},tooltip:"Add Document",isFreeAction:!0,onClick:function(e){return b("add")}},{icon:function(){return i.a.createElement(C.a,null)},tooltip:"Delete Documents",onClick:function(){var e=Object(c.a)(r.a.mark(function e(t,a){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.map(function(e){return e.id}),e.prev=1,e.next=4,k.a.delete("document",{data:{ids:c}});case 4:e.sent,n(Object(q.j)("Delete Documents","Succeed deleting documents")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(Object(q.j)("Delete Documents","Failed deleting documents, ".concat(e.t0)));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(n,t){return e.apply(this,arguments)}}()}],icons:{Search:p.a,ResetSearch:N.a,FirstPage:w.a,PreviousPage:v.a,NextPage:g.a,LastPage:y.a},options:{pageSize:100,pageSizeOptions:[100,500,1e3],search:!0,selection:!0,actionsColumnIndex:-1}}))}}}]);
//# sourceMappingURL=15.42da654f.chunk.js.map