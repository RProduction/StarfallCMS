{"version":3,"sources":["redux/actions/authorizationActions.js","redux/actions/globalActions.js","Axios.js","components/AuthorizationCheck.js","App.js","serviceWorker.js","redux/reducers/helpers.js","redux/reducers/authorizationReducer.js","redux/reducers/projectReducer.js","redux/reducers/entityReducer.js","redux/reducers/documentReducer.js","redux/reducers/storageReducer.js","redux/reducers/globalReducer.js","redux/reducers/index.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","FIRST_BOOT","NOT_AUTHORIZED","USER","MANAGER","CREATOR","AUTHORIZATION_STATUS","SetAuthStatus","0","-1","1","2","3","status","type","SwitchSideBar","ShowNotificationDialog","title","content","HideNotificationDialog","ADD_DIALOG","DELETE_DIALOG","RENAME_DIALOG","IMG_DIALOG","ShowAddDialog","ShowDeleteDialog","ShowRenameDialog","ShowImgDialog","HideDialog","SetTarget","data","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","axios","create","baseURL","responseType","headers","Content-Type","AuthorizationCheck","useSelector","state","authStatus","react_default","a","createElement","react_router","to","Admin","lazy","Promise","all","e","then","bind","SignIn","SignUp","App","dispatch","useDispatch","_useState","useState","_useState2","Object","slicedToArray","setStatus","_fetchStatus","asyncToGenerator","regenerator_default","mark","_callee","_ref","wrap","_context","prev","next","Axios","get","sent","t0","console","log","stop","apply","this","arguments","useEffect","fetchStatus","react","fallback","CssBaseline","components_AuthorizationCheck","path","component","Boolean","window","location","hostname","match","createReducer","initialState","handlers","length","undefined","action","hasOwnProperty","authorizationReducer","SET_AUTHORIZATION_STATUS","projectPopoverReducer","SET_PROJECT_POPOVER","anchor","projectsReducer","ADD_PROJECTS","produce","draft","projects","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","project","value","id","name","img","created","updated","publicKey","err","return","DELETE_PROJECT","RENAME_PROJECT","IMG_PROJECT","entitiesReducer","ADD_ENTITIES","entities","entity","projectId","schema","DELETE_ENTITIES","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","RENAME_ENTITY","SET_ENTITY_SCHEMA","documentsReducer","ADD_DOCUMENTS","documents","document","DELETE_DOCUMENTS","MODIFY_DOCUMENT","currentDocumentReducer","GENERATE_FIELD","fieldType","ADD_FIELD","keys","currentType","forEach","key","index","SET_FIELD","current","DELETE_FIELD","storageReducer","INIT_STORAGE","UPLOAD_STORAGE","files","currentPath","split","size","modified","FOLDER_STORAGE","MOVE_STORAGE","targets","target","currentTarget","RENAME_STORAGE","new_name","DELETE_STORAGE","paths","storagePathReducer","INIT_STORAGE_PATH","concat","FORWARD_STORAGE_PATH","BACKWARD_STORAGE_PATH","res","sidebarReducer","SWITCH_SIDEBAR","targetReducer","SET_TARGET","entries","_ref2","dialogReducer","SHOW_ADD_DIALOG","SHOW_DELETE_DIALOG","SHOW_RENAME_DIALOG","SHOW_IMG_DIALOG","HIDE_DIALOG","notificationReducer","SHOW_NOTIFICATION_DIALOG","HIDE_NOTIFICATION_DIALOG","reducers","combineReducers","currentDocument","storage","storagePath","dialog","notification","sidebar","projectPopover","store","createStore","applyMiddleware","thunk","theme","createMuiTheme","width","flexShrink","sidebarPaper","responsive","hide","display","palette","primary","main","secondary","error","background","dark","light","tonalOffset","contrastThreshold","defineProperty","breakpoints","up","marginLeft","ReactDOM","render","MuiThemeProvider","es","react_router_dom","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yFAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAAN,EAAAC,EAAAC,EAAA,sBAAAK,IAAAP,EAAAC,EAAAC,EAAA,sBAAAM,IAAAR,EAAAC,EAAAC,EAAA,sBAAAO,IACO,IAAMN,EAAa,aACbC,EAAiB,iBACjBC,EAAO,OACPC,EAAU,UACVC,EAAU,UACVC,EAAuB,CAChCE,EAAKP,EACLQ,KAAMP,EACNQ,EAAKP,EACLQ,EAAKP,EACLQ,EAAKP,GAGF,SAASE,EAAcM,GAC1B,MAAO,CAACC,KAAM,2BAA4BD,OAAQA,qCCd/C,SAASE,EAAcF,GAC1B,MAAO,CAACC,KAAM,iBAAkBD,OAAQA,GAIrC,SAASG,EAAuBC,EAAOC,GAC1C,MAAO,CAACJ,KAAM,2BAA4BG,MAAOA,EAAOC,QAASA,GAG9D,SAASC,IACZ,MAAO,CAACL,KAAM,4BAXlBhB,EAAAC,EAAAC,EAAA,sBAAAe,IAAAjB,EAAAC,EAAAC,EAAA,sBAAAgB,IAAAlB,EAAAC,EAAAC,EAAA,sBAAAmB,IAAArB,EAAAC,EAAAC,EAAA,sBAAAoB,IAAAtB,EAAAC,EAAAC,EAAA,sBAAAqB,IAAAvB,EAAAC,EAAAC,EAAA,sBAAAsB,IAAAxB,EAAAC,EAAAC,EAAA,sBAAAuB,IAAAzB,EAAAC,EAAAC,EAAA,sBAAAwB,IAAA1B,EAAAC,EAAAC,EAAA,sBAAAyB,IAAA3B,EAAAC,EAAAC,EAAA,sBAAA0B,IAAA5B,EAAAC,EAAAC,EAAA,sBAAA2B,IAAA7B,EAAAC,EAAAC,EAAA,sBAAA4B,IAAA9B,EAAAC,EAAAC,EAAA,sBAAA6B,IAeO,IAAMT,EAAa,aACbC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAa,aAEnB,SAASC,IACZ,MAAO,CAACV,KAAM,mBAGX,SAASW,IACZ,MAAO,CAACX,KAAM,sBAGX,SAASY,IACZ,MAAO,CAACZ,KAAM,sBAGX,SAASa,IACZ,MAAO,CAACb,KAAM,mBAGX,SAASc,IACZ,MAAO,CAACd,KAAM,eAIX,SAASe,EAAUC,GACtB,MAAO,CAAChB,KAAM,aAAcgB,KAAMA,qCC1CtC,IAAAC,EAAAjC,EAAA,IAAAkC,EAAAlC,EAAAmC,EAAAF,GACeG,QAAMC,OAAO,CACxBC,QAAS,IACTC,aAAc,OACdC,QAAS,CACLC,eAAgB,iOCeTC,MAff,WAGC,OAFmBC,YAAY,SAAAC,GAAK,OAAIA,EAAMC,cAG7C,KAAK1C,IACJ,OAAO2C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAG,YACrB,KAAK9C,IACJ,OAAO0C,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAG,YACrB,KAAK7C,IACJ,OAAOyC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,GAAG,MACrB,QACC,OAAO,OCRJC,EAAQC,eAAK,kBAAIC,QAAAC,IAAA,CAAAtD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,MAAAC,KAAAxD,EAAAyD,KAAA,aACjBC,EAASN,eAAK,kBAAIC,QAAAC,IAAA,CAAAtD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,MAAAC,KAAAxD,EAAAyD,KAAA,aAClBE,EAASP,eAAK,kBAAIC,QAAAC,IAAA,CAAAtD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,GAAAvD,EAAAuD,EAAA,IAAAvD,EAAAuD,EAAA,MAAAC,KAAAxD,EAAAyD,KAAA,aAyCTG,MAvCf,WACC,IAAMC,EAAWC,cADHC,EAEcC,mBAAS,MAFvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEPhD,EAFOkD,EAAA,GAECG,EAFDH,EAAA,YAAAI,IAAA,OAAAA,EAAAH,OAAAI,EAAA,EAAAJ,CAAAK,EAAAxB,EAAAyB,KAId,SAAAC,IAAA,IAAAC,EAAA1C,EAAA,OAAAuC,EAAAxB,EAAA4B,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEuBC,IAAMC,IAAI,eAFjC,OAAAN,EAAAE,EAAAK,KAESjD,EAFT0C,EAES1C,KAEJjB,IAAWiB,GAAMoC,EAAUpC,GAJhC4C,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAOEO,QAAQC,IAARR,EAAAM,IAPF,yBAAAN,EAAAS,SAAAZ,EAAA,kBAJca,MAAAC,KAAAC,WAwBd,OATAC,oBAAU,YAfI,WAAApB,EAAAiB,MAAAC,KAAAC,WAgBbE,IACE,IAEHD,oBAAU,WACK,OAAX1E,GACF8C,EAASpD,YAAcD,IAAqBO,MAC3C,CAACA,IAGA+B,EAAAC,EAAAC,cAAC2C,EAAA,SAAD,CAAUC,SAAU9C,EAAAC,EAAAC,cAAA,aACtBF,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,MACA/C,EAAAC,EAAAC,cAAC8C,EAAD,MAEAhD,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACCH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO8C,KAAK,UAAUC,UAAWtC,IACjCZ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO8C,KAAK,UAAUC,UAAWrC,IACjCb,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAO8C,KAAK,IAAIC,UAAW7C,OChCX8C,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,uEClBC,SAASC,EAAcC,EAAcC,GACxC,OAAO,WAA+C,IAA9B5D,EAA8B4C,UAAAiB,OAAA,QAAAC,IAAAlB,UAAA,GAAAA,UAAA,GAAtBe,EAAcI,EAAQnB,UAAAiB,OAAA,EAAAjB,UAAA,QAAAkB,EAClD,OAAIF,EAASI,eAAeD,EAAO3F,MACxBwF,EAASG,EAAO3F,MAAM4B,EAAO+D,GAE7B/D,GCCnB,IAIeiE,EAJcP,EAAc,GAAI,CAC3CQ,yBALJ,SAAgClE,EAAO+D,GACnC,OAAOA,EAAO5F,iBCMlB,IAgCagG,EAAwBT,EAAc,KAAM,CACrDU,oBAtCJ,SAA2BpE,EAAO+D,GAC9B,OAAOA,EAAOM,UAwCLC,EAAkBZ,EAAc,GAAI,CAC7Ca,aArCgB,SAACvE,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACpDC,EAAYX,EAAZW,SADoDC,GAAA,EAAAC,GAAA,EAAAC,OAAAf,EAAA,IAE3D,QAAAgB,EAAAC,EAAmBL,EAAnBM,OAAAC,cAAAN,GAAAG,EAAAC,EAAA7C,QAAAgD,MAAAP,GAAA,EAA4B,KAApBQ,EAAoBL,EAAAM,MACxBX,EAAMU,EAAQE,IAAM,CAChBA,GAAIF,EAAQE,GACZC,KAAMH,EAAQG,KACdC,IAAKJ,EAAQI,IACbC,QAASL,EAAQK,QACjBC,QAASN,EAAQM,QACjBC,UAAWP,EAAQO,YATgC,MAAAC,GAAAf,GAAA,EAAAC,EAAAc,EAAA,YAAAhB,GAAA,MAAAI,EAAAa,QAAAb,EAAAa,SAAA,WAAAhB,EAAA,MAAAC,OAsC3DgB,eAxBkB,SAAC7F,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,UAE9CA,EADMV,EAANsB,OAwBPS,eApBkB,SAAC9F,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACtDY,EAAqBtB,EAArBsB,GAAIC,EAAiBvB,EAAjBuB,KAAMG,EAAW1B,EAAX0B,QACjBhB,EAAMY,GAAIC,KAAOA,EACjBb,EAAMY,GAAII,QAAUA,KAkBpBM,YAfe,SAAC/F,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACnDY,EAAoBtB,EAApBsB,GAAIE,EAAgBxB,EAAhBwB,IAAKE,EAAW1B,EAAX0B,QAChBhB,EAAMY,GAAIE,IAAMA,EAChBd,EAAMY,GAAII,QAAUA,OCEXO,EAAkBtC,EAAc,GAAI,CAC7CuC,aApCgB,SAACjG,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACpDyB,EAAYnC,EAAZmC,SADoDvB,GAAA,EAAAC,GAAA,EAAAC,OAAAf,EAAA,IAE3D,QAAAgB,EAAAC,EAAkBmB,EAAlBlB,OAAAC,cAAAN,GAAAG,EAAAC,EAAA7C,QAAAgD,MAAAP,GAAA,EAA2B,KAAnBwB,EAAmBrB,EAAAM,MACvBX,EAAM0B,EAAOd,IAAM,CACfA,GAAIc,EAAOd,GACXe,UAAWD,EAAOC,UAClBd,KAAMa,EAAOb,KACbE,QAASW,EAAOX,QAChBC,QAASU,EAAOV,QAChBY,OAAQF,EAAOE,SAToC,MAAAV,GAAAf,GAAA,EAAAC,EAAAc,EAAA,YAAAhB,GAAA,MAAAI,EAAAa,QAAAb,EAAAa,SAAA,WAAAhB,EAAA,MAAAC,OAqC3DyB,gBAtBmB,SAACtG,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACvDyB,EAAYnC,EAAZmC,SADuDK,GAAA,EAAAC,GAAA,EAAAC,OAAA3C,EAAA,IAE9D,QAAA4C,EAAAC,EAAkBT,EAAlBlB,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzE,QAAAgD,MAAAqB,GAAA,SACW9B,EADgBiC,EAAAtB,OAFmC,MAAAO,GAAAa,GAAA,EAAAC,EAAAd,EAAA,YAAAY,GAAA,MAAAI,EAAAf,QAAAe,EAAAf,SAAA,WAAAY,EAAA,MAAAC,OAuB9DG,cAhBiB,SAAC5G,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACrDY,EAAqBtB,EAArBsB,GAAIC,EAAiBvB,EAAjBuB,KAAMG,EAAW1B,EAAX0B,QACjBhB,EAAMY,GAAIC,KAAOA,EACjBb,EAAMY,GAAII,QAAUA,KAcpBoB,kBAXoB,SAAC7G,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACxDY,EAAuBtB,EAAvBsB,GAAIgB,EAAmBtC,EAAnBsC,OAAQZ,EAAW1B,EAAX0B,QACnBhB,EAAMY,GAAIgB,OAASA,EACnB5B,EAAMY,GAAII,QAAUA,OC+CXqB,EAAmBpD,EAAc,GAAI,CAC9CqD,cA9EiB,SAAC/G,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACrDuC,EAAajD,EAAbiD,UADqDrC,GAAA,EAAAC,GAAA,EAAAC,OAAAf,EAAA,IAE5D,QAAAgB,EAAAC,EAAoBiC,EAApBhC,OAAAC,cAAAN,GAAAG,EAAAC,EAAA7C,QAAAgD,MAAAP,GAAA,EAA8B,KAAtBsC,EAAsBnC,EAAAM,MAC1BX,EAAMwC,EAAS5B,IAAM4B,GAHmC,MAAAtB,GAAAf,GAAA,EAAAC,EAAAc,EAAA,YAAAhB,GAAA,MAAAI,EAAAa,QAAAb,EAAAa,SAAA,WAAAhB,EAAA,MAAAC,OA+E5DqC,iBAvEoB,SAAClH,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACxDuC,EAAajD,EAAbiD,UADwDT,GAAA,EAAAC,GAAA,EAAAC,OAAA3C,EAAA,IAE/D,QAAA4C,EAAAC,EAAoBK,EAApBhC,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzE,QAAAgD,MAAAqB,GAAA,SACW9B,EADmBiC,EAAAtB,OAFiC,MAAAO,GAAAa,GAAA,EAAAC,EAAAd,EAAA,YAAAY,GAAA,MAAAI,EAAAf,QAAAe,EAAAf,SAAA,WAAAY,EAAA,MAAAC,OAwE/DU,gBAjEmB,SAACnH,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACvDY,EAAqBtB,EAArBsB,GAAII,EAAiB1B,EAAjB0B,QAASrG,EAAQ2E,EAAR3E,KACpBqF,EAAMY,GAAII,QAAUA,EACpBhB,EAAMY,GAAIjG,KAAOA,OAiERgI,EAAyB1D,EAAc,CAACtE,KAAM,GAAIhB,KAAM,IAAK,CACtEiJ,eA9DkB,SAACrH,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACtDrF,EAAmB2E,EAAnB3E,KAAMkI,EAAavD,EAAbuD,UAEb7C,EAAMrF,KAAOA,EACbqF,EAAMrG,KAAOkJ,KA2DbC,UAtDa,SAACvH,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACjD+C,EAAmBzD,EAAnByD,KAAMF,EAAavD,EAAbuD,UAETG,EAAchD,EAAMrG,KACxBoJ,EAAKE,QAAQ,SAACC,EAAKC,GACZA,EAAM,EAAIJ,EAAK3D,OACd4D,EAAcA,EAAYE,GAE1BF,EAAYE,GADQ,WAAdL,EACa,GACA,UAAdA,EACc,CAAC,WAEDA,OA2C3BO,UApCa,SAAC7H,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACjD+C,EAAezD,EAAfyD,KAAMpC,EAASrB,EAATqB,MAET0C,EAAUrD,EAAMrF,KACpBoI,EAAKE,QAAQ,SAACC,EAAKC,GACZA,EAAM,EAAIJ,EAAK3D,OACdiE,EAAUA,EAAQH,GAElBG,EAAQH,GAAOvC,OA6BvB2C,aAxBgB,SAAC/H,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACpD+C,EAAQzD,EAARyD,KAEHC,EAAchD,EAAMrG,KACxBoJ,EAAKE,QAAQ,SAACC,EAAKC,GACZA,EAAM,EAAIJ,EAAK3D,OACd4D,EAAcA,EAAYE,UAEnBF,EAAYE,UC2DxB,IAAMK,EAAiBtE,EAAc,GAAI,CAC5CuE,aAlIgB,SAACjI,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACpDY,EAAYtB,EAAZsB,GAAIjG,EAAQ2E,EAAR3E,KACXqF,EAAMY,GAAMjG,KAiIZ8I,eA3HkB,SAAClI,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACtDY,EAAmBtB,EAAnBsB,GAAIlC,EAAeY,EAAfZ,KAAMgF,EAASpE,EAAToE,MAEbC,EAAc3D,EAAMY,GACblC,EAAKkF,MAAM,KACjBX,QAAQ,SAACC,GACVS,EAAcA,EAAYT,KAG9BQ,EAAMT,QAAQ,SAAAtC,GAAK,OAAIgD,EAAYhD,EAAME,MAAQ,CAC7CA,KAAMF,EAAME,KACZgD,KAAMlD,EAAMkD,KACZ9C,QAASJ,EAAMI,QACf+C,SAAUnD,EAAMmD,eA+GpBC,eAxGkB,SAACxI,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACtDY,EAAYtB,EAAZsB,GAAIlC,EAAQY,EAARZ,KAEPiF,EAAc3D,EAAMY,GACpBmC,EAAOrE,EAAKkF,MAAM,KACtBb,EAAKE,QAAQ,SAACC,EAAKC,GACZA,EAAM,EAAIJ,EAAK3D,OACduE,EAAcA,EAAYT,GAE1BS,EAAYT,GAAO,QAgG3Bc,aAxFgB,SAACzI,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACpDY,EAAqBtB,EAArBsB,GAAIlC,EAAiBY,EAAjBZ,KAAMuF,EAAW3E,EAAX2E,QAEbN,EAAc3D,EAAMY,GACblC,EAAKkF,MAAM,KACjBX,QAAQ,SAACC,GACVS,EAAcA,EAAYT,KAG9Be,EAAQhB,QAAQ,SAAAiB,GACZ,IAAIC,EAAgBnE,EAAMY,GACtBmC,EAAOmB,EAAON,MAAM,KACxBb,EAAKE,QAAQ,SAACC,EAAKC,GACZA,EAAM,EAAIJ,EAAK3D,OACd+E,EAAgBA,EAAcjB,IAE9BS,EAAYT,GAAOiB,EAAcjB,UAC1BiB,EAAcjB,WAwEjCkB,eAhEkB,SAAC7I,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACtDY,EAA4BtB,EAA5BsB,GAAIlC,EAAwBY,EAAxBZ,KAAMmC,EAAkBvB,EAAlBuB,KAAMwD,EAAY/E,EAAZ+E,SAEnBV,EAAc3D,EAAMY,GACblC,EAAKkF,MAAM,KACjBX,QAAQ,SAACC,GACVS,EAAcA,EAAYT,KAG9BS,EAAYU,GAAYV,EAAY9C,UAC7B8C,EAAY9C,MAuDnByD,eAlDkB,SAAC/I,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IACtDY,EAAatB,EAAbsB,GAAatB,EAATiF,MAELtB,QAAQ,SAAAvE,GACV,IAAIiF,EAAc3D,EAAMY,GACpBmC,EAAOrE,EAAKkF,MAAM,KACtBb,EAAKE,QAAQ,SAACC,EAAKC,GACZA,EAAM,EAAIJ,EAAK3D,OACduE,EAAcA,EAAYT,UAEnBS,EAAYT,YA2CtBsB,EAAqBvF,EAAc,GAAI,CAChDwF,kBAlCJ,SAAyBlJ,EAAO+D,GAAO,IAC5BsB,EAAMtB,EAANsB,GACP,SAAA8D,OAAU9D,IAiCV+D,qBA9BJ,SAA4BpJ,EAAO+D,GAAO,IAC/B7B,EAAQ6B,EAAR7B,KACP,SAAAiH,OAAUnJ,EAAV,KAAAmJ,OAAmBjH,IA6BnBmH,sBA1BJ,SAA6BrJ,EAAO+D,GAChC,IAAMiF,EAAQhJ,EAAMqI,MAAM,KACtBiB,EAAM,GAQV,OAPAN,EAAMtB,QAAQ,SAACvE,EAAMyE,GACJ,IAAVA,EACC0B,EAAMnG,EACFyE,EAAM,EAAIoB,EAAMnF,SACpByF,GAAG,IAAAH,OAAQhG,MAGZmG,aC9FX,IAYaC,EAAiB7F,GAAc,EAAO,CAC/C8F,eA7CJ,SAAuBxJ,EAAO+D,GAC1B,OAAOA,EAAO5F,UA+CLsL,EAAgB/F,EAAc,GAAI,CAC3CgG,WA5Cc,SAAC1J,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IAClDrF,EAAQ2E,EAAR3E,KACPkC,OAAOqI,QAAQvK,GAAMsI,QAAQ,SAAA5F,GAAA,IAAA8H,EAAAtI,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAAE6F,EAAFiC,EAAA,GAAOxE,EAAPwE,EAAA,UAAkBnF,EAAMkD,GAAOvC,SA6CnDyE,EAAgBnG,EAAc,KAAM,CAC7CoG,gBA1CJ,SAAuB9J,EAAO+D,GAC1B,OAAOrF,KA0CPqL,mBAvCJ,SAA0B/J,EAAO+D,GAC7B,OAAOpF,KAuCPqL,mBApCJ,SAA0BhK,EAAO+D,GAC7B,OAAOnF,KAoCPqL,gBAjCJ,SAAuBjK,EAAO+D,GAC1B,OAAOlF,KAiCPqL,YA9BJ,SAAoBlK,EAAO+D,GACvB,OAAO,QAgCEoG,EAAsBzG,EAAc,CAACnF,MAAO,GAAIC,QAAS,IAAK,CACvE4L,yBA7B2B,SAACpK,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAAQ,IAC/DlG,EAAkBwF,EAAlBxF,MAAOC,EAAWuF,EAAXvF,QACdiG,EAAMlG,MAAQA,EACdkG,EAAMjG,QAAUA,KA2BhB6L,yBAxB2B,SAACrK,EAAO+D,GAAR,OAAmBS,YAAQxE,EAAO,SAACyE,GAC9DA,EAAMlG,MAAQ,GACdkG,EAAMjG,QAAU,QCnBL8L,EAjBEC,YACb,CACItK,WAAYgE,EACZS,SAAUJ,EACV4B,SAAUF,EACVgB,UAAWF,EACX0D,gBAAiBpD,EACjBqD,QAASzC,EACT0C,YAAazB,EACb0B,OAAQd,EACRe,aAAcT,EACdxB,OAAQc,EACRoB,QAAStB,EACTuB,eAAgB3G,6BCTlB4G,EAAQC,YACVV,EACAW,YAAgBC,MAIdC,EAAQC,YAAe,CACzBP,QAAS,CACLQ,MAHa,IAIbC,WAAY,GAEhBC,aAAc,CACVF,MAPa,KASjBG,WAAY,GACZC,KAAM,CACFC,QAAS,QAEbC,QAAQ,CACJC,QAAS,CACLC,KAAM,WAEVC,UAAW,CACPD,KAAM,WAEVE,MAAO,CACHF,KAAM,WAEVG,WAAW,CACPC,KAAK,CACDC,MAAO,UACPL,KAAM,UACNI,KAAM,WAEVC,MAAM,CACFA,MAAO,UACPL,KAAM,UACNI,KAAM,YAGdE,YAAc,GACdC,kBAAmB,KAI3BjB,EAAMK,WAANlK,OAAA+K,EAAA,EAAA/K,CAAA,GACK6J,EAAMmB,YAAYC,GAAG,MAAQ,CAC1BC,WA1Ca,IA2CbnB,MAAK,eAAAlC,OA3CQ,IA2CR,SAIbsD,IAASC,OACLxM,EAAAC,EAAAC,cAACuM,EAAA,EAAD,CAAkBxB,MAAOA,GACrBjL,EAAAC,EAAAC,cAACwM,EAAA,EAAD,CAAU7B,MAAOA,GACb7K,EAAAC,EAAAC,cAACyM,EAAA,EAAD,KACI3M,EAAAC,EAAAC,cAAC0M,EAAD,SAIV7F,SAAS8F,eAAe,STwDxB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMtM,KAAK,SAAAuM,GACjCA,EAAaC","file":"static/js/main.7cc67106.chunk.js","sourcesContent":["// authorization status\r\nexport const FIRST_BOOT = \"FIRST_BOOT\";\r\nexport const NOT_AUTHORIZED = \"NOT_AUTHORIZED\";\r\nexport const USER = \"USER\";\r\nexport const MANAGER = \"MANAGER\";\r\nexport const CREATOR = \"CREATOR\";\r\nexport const AUTHORIZATION_STATUS = {\r\n    \"0\": FIRST_BOOT,\r\n    \"-1\": NOT_AUTHORIZED,\r\n    \"1\": USER,\r\n    \"2\": MANAGER,\r\n    \"3\": CREATOR\r\n};\r\n\r\nexport function SetAuthStatus(status){\r\n    return {type: \"SET_AUTHORIZATION_STATUS\", status: status};\r\n}","// UI SideBar switch\r\nexport function SwitchSideBar(status){\r\n    return {type: \"SWITCH_SIDEBAR\", status: status};\r\n}\r\n\r\n// UI Notification Dialog switch and content data\r\nexport function ShowNotificationDialog(title, content){\r\n    return {type: \"SHOW_NOTIFICATION_DIALOG\", title: title, content: content};\r\n}\r\n\r\nexport function HideNotificationDialog(){\r\n    return {type: \"HIDE_NOTIFICATION_DIALOG\"};\r\n}\r\n\r\n// UI dialog\r\nexport const ADD_DIALOG = \"ADD_DIALOG\";\r\nexport const DELETE_DIALOG = \"DELETE_DIALOG\";\r\nexport const RENAME_DIALOG = \"RENAME_DIALOG\";\r\nexport const IMG_DIALOG = \"IMG_DIALOG\";\r\n\r\nexport function ShowAddDialog(){\r\n    return {type: \"SHOW_ADD_DIALOG\"};\r\n}\r\n\r\nexport function ShowDeleteDialog(){\r\n    return {type: \"SHOW_DELETE_DIALOG\"};\r\n}\r\n\r\nexport function ShowRenameDialog(){\r\n    return {type: \"SHOW_RENAME_DIALOG\"};\r\n}\r\n\r\nexport function ShowImgDialog(){\r\n    return {type: \"SHOW_IMG_DIALOG\"};\r\n}\r\n\r\nexport function HideDialog(){\r\n    return {type: \"HIDE_DIALOG\"};\r\n}\r\n\r\n// current target information\r\nexport function SetTarget(data){\r\n    return {type: \"SET_TARGET\", data: data};\r\n}","import axios from 'axios';\r\nexport default axios.create({\r\n    baseURL: '/',\r\n    responseType: \"json\",\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\nimport {NOT_AUTHORIZED, FIRST_BOOT, USER} from '../redux/actions/authorizationActions';\r\n\r\nfunction AuthorizationCheck(){\r\n    const _status = useSelector(state => state.authStatus);\r\n\r\n\tswitch (_status) {\r\n\t\tcase FIRST_BOOT:\r\n\t\t\treturn <Redirect to='/signup'/>;\r\n\t\tcase NOT_AUTHORIZED:\r\n\t\t\treturn <Redirect to='/signin'/>;\r\n\t\tcase USER:\r\n\t\t\treturn <Redirect to='/'/>;\r\n\t\tdefault:\r\n\t\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default AuthorizationCheck;","import React, {lazy, Suspense, useEffect, useState} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport {CssBaseline} from '@material-ui/core';\nimport {useDispatch} from 'react-redux';\nimport Axios from './Axios';\nimport {AUTHORIZATION_STATUS, SetAuthStatus} from './redux/actions/authorizationActions';\nimport AuthorizationCheck from './components/AuthorizationCheck';\n\nconst Admin = lazy(()=>import('./Admin'));\nconst SignIn = lazy(()=>import('./SignIn'));\nconst SignUp = lazy(()=>import('./SignUp'));\n\nfunction App() {\n\tconst dispatch = useDispatch();\n\tconst [status, setStatus] = useState(null);\n\n\tasync function fetchStatus(){\n\t\ttry{\n\t\t\tconst {data} = await Axios.get('user/status');\n\t\t\t// set status only if status value change\n\t\t\tif(status !== data) setStatus(data);\n\t\t}\n\t\tcatch(err){\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\tuseEffect(()=>{\n\t\tfetchStatus();\n\t}, []);\n\n\tuseEffect(()=>{\n\t\tif(status !== null) \n\t\t\tdispatch(SetAuthStatus(AUTHORIZATION_STATUS[status]));\n\t}, [status]);\n\t  \n\treturn (\n    \t<Suspense fallback={<div></div>}>\n\t\t\t<CssBaseline/>\n\t\t\t<AuthorizationCheck/>\n\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/signin\" component={SignIn}/>\n\t\t\t\t<Route path=\"/signup\" component={SignUp}/>\n\t\t\t\t<Route path=\"/\" component={Admin}/>\n\t\t\t</Switch>\n\n\t\t</Suspense>\n  \t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export function createReducer(initialState, handlers) {\r\n    return function reducer(state = initialState, action) {\r\n        if (handlers.hasOwnProperty(action.type)) {\r\n            return handlers[action.type](state, action)\r\n        } else {\r\n            return state\r\n        }\r\n    }\r\n}","import {createReducer} from './helpers';\r\n\r\nfunction SetAuthorizationStatus(state, action){\r\n    return action.status;\r\n}\r\n\r\nconst authorizationReducer = createReducer('', {\r\n    SET_AUTHORIZATION_STATUS: SetAuthorizationStatus\r\n});\r\n\r\nexport default authorizationReducer;","import {createReducer} from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// project popover\r\nfunction SetProjectPopover(state, action){\r\n    return action.anchor;\r\n}\r\n\r\n// receive array of id, name, updated, created, publicKey\r\nconst AddProjects = (state, action) => produce(state, (draft)=>{\r\n    const {projects} = action;\r\n    for(let project of projects){\r\n        draft[project.id] = {\r\n            id: project.id,\r\n            name: project.name,\r\n            img: project.img,\r\n            created: project.created,\r\n            updated: project.updated,\r\n            publicKey: project.publicKey\r\n        }\r\n    }\r\n});\r\n\r\nconst DeleteProject = (state, action) => produce(state, (draft)=>{\r\n    const {id} = action;\r\n    delete draft[id];\r\n});\r\n\r\nconst RenameProject = (state, action) => produce(state, (draft)=>{\r\n    const {id, name, updated} = action;\r\n    draft[id].name = name;\r\n    draft[id].updated = updated;\r\n});\r\n\r\nconst ImgProject = (state, action) => produce(state, (draft)=>{\r\n    const {id, img, updated} = action;\r\n    draft[id].img = img;\r\n    draft[id].updated = updated;\r\n});\r\n\r\n// reducers\r\nexport const projectPopoverReducer = createReducer(null, {\r\n    SET_PROJECT_POPOVER: SetProjectPopover\r\n});\r\n\r\nexport const projectsReducer = createReducer({}, {\r\n    ADD_PROJECTS: AddProjects,\r\n    DELETE_PROJECT: DeleteProject,\r\n    RENAME_PROJECT: RenameProject,\r\n    IMG_PROJECT: ImgProject,\r\n});","import { createReducer } from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// receive array of id, projectId, name, updated, created\r\nconst AddEntities = (state, action) => produce(state, (draft)=>{\r\n    const {entities} = action;\r\n    for(let entity of entities){\r\n        draft[entity.id] = {\r\n            id: entity.id,\r\n            projectId: entity.projectId,\r\n            name: entity.name,\r\n            created: entity.created,\r\n            updated: entity.updated,\r\n            schema: entity.schema\r\n        }\r\n    }\r\n});\r\n\r\n// receive array of entity id\r\nconst DeleteEntities = (state, action) => produce(state, (draft)=>{\r\n    const {entities} = action;\r\n    for(let entity of entities){\r\n        delete draft[entity];\r\n    }\r\n});\r\n\r\nconst RenameEntity = (state, action) => produce(state, (draft)=>{\r\n    const {id, name, updated} = action; \r\n    draft[id].name = name;\r\n    draft[id].updated = updated;\r\n});\r\n\r\nconst SetEntitySchema = (state, action) => produce(state, (draft)=>{\r\n    const {id, schema, updated} = action; \r\n    draft[id].schema = schema;\r\n    draft[id].updated = updated;\r\n});\r\n\r\n// reducers\r\nexport const entitiesReducer = createReducer({}, {\r\n    ADD_ENTITIES: AddEntities,\r\n    DELETE_ENTITIES: DeleteEntities,\r\n    RENAME_ENTITY: RenameEntity,\r\n    SET_ENTITY_SCHEMA: SetEntitySchema\r\n});\r\n","import { createReducer } from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// document reducer\r\n// receive array of id, entityId, data, updated, created\r\nconst AddDocuments = (state, action) => produce(state, (draft)=>{\r\n    const {documents} = action;\r\n    for(let document of documents){\r\n        draft[document.id] = document\r\n    }\r\n});\r\n\r\n// receive array of documents id\r\nconst DeleteDocuments = (state, action) => produce(state, (draft)=>{\r\n    const {documents} = action;\r\n    for(let document of documents){\r\n        delete draft[document];\r\n    }\r\n});\r\n\r\nconst ModifyDocument = (state, action) => produce(state, (draft)=>{\r\n    const {id, updated, data} = action;\r\n    draft[id].updated = updated;\r\n    draft[id].data = data;\r\n});\r\n\r\n// receive data and type\r\nconst GenerateField = (state, action) => produce(state, (draft)=>{\r\n    const {data, fieldType} = action;\r\n\r\n    draft.data = data;\r\n    draft.type = fieldType;\r\n});\r\n\r\n// receive array of key and type\r\n// array type only for array(define what can of type array contain)\r\nconst AddField = (state, action) => produce(state, (draft)=>{\r\n    const {keys, fieldType} = action;\r\n\r\n    let currentType = draft.type;\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length){\r\n            currentType = currentType[key];\r\n        }else if (fieldType === 'object'){\r\n            currentType[key] = {};\r\n        }else if(fieldType === 'array'){\r\n            currentType[key] = ['integer'];\r\n        }else{\r\n            currentType[key] = fieldType;\r\n        }\r\n    });\r\n});\r\n\r\n// receive array of key and value\r\n// key must exist and have a right topology\r\nconst SetField = (state, action) => produce(state, (draft)=>{\r\n    const {keys, value} = action;\r\n    \r\n    let current = draft.data;\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length)\r\n            current = current[key];\r\n        else\r\n            current[key] = value;\r\n    });\r\n});\r\n\r\n// receive array of key\r\nconst DeleteField = (state, action) => produce(state, (draft)=>{\r\n    const {keys} = action;\r\n    \r\n    let currentType = draft.type;\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length)\r\n            currentType = currentType[key];\r\n        else\r\n            delete currentType[key];\r\n    });\r\n});\r\n\r\n// reducers\r\n\r\nexport const documentsReducer = createReducer({}, {\r\n    ADD_DOCUMENTS: AddDocuments,\r\n    DELETE_DOCUMENTS: DeleteDocuments,\r\n    MODIFY_DOCUMENT: ModifyDocument\r\n});\r\n\r\nexport const currentDocumentReducer = createReducer({data: {}, type: {}}, {\r\n    GENERATE_FIELD: GenerateField,\r\n    ADD_FIELD: AddField,\r\n    SET_FIELD: SetField,\r\n    DELETE_FIELD: DeleteField\r\n});","import {createReducer} from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// for storage reducer\r\n\r\n// receive project id and data consist of folder structure in shape of object tree\r\nconst InitStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, data} = action;\r\n    draft[id] = data;\r\n});\r\n\r\n// receive project id, path, files\r\n// process path into keys\r\n// path can null\r\nconst UploadStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path, files} = action;\r\n    \r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key)=>{\r\n        currentPath = currentPath[key];\r\n    });\r\n\r\n    files.forEach(value => currentPath[value.name] = {\r\n        name: value.name,\r\n        size: value.size,\r\n        created: value.created,\r\n        modified: value.modified\r\n    });\r\n});\r\n\r\n// receive project id, path\r\n// process path into keys\r\n// path will never null\r\nconst FolderStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path} = action;\r\n    \r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length){\r\n            currentPath = currentPath[key];\r\n        }else{\r\n            currentPath[key] = {};\r\n        }\r\n    });\r\n});\r\n\r\n// receive project id, path, and targets\r\n// path can null\r\n// targets is array and 1 path will never null\r\nconst MoveStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path, targets} = action;\r\n\r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key)=>{\r\n        currentPath = currentPath[key];\r\n    });\r\n\r\n    targets.forEach(target => {\r\n        let currentTarget = draft[id];\r\n        let keys = target.split('/');\r\n        keys.forEach((key, index)=>{\r\n            if(index+1 < keys.length){\r\n                currentTarget = currentTarget[key];\r\n            }else{\r\n                currentPath[key] = currentTarget[key];\r\n                delete currentTarget[key];\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// receive project id, path, name, new_name\r\n// path can null\r\nconst RenameStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path, name, new_name} = action;\r\n    \r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key)=>{\r\n        currentPath = currentPath[key];\r\n    });\r\n\r\n    currentPath[new_name] = currentPath[name];\r\n    delete currentPath[name];\r\n});\r\n\r\n// receive project id, and target paths\r\n// paths is array and 1 path will never null\r\nconst DeleteStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, paths} = action;\r\n    \r\n    paths.forEach(path => {\r\n        let currentPath = draft[id];\r\n        let keys = path.split('/');\r\n        keys.forEach((key, index)=>{\r\n            if(index+1 < keys.length){\r\n                currentPath = currentPath[key];\r\n            }else{\r\n                delete currentPath[key];\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// for storage path reducer\r\n\r\n// receive project id\r\n// init path when first visiting storage\r\nfunction InitStoragePath(state, action){\r\n    const {id} = action;\r\n    return `${id}`;\r\n}\r\n\r\nfunction ForwardStoragePath(state, action){\r\n    const {next} = action;\r\n    return `${state}/${next}`;\r\n}\r\n\r\nfunction BackwardStoragePath(state, action){\r\n    const paths = state.split('/');\r\n    let res = '';\r\n    paths.forEach((path, index) => {\r\n        if(index === 0)\r\n            res = path;\r\n        else if(index+1 < paths.length)\r\n            res += `/${path}`;\r\n    });\r\n\r\n    return res;\r\n}\r\n\r\n// reducers\r\nexport const storageReducer = createReducer({}, {\r\n    INIT_STORAGE: InitStorage,\r\n    UPLOAD_STORAGE: UploadStorage,\r\n    FOLDER_STORAGE: FolderStorage,\r\n    MOVE_STORAGE: MoveStorage,\r\n    RENAME_STORAGE: RenameStorage,\r\n    DELETE_STORAGE: DeleteStorage,\r\n});\r\n\r\nexport const storagePathReducer = createReducer('', {\r\n    INIT_STORAGE_PATH: InitStoragePath,\r\n    FORWARD_STORAGE_PATH: ForwardStoragePath,\r\n    BACKWARD_STORAGE_PATH: BackwardStoragePath\r\n});","import {createReducer} from './helpers';\r\nimport {ADD_DIALOG, DELETE_DIALOG, RENAME_DIALOG, IMG_DIALOG} from '../actions/globalActions';\r\nimport {produce} from 'immer';\r\n\r\n// admin sidebar switch\r\nfunction SwitchSideBar(state, action) {\r\n    return action.status;\r\n}\r\n\r\n// target\r\nconst SetTarget = (state, action) => produce(state, (draft)=>{\r\n    const {data} = action;\r\n    Object.entries(data).forEach(([key, value]) => draft[key] = value);\r\n});\r\n\r\n// add, delete, rename dialog\r\nfunction ShowAddDialog(state, action){\r\n    return ADD_DIALOG;\r\n}\r\n\r\nfunction ShowDeleteDialog(state, action){\r\n    return DELETE_DIALOG;\r\n}\r\n\r\nfunction ShowRenameDialog(state, action){\r\n    return RENAME_DIALOG;\r\n}\r\n\r\nfunction ShowImgDialog(state, action){\r\n    return IMG_DIALOG;\r\n}\r\n\r\nfunction HideDialog(state, action){\r\n    return null;\r\n}\r\n\r\n// notification dialog switch\r\nconst ShowNotificationDialog = (state, action) => produce(state, (draft)=>{\r\n    const {title, content} = action;\r\n    draft.title = title;\r\n    draft.content = content;\r\n});\r\n\r\nconst HideNotificationDialog = (state, action) => produce(state, (draft)=>{\r\n    draft.title = '';\r\n    draft.content = '';\r\n});\r\n\r\n// reducers\r\nexport const sidebarReducer = createReducer(false, {\r\n    SWITCH_SIDEBAR: SwitchSideBar\r\n});\r\n\r\nexport const targetReducer = createReducer({}, {\r\n    SET_TARGET: SetTarget\r\n});\r\n\r\nexport const dialogReducer = createReducer(null, {\r\n    SHOW_ADD_DIALOG: ShowAddDialog,\r\n    SHOW_DELETE_DIALOG: ShowDeleteDialog,\r\n    SHOW_RENAME_DIALOG: ShowRenameDialog,\r\n    SHOW_IMG_DIALOG: ShowImgDialog,\r\n    HIDE_DIALOG: HideDialog\r\n});\r\n\r\nexport const notificationReducer = createReducer({title: '', content: ''}, {\r\n    SHOW_NOTIFICATION_DIALOG: ShowNotificationDialog,\r\n    HIDE_NOTIFICATION_DIALOG: HideNotificationDialog\r\n});","import {combineReducers} from 'redux';\r\n\r\nimport authorizationReducer from './authorizationReducer';\r\nimport {projectPopoverReducer, projectsReducer} from './projectReducer';\r\nimport {entitiesReducer} from './entityReducer';\r\nimport {documentsReducer, currentDocumentReducer} from './documentReducer';\r\nimport {storageReducer, storagePathReducer} from './storageReducer';\r\nimport {notificationReducer, dialogReducer, targetReducer, sidebarReducer} from './globalReducer';\r\n\r\nconst reducers = combineReducers(\r\n    {\r\n        authStatus: authorizationReducer,\r\n        projects: projectsReducer,\r\n        entities: entitiesReducer,\r\n        documents: documentsReducer,\r\n        currentDocument: currentDocumentReducer,\r\n        storage: storageReducer,\r\n        storagePath: storagePathReducer,\r\n        dialog: dialogReducer,\r\n        notification: notificationReducer,\r\n        target: targetReducer,\r\n        sidebar: sidebarReducer,\r\n        projectPopover: projectPopoverReducer\r\n    }\r\n);\r\n\r\nexport default reducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {createStore, applyMiddleware} from 'redux';\nimport {Provider} from 'react-redux';\nimport reducers from './redux/reducers';\nimport thunk from 'redux-thunk';\n\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\n\nconst store = createStore(\n    reducers, \n    applyMiddleware(thunk)\n);\n\nconst sidebarWidth = 300;\nconst theme = createMuiTheme({\n    sidebar: {\n        width: sidebarWidth,\n        flexShrink: 0\n    },\n    sidebarPaper: {\n        width: sidebarWidth\n    },\n    responsive: {},\n    hide: {\n        display: 'none'\n    },\n    palette:{\n        primary: {\n            main: '#a6e0ed'\n        },\n        secondary: {\n            main: '#56db96'\n        },\n        error: {\n            main: '#c91448'\n        },\n        background:{\n            dark:{\n                light: '#555954',\n                main: '#444743',\n                dark: '#2c2e2c'\n            },\n            light:{\n                light: '#f5f5f5',\n                main: '#ededed',\n                dark: '#e6e6e6'\n            }\n        },\n        tonalOffset:  0.2,\n        contrastThreshold: 3\n    }\n});\n\ntheme.responsive = {\n    [theme.breakpoints.up('md')]: {\n        marginLeft: sidebarWidth,\n        width: `calc(100% - ${sidebarWidth}px)`\n    }\n}\n\nReactDOM.render(\n    <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n            <BrowserRouter>\n                <App />\n            </BrowserRouter>\n        </Provider>\n    </MuiThemeProvider>\n    , document.getElementById('root')\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}