(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{146:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(349),o=n(355),i=n(350),m=n(356),l=n(156),u=n(150),d=n(198),s=n(362),f=n(322);var p=function(e){var t=e.request,n=e.btn,a=e.category,r=e.values,o=r.name,i=r.newName,m=r.confirmName,l=e.errors,u=e.touched,p=e.handleChange,b=e.isValid,E=e.setFieldTouched,g=function(e,t){t.persist(),p(t),E(e,!0,!1)};return c.a.createElement(d.a,{container:!0,component:"form",spacing:1,onSubmit:function(e){e.preventDefault(),t({name:o,newName:i,confirmName:m})}},"add"===a?c.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"name",name:"name",label:"Name",onChange:g.bind(null,"name"),value:o,helperText:u.name?l.name:"",error:u.name&&Boolean(l.name)}):"delete"===a?c.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:g.bind(null,"confirmName"),value:m,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)}):"rename"===a?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"newName",name:"newName",label:"New Name",onChange:g.bind(null,"newName"),value:i,helperText:u.newName?l.newName:"",error:u.newName&&Boolean(l.newName)}),c.a.createElement(d.a,{component:s.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:g.bind(null,"confirmName"),value:m,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)})):null,c.a.createElement(d.a,{item:!0,xs:12,component:f.a,type:"submit",disabled:!b,size:"large"},n))},b=u.object({name:u.string().required("enter name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"name too short").max(50,"name too long")}),E=u.object({name:u.string(),confirmName:u.string().required("re-enter name").matches(/^[a-z0-9_]*$/i,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).oneOf([u.ref("name")],"Confirm Name does not match")}),g=u.object({name:u.string(),confirmName:u.string().required("re-enter name").oneOf([u.ref("name")],"Confirm Name does not match"),newName:u.string().required("enter new name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"new name too short").max(50,"new name too long")}),N={name:""},h=function(e){return{name:e,confirmName:""}},j=function(e){return{name:e,confirmName:"",newName:""}};t.a=function(e){var t=e.title,n=e.content,a=e.targetName,u=e.category,d=e.dialogProps;return c.a.createElement(r.a,d,c.a.createElement(o.a,{id:"dialog-title"},t),c.a.createElement(i.a,null,"add"===u||"delete"===u||"rename"===u?c.a.createElement(c.a.Fragment,null,"delete"===u?c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,n),c.a.createElement(m.a,null,"Please type in the name of the target to confirm")):null,c.a.createElement(l.a,{validationSchema:"add"===u?b:"rename"===u?g:"delete"===u?E:{},initialValues:"add"===u?N:"rename"===u?j(a):"delete"===u?h(a):{},render:function(t){return c.a.createElement(p,Object.assign({},e,t))}})):"notification"===u?c.a.createElement(m.a,null,n):null))}},186:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(115);t.a=Object(r.a)(c.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},683:function(e,t,n){"use strict";n.r(t);var a=n(40),c=n(0),r=n.n(c),o=n(26),i=n(179),m=n.n(i),l=n(607),u=n(608),d=n(186),s=n(667),f=n(668),p=n(669),b=n(670),E=n(671),g=n(672),N=n(35),h=n(149),j=n(21),v=n(13),y=n.n(v),O=n(22),w=n(146),x=n(23);var k=function(e){var t=Object(o.c)(),n=Object(o.d)(function(e){return e.target}),a=Object(o.d)(function(e){return e.dialog}),c=Object(o.d)(function(e){return e.notification});return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{dialogProps:{open:a===j.a,onClose:function(){return t(Object(j.c)())}},category:"add",title:"Add New Entity",btn:"Add New Entity",request:function(){var e=Object(O.a)(y.a.mark(function e(a){var c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.name,e.prev=1,e.next=4,x.a.post("entity/".concat(n.id),{name:c});case 4:t(Object(j.c)()),t(Object(j.k)("Add New Entity ".concat(c),"Succeed adding new entity ".concat(c))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(j.c)()),t(Object(j.k)("Add New Entity ".concat(c),"Fail adding new entity ".concat(c,", error: ").concat(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(w.a,{dialogProps:{open:a===j.b,onClose:function(){return t(Object(j.c)())}},category:"delete",title:'PERMANENTLY DELETE "'.concat(n.name,'"'),btn:'PERMANENTLY DELETE "'.concat(n.name,'"'),content:'This action will PERMANENTLY DELETE "'.concat(n.name,'". Proceed with caution!'),targetName:n.name,request:function(){var e=Object(O.a)(y.a.mark(function e(a){var c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.name,e.prev=1,e.next=4,x.a.delete("entity/".concat(n.id));case 4:t(Object(j.c)()),t(Object(j.k)("Delete Entity ".concat(c),"Succeed deleting entity ".concat(c))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(j.c)()),t(Object(j.k)("Delete Entity ".concat(c),"Fail deleting entity ".concat(c,", error: ").concat(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(w.a,{dialogProps:{open:a===j.f,onClose:function(){return t(Object(j.c)())}},category:"rename",title:'Rename "'.concat(n.name,'"'),btn:'Rename "'.concat(n.name,'"'),targetName:n.name,request:function(){var e=Object(O.a)(y.a.mark(function e(a){var c,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.name,r=a.newName,e.prev=1,e.next=4,x.a.post("entity/".concat(n.id,"/rename"),{name:r});case 4:t(Object(j.c)()),t(Object(j.k)("Rename Entity ".concat(c),"Succeed renaming entity ".concat(c," into ").concat(r))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(j.c)()),t(Object(j.k)("Rename Entity ".concat(c),"Fail renaming entity ".concat(c," into ").concat(r,", error: ").concat(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(w.a,{category:"notification",title:c.title,content:c.content,dialogProps:{open:""!==c.title&&""!==c.content,onClose:function(){return t(Object(j.d)())}}}))},A=[{title:"#",field:"#",searchable:!1},{field:"id",searchable:!1,hidden:!0,export:!1},{field:"projectName",searchable:!1,hidden:!0,export:!1},{title:"Name",field:"name",searchable:!0,render:function(e){var t=e.name,n=e.projectName;return r.a.createElement(N.b,{style:{color:"black"},to:"/".concat(n,"/").concat(t)},t)}},{title:"Created At",field:"createdAt",searchable:!1,type:"datetime"},{title:"Updated At",field:"updatedAt",searchable:!1,type:"datetime"}];t.default=function(e){var t=Object(o.c)(),n=e.match.params.project,i=Object(c.useMemo)(h.b,[]),N=Object(o.d)(function(e){return i(e,n)}),v=Object(c.useState)([]),y=Object(a.a)(v,2),O=y[0],w=y[1];return Object(c.useEffect)(function(){w(N.entities.map(function(e,t){return{"#":t+1,id:e.id,projectName:n,name:e.name,createdAt:e.created,updatedAt:e.updated}}))},[N]),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(m.a,{title:"Entities",columns:A,data:O,actions:[{icon:function(){return r.a.createElement(l.a,null)},tooltip:"Rename Entity",onClick:function(e,n){var a=n.id,c=n.name;t(Object(j.g)({id:a,name:c})),t(Object(j.l)())}},{icon:function(){return r.a.createElement(u.a,null)},tooltip:"Delete Entity",onClick:function(e,n){var a=n.id,c=n.name;t(Object(j.g)({id:a,name:c})),t(Object(j.i)())}},{icon:function(){return r.a.createElement(d.a,null)},tooltip:"Add Entity",isFreeAction:!0,onClick:function(e){t(Object(j.g)({id:N.project.id})),t(Object(j.h)())}}],icons:{Search:s.a,ResetSearch:f.a,FirstPage:p.a,PreviousPage:b.a,NextPage:E.a,LastPage:g.a},options:{pageSize:10,pageSizeOptions:[10,25,50],search:!0,actionsColumnIndex:-1}}))}}}]);
//# sourceMappingURL=16.80fddadb.chunk.js.map