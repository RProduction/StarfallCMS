{"version":3,"sources":["components/FormButton.js","components/ContentContainer.js","components/AuthorizationForm.js","SignUp.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","FormButton","props","a","createElement","Object","assign","item","component","Button","children","ContentContainer","minHeight","Container","maxWidth","_ContentContainer__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","formik__WEBPACK_IMPORTED_MODULE_4__","useStyle","makeStyles","theme","root","position","top","left","right","bottom","backgroundColor","palette","background","dark","AuthorizationForm","style","container","alignItems","justify","className","AUTHORITIES_CREATOR","AUTHORITIES_MANAGER","AUTHORITIES_FIRST_BOOT","padding","spacing","& > div","marginTop","marginBottom","btn","primary","PaperForm","React","forwardRef","ref","react__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","innerRef","SignUp","_status","useSelector","state","authStatus","_useState","useState","_useState2","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","authorities","setAuthorities","_useState3","_useState4","authority","setAuthority","_useState5","_useState6","redirect","setRedirect","useEffect","CREATOR","MANAGER","FIRST_BOOT","undefined","_props$values","values","username","password","confirmPassword","errors","touched","handleChange","isValid","setFieldTouched","change","name","e","persist","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","to","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","xs","sm","elevation","onSubmit","_ref","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","wrap","_context","prev","next","preventDefault","Axios","post","t0","console","log","stop","_x","apply","this","arguments","TextField","required","id","label","onChange","bind","value","variant","margin","helperText","error","Boolean","type","select","event","target","map","option","_material_ui_core__WEBPACK_IMPORTED_MODULE_10__","key","_components_FormButton__WEBPACK_IMPORTED_MODULE_15__","disabled","color","ValidationSchema","Yup","matches","message","excludeEmptyString","min","max","oneOf","InitialValues","Validation","_components_AuthorizationForm__WEBPACK_IMPORTED_MODULE_4__","validationSchema","initialValues","render"],"mappings":"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","file":"static/js/17.ea1f941f.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Grid, Button} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction FormButton(props){\r\n    return(\r\n        <Grid item component={Button} {...props}>\r\n            {props.children}\r\n        </Grid>\r\n    )\r\n}\r\n\r\nFormButton.propTypes = {\r\n    type: PropTypes.string,\r\n    disabled: PropTypes.bool,\r\n    onClick: PropTypes.func,\r\n    xs: PropTypes.oneOf(['auto',true,1,2,3,4,5,6,7,8,9,10,11,12]).isRequired,\r\n    color: PropTypes.string,\r\n    variant: PropTypes.string,\r\n    classes: PropTypes.any\r\n}\r\n\r\nexport default FormButton;","import React from 'react';\r\nimport {Container, Box} from '@material-ui/core';\r\n\r\nfunction ContentContainer(props){\r\n    return(\r\n        <Box minHeight='100vh' component={Container} maxWidth=\"xl\" {...props}>\r\n            {\r\n                props.children\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ContentContainer;","import React from 'react';\r\nimport ContentContainer from './ContentContainer';\r\nimport {Grid, makeStyles} from '@material-ui/core';\r\nimport {Formik} from 'formik';\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n\troot:{\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t\tbackgroundColor: theme.palette.background.dark.dark\r\n\t}\r\n}));\r\n\r\nfunction AuthorizationForm(props){\r\n\tconst style = useStyle();\r\n\r\n\treturn (\r\n\t\t<ContentContainer>\r\n            <Grid container alignItems=\"center\" justify=\"center\" \r\n                className={style.root}\r\n\t\t\t>\r\n\t\t\t\t<Formik {...props}/>\r\n\t\t\t</Grid>\r\n\t\t</ContentContainer>\r\n  \t);\r\n}\r\n\r\nexport default AuthorizationForm;","import React, { useEffect, useState } from 'react';\r\nimport AuthorizationForm from './components/AuthorizationForm';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {TextField, Grid, MenuItem, makeStyles, Paper} from '@material-ui/core';\r\nimport {useSelector} from 'react-redux';\r\nimport {CREATOR, MANAGER, FIRST_BOOT} from './redux/actions/authorizationActions';\r\nimport Axios from './Axios';\r\nimport * as Yup from 'yup';\r\nimport FormButton from './components/FormButton';\r\n\r\nconst AUTHORITIES_CREATOR = ['Manager', 'User'];\r\nconst AUTHORITIES_MANAGER = ['User'];\r\nconst AUTHORITIES_FIRST_BOOT = ['Creator'];\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n\troot:{\r\n\t\tpadding: theme.spacing(2.5),\r\n\t\t'& > div':{\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t}\r\n\t},\r\n\tbtn:{\r\n\t\tbackgroundColor: theme.palette.primary\r\n\t}\r\n}));\r\n\r\nconst PaperForm = React.forwardRef((props, ref)=>{\r\n\treturn <Paper component='form' {...props} innerRef={ref}/>\r\n});\r\n\r\nconst SignUp = (props)=>{\r\n\tconst style = useStyle();\r\n\tconst _status = useSelector(state => state.authStatus);\r\n\tconst [authorities, setAuthorities] = useState([]);\r\n\tconst [authority, setAuthority] = useState('');\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\r\n\tuseEffect(()=>{\r\n\t\tswitch(_status){\r\n\t\t\tcase CREATOR:\r\n\t\t\t\tsetAuthorities(AUTHORITIES_CREATOR);\r\n\t\t\tbreak;\r\n\t\t\tcase MANAGER:\r\n\t\t\t\tsetAuthorities(AUTHORITIES_MANAGER);\r\n\t\t\tbreak;\r\n\t\t\tcase FIRST_BOOT:\r\n\t\t\t\tsetAuthorities(AUTHORITIES_FIRST_BOOT);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}, [_status]);\r\n\r\n\tuseEffect(()=>{\r\n\t\t// setdefault value for authorization if authorizations get loaded\r\n\t\tif(authorities !== [] && authorities[0] !== undefined) \r\n\t\t\tsetAuthority(authorities[0]);\r\n\t}, [authorities]);\r\n\r\n\tconst {\r\n\t\tvalues: { username, password, confirmPassword },\r\n\t\terrors,\r\n\t\ttouched,\r\n\t\thandleChange,\r\n\t\tisValid,\r\n\t\tsetFieldTouched\r\n\t} = props;\r\n\r\n\tconst change = (name, e) => {\r\n\t\te.persist();\r\n\t\thandleChange(e);\r\n\t\tsetFieldTouched(name, true, false);\r\n\t};\r\n\r\n\tif(redirect){\r\n\t\treturn <Redirect to=\"/signin\"/>;\r\n\t}else{\r\n\t\treturn (\r\n\t\t\t<Grid component={PaperForm} container item\r\n\t\t\t\txs={8} sm={6} className={style.root}\r\n\t\t\t\televation={3}\r\n\t\t\t\tonSubmit={async(e)=>{\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tawait Axios.post('user', {\r\n\t\t\t\t\t\t\tusername: username,\r\n\t\t\t\t\t\t\tpassword: password,\r\n\t\t\t\t\t\t\tauthority: authority\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t\t}catch(err){\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} component={TextField} required \r\n\t\t\t\t\tid=\"username\" name=\"username\" label=\"Username\"\r\n\t\t\t\t\tonChange={change.bind(null, \"username\")}\r\n\t\t\t\t\tvalue={username} variant=\"outlined\" margin=\"dense\"\r\n\t\t\t\t\thelperText={touched.username ? errors.username : \"\"}\r\n\t\t\t\t\t   error={touched.username && Boolean(errors.username)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Grid item xs={12} component={TextField} required id=\"password\" \r\n\t\t\t\t\tname=\"password\" label=\"Password\" type=\"password\"\r\n\t\t\t\t\tonChange={change.bind(null, \"password\")}\r\n\t\t\t\t\tvalue={password} variant=\"outlined\" margin=\"dense\"\r\n\t\t\t\t\thelperText={touched.password ? errors.password : \"\"}\r\n\t\t\t\t\t   error={touched.password && Boolean(errors.password)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Grid item xs={12} component={TextField} required id=\"confirmPassword\" \r\n\t\t\t\t\tname=\"confirmPassword\" label=\"Confirm Password\" type=\"password\"\r\n\t\t\t\t\tonChange={change.bind(null, \"confirmPassword\")}\r\n\t\t\t\t\tvalue={confirmPassword} variant=\"outlined\" margin=\"dense\"\r\n\t\t\t\t\thelperText={touched.confirmPassword ? errors.confirmPassword : \"\"}\r\n\t\t\t\t\t   error={touched.confirmPassword && Boolean(errors.confirmPassword)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Grid item xs={12} component={TextField}\r\n\t\t\t\t\trequired select id=\"authority\" label=\"Authority\" \r\n\t\t\t\t\thelperText=\"Select your authority\" margin=\"dense\"\r\n\t\t\t\t\tvalue={authority} variant=\"outlined\"\r\n\t\t\t\t\tonChange={(event)=>{setAuthority(event.target.value)}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{authorities.map(option => (\r\n\t\t\t\t\t\t<MenuItem key={option} value={option}>\r\n\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<FormButton type=\"submit\" disabled={!isValid} \r\n\t\t\t\t\txs={12} variant=\"contained\" color=\"secondary\"\r\n\t\t\t\t>\r\n\t\t\t\t\tSign Up\r\n\t\t\t\t</FormButton>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst ValidationSchema = Yup.object({\r\n\tusername: Yup.string().required('enter username')\r\n\t.matches(/^[a-zA-Z0-9]*$/, {\r\n\t\tmessage: 'input letters and numbers only',\r\n\t\texcludeEmptyString: true,\r\n\t}).min(5, 'username too short').max(30, 'username too long'),\r\n\tpassword: Yup.string().required('enter password')\r\n\t.matches(/^[a-zA-Z0-9]*$/, {\r\n\t\tmessage: 'input letters and numbers only',\r\n\t\texcludeEmptyString: true,\r\n\t}).min(5, 'password too short').max(30, 'password too long'),\r\n\tconfirmPassword: Yup.string().required('re-enter your password')\r\n\t.oneOf([Yup.ref(\"password\")], \"password does not match\")\r\n});\r\n\r\nconst InitialValues = {\r\n\tusername: 'Username12345',\r\n\tpassword: '',\r\n\tconfirmPassword: ''\r\n};\r\n\r\nfunction Validation(){\r\n\treturn <AuthorizationForm \r\n\t\tvalidationSchema={ValidationSchema}\r\n\t\tinitialValues={InitialValues}\r\n\t\trender={(props)=><SignUp {...props}/>}\r\n\t/>\r\n}\r\n\r\nexport default Validation;"],"sourceRoot":""}