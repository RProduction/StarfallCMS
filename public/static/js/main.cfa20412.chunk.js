(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{138:function(n,t,e){"use strict";e.r(t);var r=e(68),a=e(0),u=e.n(a),c=e(36),i=e.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=e(48),l=e(33),f=e(35),s=e(89),d=e(92);function p(n,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](e,r):e}}var O=e(4);var E=p(-1,{SET_AUTHORIZATION_STATUS:function(n,t){return t.status}}),v=p({},{INIT_USERS:function(n,t){return Object(O.a)(n,function(n){var e=t.users,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;n[o.id]={id:o.id,username:o.username,isCreator:o.is_creator}}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_USER:function(n,t){return Object(O.a)(n,function(n){delete n[t.id]})}});var b=p(null,{SET_PROJECT_POPOVER:function(n,t){return t.anchor}}),m=p({},{ADD_PROJECTS:function(n,t){return Object(O.a)(n,function(n){var e=t.projects,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;n[o.id]={id:o.id,name:o.name,img:o.img,created:o.created,updated:o.updated,publicKey:o.publicKey}}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_PROJECT:function(n,t){return Object(O.a)(n,function(n){delete n[t.id]})},RENAME_PROJECT:function(n,t){return Object(O.a)(n,function(n){var e=t.id,r=t.name,a=t.updated,u=t.publicKey;n[e].name=r,n[e].updated=a,n[e].publicKey=u})},IMG_PROJECT:function(n,t){return Object(O.a)(n,function(n){var e=t.id,r=t.img,a=t.updated;n[e].img=r,n[e].updated=a})}}),y=p({},{ADD_ENTITIES:function(n,t){return Object(O.a)(n,function(n){var e=t.entities,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;n[o.id]={id:o.id,projectId:o.projectId,name:o.name,created:o.created,updated:o.updated}}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_ENTITIES:function(n,t){return Object(O.a)(n,function(n){var e=t.entities,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)delete n[c.value]}catch(o){a=!0,u=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},RENAME_ENTITY:function(n,t){return Object(O.a)(n,function(n){var e=t.id,r=t.name,a=t.updated;n[e].name=r,n[e].updated=a})}}),_=p({},{ADD_DOCUMENTS:function(n,t){return Object(O.a)(n,function(n){var e=t.documents,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;n[o.id]=o}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_DOCUMENTS:function(n,t){return Object(O.a)(n,function(n){var e=t.documents,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)delete n[c.value]}catch(o){a=!0,u=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},MODIFY_DOCUMENT:function(n,t){return Object(O.a)(n,function(n){var e=t.id,r=t.updated,a=t.data;n[e].updated=r,n[e].data=a})}}),h=p({},{UPLOAD_STORAGE:function(n,t){return Object(O.a)(n,function(n){t.files.forEach(function(t){n[t.id]={id:t.id,project_id:t.project_id,name:t.name,size:t.size,isPublic:t.isPublic,created:t.created_at,modified:t.updated_at}})})},RENAME_STORAGE:function(n,t){return Object(O.a)(n,function(n){var e=t.id,r=t.name,a=t.updated;n[e].name=r,n[e].updated=a})},PUBLIC_STORAGE:function(n,t){return Object(O.a)(n,function(n){var e=t.id,r=t.isPublic,a=t.updated;n[e].isPublic=r,n[e].updated=a})},DELETE_STORAGE:function(n,t){return Object(O.a)(n,function(n){var e=t.ids,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)delete n[c.value]}catch(o){a=!0,u=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})}}),I=e(64),T=e(19);var S=p(!1,{SWITCH_SIDEBAR:function(n,t){return t.status}}),A=p({},{SET_TARGET:function(n,t){return Object(O.a)(n,function(n){var e=t.data;Object.entries(e).forEach(function(t){var e=Object(I.a)(t,2),r=e[0],a=e[1];return n[r]=a})})}}),D=p(null,{SHOW_ADD_DIALOG:function(n,t){return T.a},SHOW_DELETE_DIALOG:function(n,t){return T.c},SHOW_RENAME_DIALOG:function(n,t){return T.h},SHOW_IMG_DIALOG:function(n,t){return T.f},HIDE_DIALOG:function(n,t){return null}}),j=p({title:"",content:""},{SHOW_NOTIFICATION_DIALOG:function(n,t){return Object(O.a)(n,function(n){var e=t.title,r=t.content;n.title=e,n.content=r})},HIDE_NOTIFICATION_DIALOG:function(n,t){return Object(O.a)(n,function(n){n.title="",n.content=""})}}),g=p(null,{INIT_UPLOAD_PROGRESS:function(n,t){return{progress:0,status:"Initiation",cancel:t.cancel}},SET_UPLOAD_PROGRESS:function(n,t){var e=t.progress;return{progress:e,status:1!==e?"Uploading":"Finish",cancel:n.cancel}},CLEAR_UPLOAD_PROGRESS:function(n,t){return null}}),R=Object(d.a)({authStatus:E,users:v,projects:m,entities:y,documents:_,storage:h,dialog:D,notification:j,target:A,sidebar:S,projectPopover:b,uploadProgress:g}),L=e(146),w=e(23),G=e(71),P=e(65),x=Object(a.lazy)(function(){return Promise.all([e.e(3),e.e(8),e.e(9)]).then(e.bind(null,706))}),N=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(1),e.e(3),e.e(14)]).then(e.bind(null,693))}),k=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(1),e.e(3),e.e(15)]).then(e.bind(null,701))});var C=function(){var n=Object(f.c)();return Object(a.useEffect)(function(){n(Object(P.e)())},[]),u.a.createElement(a.Suspense,{fallback:u.a.createElement(G.a,null)},u.a.createElement(L.a,null),u.a.createElement(w.d,null,u.a.createElement(w.b,{path:"/signin",component:N}),u.a.createElement(w.b,{path:"/signup",component:k}),u.a.createElement(w.b,{path:"/",component:x})))},U=e(85),H=e.n(U),M=e(91),W=e.n(M),F=Object(l.d)(R,Object(l.a)(s.a)),J=H()({sidebar:{width:300,flexShrink:0},sidebarPaper:{width:300},responsive:{},hide:{display:"none"},palette:{primary:{main:"#a6e0ed"},secondary:{main:"#56db96"},error:{main:"#c91448"},background:{dark:{light:"#555954",main:"#444743",dark:"#2c2e2c"},light:{light:"#f5f5f5",main:"#ededed",dark:"#e6e6e6"}},tonalOffset:.2,contrastThreshold:3}});J.responsive=Object(r.a)({},J.breakpoints.up("md"),{marginLeft:300,width:"calc(100% - ".concat(300,"px)")}),i.a.render(u.a.createElement(W.a,{theme:J},u.a.createElement(f.a,{store:F},u.a.createElement(o.a,null,u.a.createElement(C,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},19:function(n,t,e){"use strict";function r(n){return{type:"SWITCH_SIDEBAR",status:n}}function a(n,t){return{type:"SHOW_NOTIFICATION_DIALOG",title:n,content:t}}function u(){return{type:"HIDE_NOTIFICATION_DIALOG"}}e.d(t,"o",function(){return r}),e.d(t,"m",function(){return a}),e.d(t,"e",function(){return u}),e.d(t,"a",function(){return c}),e.d(t,"c",function(){return i}),e.d(t,"h",function(){return o}),e.d(t,"f",function(){return l}),e.d(t,"k",function(){return f}),e.d(t,"l",function(){return s}),e.d(t,"n",function(){return d}),e.d(t,"d",function(){return p}),e.d(t,"i",function(){return O}),e.d(t,"g",function(){return E}),e.d(t,"j",function(){return v}),e.d(t,"b",function(){return b});var c="ADD_DIALOG",i="DELETE_DIALOG",o="RENAME_DIALOG",l="IMG_DIALOG";function f(){return{type:"SHOW_ADD_DIALOG"}}function s(){return{type:"SHOW_DELETE_DIALOG"}}function d(){return{type:"SHOW_RENAME_DIALOG"}}function p(){return{type:"HIDE_DIALOG"}}function O(n){return{type:"SET_TARGET",data:n}}function E(n){return{type:"INIT_UPLOAD_PROGRESS",cancel:n}}function v(n,t){return{type:"SET_UPLOAD_PROGRESS",progress:n/t}}function b(){return{type:"CLEAR_UPLOAD_PROGRESS"}}},27:function(n,t,e){"use strict";e.d(t,"a",function(){return u});var r=e(59),a=e.n(r),u=a.a.CancelToken;t.b=a.a.create({baseURL:"/",responseType:"json",headers:{"Content-Type":"application/json"},withCredentials:!0})},65:function(n,t,e){"use strict";e.d(t,"g",function(){return o}),e.d(t,"i",function(){return l}),e.d(t,"d",function(){return f}),e.d(t,"j",function(){return s}),e.d(t,"e",function(){return d}),e.d(t,"a",function(){return p}),e.d(t,"c",function(){return O}),e.d(t,"b",function(){return E}),e.d(t,"h",function(){return v}),e.d(t,"f",function(){return b});var r=e(15),a=e.n(r),u=e(26),c=e(27),i=e(19),o=0,l=-1,f=1,s=2,d=function(){return function(){var n=Object(u.a)(a.a.mark(function n(t){var e,r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.b.get("user/status");case 3:e=n.sent,r=e.data,t({type:"SET_AUTHORIZATION_STATUS",status:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(t){return n.apply(this,arguments)}}()},p=function(n,t){return function(){var e=Object(u.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.b.post("user/signin",{username:n,password:t});case 3:r(d()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r(Object(i.m)("Sign In","Fail to sign in")),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}()},O=function(n,t){return function(){var e=Object(u.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.b.post("user",{username:n,password:t});case 3:r(d()),e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),r(Object(i.m)("Sign Up","Fail to sign up")),console.log(e.t0),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}()},E=function(){return function(){var n=Object(u.a)(a.a.mark(function n(t){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.b.post("user/signout");case 3:t(d()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}));return function(t){return n.apply(this,arguments)}}()},v=function(){return function(){var n=Object(u.a)(a.a.mark(function n(t){var e;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.b.get("user");case 3:e=n.sent,t({type:"INIT_USERS",users:e.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t){return n.apply(this,arguments)}}()};function b(n){return{type:"DELETE_USER",id:n}}},71:function(n,t,e){"use strict";var r=e(0),a=e.n(r),u=e(139),c=e(95);t.a=function(n){return a.a.createElement(u.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},a.a.createElement(c.a,{size:60,thickness:5}))}},97:function(n,t,e){n.exports=e(138)}},[[97,6,7]]]);
//# sourceMappingURL=main.cfa20412.chunk.js.map