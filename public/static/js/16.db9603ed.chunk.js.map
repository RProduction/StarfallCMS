{"version":3,"sources":["components/DialogCustomForm.js","components/DialogCustom.js","../node_modules/@material-ui/icons/Add.js","components/DocumentJSONEditor.js","../node_modules/@material-ui/icons/NavigateNext.js","components/Entity.js"],"names":["DialogCustomForm","props","request","btn","category","_props$values","values","name","newName","confirmName","errors","touched","handleChange","isValid","setFieldTouched","change","e","persist","react_default","a","createElement","Grid","container","component","spacing","onSubmit","preventDefault","TextField","item","xs","id","label","onChange","bind","value","helperText","error","Boolean","Fragment","Button","type","disabled","size","addSchema","Yup","required","matches","message","excludeEmptyString","min","max","deleteSchema","oneOf","renameSchema","initialAdd","initialDelete","targetName","initialRename","DialogCustom","title","content","dialogProps","Dialog","DialogTitle","DialogContent","DialogContentText","formik_esm","validationSchema","initialValues","render","propsRender","components_DialogCustomForm","Object","assign","_interopRequireDefault","__webpack_require__","defineProperty","exports","default","_react","_default","d","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_1__","react_ace__WEBPACK_IMPORTED_MODULE_2__","react_ace__WEBPACK_IMPORTED_MODULE_2___default","DocumentJSONEditor","data","onValidation","readonly","minLines","fontSize","placeholder","mode","theme","onValidate","width","maxLines","Infinity","showPrintMargin","showGutter","highlightActiveLine","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","wrapEnabled","readOnly","editorProps","$blockScrolling","columns","field","searchable","hidden","export","Entity","dispatch","useDispatch","history","_props$match$params","match","params","project","entity","notification","useSelector","state","_useState","useState","_useState2","D_Project_VScode_Web_StarfallCMS_Client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","redirect","setRedirect","select","useMemo","selectDocumentsInEntityByName","documents","react__WEBPACK_IMPORTED_MODULE_3___default","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","to","concat","_DialogCustom__WEBPACK_IMPORTED_MODULE_15__","open","onClose","HideNotificationDialog","material_table__WEBPACK_IMPORTED_MODULE_10___default","map","projectName","entityName","createdAt","created","updatedAt","updated","actions","icon","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_8___default","tooltip","isFreeAction","onClick","_material_ui_icons_DeleteForever__WEBPACK_IMPORTED_MODULE_7___default","_onClick","D_Project_VScode_Web_StarfallCMS_Client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Project_VScode_Web_StarfallCMS_Client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","rowDatas","ids","wrap","_context","prev","next","Axios","delete","sent","ShowNotificationDialog","t0","stop","_x","_x2","apply","this","arguments","onRowClick","rowData","push","detailPanel","_DocumentJSONEditor__WEBPACK_IMPORTED_MODULE_16__","JSON","stringify","icons","Search","ResetSearch","Clear","DetailPanel","NavigateNext","options","paging","search","selection","actionsColumnIndex"],"mappings":"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","file":"static/js/16.db9603ed.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nfunction DialogCustomForm(props){\r\n    const {\r\n        request, \r\n        btn,\r\n        category,\r\n\t\tvalues: { name, newName, confirmName },\r\n\t\terrors,\r\n\t\ttouched,\r\n\t\thandleChange,\r\n\t\tisValid,\r\n\t\tsetFieldTouched\r\n    } = props;\r\n    \r\n    const change = (name, e) => {\r\n\t\te.persist();\r\n\t\thandleChange(e);\r\n\t\tsetFieldTouched(name, true, false);\r\n    };\r\n\r\n\treturn(\r\n        <Grid container component=\"form\" spacing={1}\r\n            onSubmit={(e)=>{\r\n                e.preventDefault();\r\n                request({ \r\n                    name: name, \r\n                    newName: newName, \r\n                    confirmName: confirmName \r\n                });\r\n            }}\r\n        >\r\n            {category === 'add' \r\n                ? <Grid component={TextField} item xs={12}\r\n                    id=\"name\" name=\"name\" label=\"Name\"\r\n                    onChange={change.bind(null, \"name\")}\r\n                    value={name}\r\n                    helperText={touched.name ? errors.name : \"\"}\r\n                    error={touched.name && Boolean(errors.name)}\r\n                /> : category === 'delete'\r\n                ? <Grid component={TextField} item xs={12}\r\n                    id=\"confirmName\" name=\"confirmName\" label=\"Confirm Name\"\r\n                    onChange={change.bind(null, \"confirmName\")}\r\n                    value={confirmName}\r\n                    helperText={touched.confirmName ? errors.confirmName : \"\"}\r\n                    error={touched.confirmName && Boolean(errors.confirmName)}\r\n                /> : category === 'rename'\r\n                ? <React.Fragment>\r\n                    <Grid component={TextField} item xs={12}\r\n                        id=\"newName\" name=\"newName\" label=\"New Name\"\r\n                        onChange={change.bind(null, \"newName\")}\r\n                        value={newName}\r\n                        helperText={touched.newName ? errors.newName : \"\"}\r\n                        error={touched.newName && Boolean(errors.newName)}\r\n                    />\r\n                    <Grid component={TextField} item xs={12}\r\n                        id=\"confirmName\" name=\"confirmName\" label=\"Confirm Name\"\r\n                        onChange={change.bind(null, \"confirmName\")}\r\n                        value={confirmName}\r\n                        helperText={touched.confirmName ? errors.confirmName : \"\"}\r\n                        error={touched.confirmName && Boolean(errors.confirmName)}\r\n                    />\r\n                </React.Fragment> : null\r\n            }\r\n            <Grid item xs={12} component={Button} \r\n                type=\"submit\" disabled={!isValid}\r\n                size=\"large\"\r\n            >\r\n                {btn}\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default DialogCustomForm;","import React from 'react';\r\n\r\nimport {Formik} from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DialogCustomForm from './DialogCustomForm';\r\n\r\nconst addSchema = Yup.object({\r\n\tname: Yup.string().required('enter name')\r\n\t.matches(/^[a-zA-Z0-9_]+$/, {\r\n\t\tmessage: 'input letters, numbers, and underscore only',\r\n\t\texcludeEmptyString: true,\r\n\t}).min(1, 'name too short').max(50, 'name too long')\r\n});\r\n\r\nconst deleteSchema = Yup.object({\r\n    name: Yup.string(),\r\n\tconfirmName: Yup.string().required('re-enter name')\r\n\t.matches(/^[a-z0-9_]*$/i, {\r\n\t\tmessage: 'input letters, numbers, and underscore only',\r\n\t\texcludeEmptyString: true,\r\n\t}).oneOf([Yup.ref('name')], \"Confirm Name does not match\")\r\n});\r\n\r\nconst renameSchema = Yup.object({\r\n    name: Yup.string(),\r\n\tconfirmName: Yup.string().required('re-enter name')\r\n\t.oneOf([Yup.ref('name')], \"Confirm Name does not match\"),\r\n    newName: Yup.string().required('enter new name')\r\n\t.matches(/^[a-zA-Z0-9_]+$/, {\r\n\t\tmessage: 'input letters, numbers, and underscore only',\r\n\t\texcludeEmptyString: true,\r\n    }).min(1, 'new name too short').max(50, 'new name too long')\r\n});\r\n\r\nconst initialAdd = {\r\n    name: ''\r\n};\r\n\r\nconst initialDelete = targetName => ({\r\n    name: targetName,\r\n    confirmName: ''\r\n});\r\n\r\nconst initialRename = targetName => ({\r\n    name: targetName,\r\n    confirmName: '',\r\n    newName: ''\r\n});\r\n\r\n// will accept parameter of request, title, content, btn, targetName, and dialogProps\r\nfunction DialogCustom(props){\r\n    const {title, content, targetName, category, dialogProps} = props;\r\n\r\n    return(\r\n        <Dialog {...dialogProps}>\r\n            <DialogTitle id='dialog-title'>\r\n                {title}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                {category === 'add' || category === 'delete' || category === 'rename' \r\n                    ? <React.Fragment>\r\n                        {category === 'delete' \r\n                            ?   <React.Fragment>\r\n                                    <DialogContentText>\r\n                                        {content}\r\n                                    </DialogContentText>\r\n                                    <DialogContentText>\r\n                                        Please type in the name of the target to confirm\r\n                                    </DialogContentText>\r\n                                </React.Fragment>\r\n                            : null\r\n                        }\r\n                        <Formik \r\n                            validationSchema={category === 'add'\r\n                                ? addSchema : category === 'rename'\r\n                                ? renameSchema : category === 'delete'\r\n                                ? deleteSchema : {}\r\n                            }\r\n                            initialValues={category === 'add'\r\n                                ? initialAdd : category === 'rename'\r\n                                ? initialRename(targetName) : category === 'delete'\r\n                                ? initialDelete(targetName) : {}\r\n                            }\r\n                            render={(propsRender)=><DialogCustomForm \r\n                                {...props}\r\n                                {...propsRender}\r\n                            />}\r\n                        />\r\n                    </React.Fragment> : category === 'notification'\r\n                    ? <DialogContentText>\r\n                        {content}\r\n                    </DialogContentText> : null\r\n                }\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nDialogCustom.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    content: PropTypes.string,\r\n    btn: PropTypes.string,\r\n    targetName: PropTypes.string,\r\n    category: PropTypes.oneOf(['add', 'delete', 'rename', 'notification']).isRequired,\r\n    request: PropTypes.func,\r\n    dialogProps: PropTypes.shape({\r\n        ...Dialog.propTypes\r\n    }).isRequired\r\n}\r\n\r\nexport default DialogCustom;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","import React from 'react';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport AceEditor from \"react-ace\";\r\nimport 'brace/ext/language_tools';\r\nimport 'brace/mode/json';\r\nimport 'brace/theme/github';\r\n\r\nfunction DocumentJSONEditor(props){\r\n    const {data, onChange, onValidation, readonly, minLines, fontSize} = props;\r\n\r\n    return(\r\n        <Grid item container xs={12}>\r\n            <AceEditor\r\n                placeholder=\"\" \r\n                mode=\"json\" \r\n                theme=\"github\"\r\n                name=\"json-editor\"\r\n                onChange={onChange}\r\n                onValidate={onValidation}\r\n                width=\"100%\"\r\n                minLines={minLines}\r\n                maxLines={Infinity}\r\n                fontSize={fontSize}\r\n                showPrintMargin={true}\r\n                showGutter={true}\r\n                highlightActiveLine={true}\r\n                value={data}\r\n                enableBasicAutocompletion={true}\r\n                enableLiveAutocompletion={true}\r\n                enableSnippets={false}\r\n                showLineNumbers={true}\r\n                tabSize={4}\r\n                wrapEnabled={true}\r\n                readOnly={readonly}\r\n                editorProps={{$blockScrolling: Infinity}}\r\n            />\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default DocumentJSONEditor;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\n\nexports.default = _default;","import React, {useState, useMemo} from 'react';\r\n\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport Search from '@material-ui/icons/Search';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteForever from '@material-ui/icons/DeleteForever';\r\nimport Add from '@material-ui/icons/Add';\r\nimport NavigateNext from '@material-ui/icons/NavigateNext';\r\nimport MaterialTable from 'material-table';\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport Axios from '../Axios';\r\n\r\nimport {selectDocumentsInEntityByName} from '../redux/selectors/documentSelectors';\r\nimport {ShowNotificationDialog, HideNotificationDialog} from '../redux/actions/globalActions';\r\nimport DialogCustom from './DialogCustom';\r\nimport DocumentJSONEditor from './DocumentJSONEditor';\r\n\r\nconst columns = [\r\n    {\r\n        field: \"projectName\", \r\n        searchable: false, \r\n        hidden: true, \r\n        export: false\r\n    },\r\n    {\r\n        field: \"entityName\", \r\n        searchable: false, \r\n        hidden: true, \r\n        export: false\r\n    },\r\n    {\r\n        title: \"ID\", \r\n        field: \"id\", \r\n        searchable: false\r\n    },\r\n    {\r\n        title: \"Created At\", \r\n        field: \"createdAt\", \r\n        searchable: false,\r\n        type: 'datetime'\r\n    },\r\n    {   \r\n        title: \"Updated At\", \r\n        field: \"updatedAt\", \r\n        searchable: false,\r\n        type: 'datetime'\r\n    },\r\n    {\r\n        field: \"data\",\r\n        searchable: false,\r\n        hidden: true\r\n    }\r\n]\r\n\r\n// fetch authStatus from redux store and setAuthorized(true) if creator, manager, user\r\n// Any actions in Entity will affect Document and need to be signin\r\nfunction Entity(props){\r\n    const dispatch = useDispatch();\r\n    const {history} = props;\r\n    const {project, entity} = props.match.params;\r\n\r\n    const notification = useSelector(state => state.notification);\r\n\r\n    const [redirect, setRedirect] = useState('');\r\n    const select = useMemo(selectDocumentsInEntityByName, []);\r\n    const documents = useSelector(state => select(state, project, entity));\r\n\r\n    // view all documents within entity and their attribute\r\n    // document id\r\n    // document last modified\r\n    if(redirect === 'add') return <Redirect to={`/${project}/${entity}/add`}/>;\r\n    else if(redirect === 'schema') return <Redirect to={`/${project}/${entity}/schema`}/>;\r\n\r\n    if(!documents)\r\n        return <Redirect to=\"/\"/>;\r\n    else return(\r\n        <React.Fragment>\r\n            <DialogCustom\r\n                category=\"notification\"\r\n                title={notification.title}\r\n                content={notification.content}\r\n                dialogProps={{\r\n                    open: notification.title !== '' && notification.content !== '',\r\n                    onClose: () => dispatch(HideNotificationDialog())\r\n                }}\r\n            />\r\n            <MaterialTable \r\n                title=\"Documents\" \r\n                columns={columns} \r\n                data={documents.documents.map(value => ({\r\n                    id: value.id,\r\n                    projectName: project,\r\n                    entityName: entity,\r\n                    createdAt: value.created,\r\n                    updatedAt: value.updated,\r\n                    data: value.data\r\n                }))}\r\n                actions={[\r\n                    {\r\n                        icon: ()=><Add/>,\r\n                        tooltip: \"Add Document\",\r\n                        isFreeAction: true,\r\n                        onClick: (e)=>setRedirect('add')\r\n                    },\r\n                    {\r\n                        icon: ()=><DeleteForever/>, \r\n                        tooltip: \"Delete Documents\",\r\n                        onClick: async(e, rowDatas)=>{\r\n                            // get selected row and delete batch\r\n                            const ids = rowDatas.map(value => value.id);\r\n                            try{\r\n                                const res = await Axios.delete('document', {\r\n                                    data: {ids: ids}\r\n                                });\r\n                                dispatch(ShowNotificationDialog(\r\n                                    'Delete Documents',\r\n                                    'Succeed deleting documents'\r\n                                ));\r\n                            }catch(err){\r\n                                dispatch(ShowNotificationDialog(\r\n                                    'Delete Documents',\r\n                                    `Failed deleting documents, ${err}`\r\n                                ));\r\n                            }\r\n                        }\r\n                    }\r\n                ]}\r\n                onRowClick={(e, rowData)=>{\r\n                    const {id, projectName, entityName} = rowData;\r\n                    history.push(`/${projectName}/${entityName}/${id}`);\r\n                }}\r\n                detailPanel={rowData => <DocumentJSONEditor\r\n                    readonly={true}\r\n                    minLines={1}\r\n                    fontSize={18}\r\n                    data={JSON.stringify(rowData.data, null, 4)} \r\n                    onChange={() => {}}\r\n                    onValidation={() => {}}\r\n                />}\r\n                icons={{\r\n                    Search: Search,\r\n                    ResetSearch: Clear,\r\n                    DetailPanel: NavigateNext\r\n                }}\r\n                options={{\r\n                    paging: false,\r\n                    search: true,\r\n                    selection: true,\r\n                    actionsColumnIndex: -1\r\n                }}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Entity;"],"sourceRoot":""}