(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{138:function(t,n,e){"use strict";e.r(n);var r=e(67),a=e(0),u=e.n(a),c=e(36),i=e.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=e(48),l=e(33),f=e(35),d=e(88),s=e(92);function p(t,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return n.hasOwnProperty(r.type)?n[r.type](e,r):e}}var O=e(4);var E=p(-1,{SET_AUTHORIZATION_STATUS:function(t,n){return n.status}}),v=p({},{INIT_USERS:function(t,n){return Object(O.a)(t,function(t){var e=n.users,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;t[o.id]={id:o.id,username:o.username,isCreator:o.is_creator}}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_USER:function(t,n){return Object(O.a)(t,function(t){delete t[n.id]})}});var b=p(null,{SET_PROJECT_POPOVER:function(t,n){return n.anchor}}),m=p({},{ADD_PROJECTS:function(t,n){return Object(O.a)(t,function(t){var e=n.projects,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;t[o.id]={id:o.id,name:o.name,img:o.img,created:o.created,updated:o.updated,publicKey:o.publicKey}}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_PROJECT:function(t,n){return Object(O.a)(t,function(t){delete t[n.id]})},RENAME_PROJECT:function(t,n){return Object(O.a)(t,function(t){var e=n.id,r=n.name,a=n.updated,u=n.publicKey;t[e].name=r,t[e].updated=a,t[e].publicKey=u})},IMG_PROJECT:function(t,n){return Object(O.a)(t,function(t){var e=n.id,r=n.img,a=n.updated;t[e].img=r,t[e].updated=a})}}),y=p({},{ADD_ENTITIES:function(t,n){return Object(O.a)(t,function(t){var e=n.entities,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;t[o.id]={id:o.id,projectId:o.projectId,name:o.name,created:o.created,updated:o.updated}}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_ENTITIES:function(t,n){return Object(O.a)(t,function(t){var e=n.entities,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)delete t[c.value]}catch(o){a=!0,u=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},RENAME_ENTITY:function(t,n){return Object(O.a)(t,function(t){var e=n.id,r=n.name,a=n.updated;t[e].name=r,t[e].updated=a})}}),h=p({},{ADD_DOCUMENTS:function(t,n){return Object(O.a)(t,function(t){var e=n.documents,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;t[o.id]=o}}catch(l){a=!0,u=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},DELETE_DOCUMENTS:function(t,n){return Object(O.a)(t,function(t){var e=n.documents,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)delete t[c.value]}catch(o){a=!0,u=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})},MODIFY_DOCUMENT:function(t,n){return Object(O.a)(t,function(t){var e=n.id,r=n.updated,a=n.data;t[e].updated=r,t[e].data=a})}}),_=p({},{UPLOAD_STORAGE:function(t,n){return Object(O.a)(t,function(t){n.files.forEach(function(n){t[n.id]={id:n.id,project_id:n.project_id,name:n.name,size:n.size,isPublic:n.isPublic,created:n.created_at,modified:n.updated_at}})})},RENAME_STORAGE:function(t,n){return Object(O.a)(t,function(t){var e=n.id,r=n.name,a=n.updated;t[e].name=r,t[e].updated=a})},PUBLIC_STORAGE:function(t,n){return Object(O.a)(t,function(t){var e=n.id,r=n.isPublic,a=n.updated;t[e].isPublic=r,t[e].updated=a})},DELETE_STORAGE:function(t,n){return Object(O.a)(t,function(t){var e=n.ids,r=!0,a=!1,u=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)delete t[c.value]}catch(o){a=!0,u=o}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}})}}),I=e(63),T=e(19);var j=p(!1,{SWITCH_SIDEBAR:function(t,n){return n.status}}),D=p({},{SET_TARGET:function(t,n){return Object(O.a)(t,function(t){var e=n.data;Object.entries(e).forEach(function(n){var e=Object(I.a)(n,2),r=e[0],a=e[1];return t[r]=a})})}}),S=p(null,{SHOW_ADD_DIALOG:function(t,n){return T.a},SHOW_DELETE_DIALOG:function(t,n){return T.b},SHOW_RENAME_DIALOG:function(t,n){return T.f},SHOW_IMG_DIALOG:function(t,n){return T.e},HIDE_DIALOG:function(t,n){return null}}),A=p({title:"",content:""},{SHOW_NOTIFICATION_DIALOG:function(t,n){return Object(O.a)(t,function(t){var e=n.title,r=n.content;t.title=e,t.content=r})},HIDE_NOTIFICATION_DIALOG:function(t,n){return Object(O.a)(t,function(t){t.title="",t.content=""})}}),g=Object(s.a)({authStatus:E,users:v,projects:m,entities:y,documents:h,storage:_,dialog:S,notification:A,target:D,sidebar:j,projectPopover:b}),w=e(146),L=e(23),R=e(70),x=e(64),G=Object(a.lazy)(function(){return Promise.all([e.e(2),e.e(7),e.e(8)]).then(e.bind(null,705))}),N=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(2),e.e(10)]).then(e.bind(null,693))}),k=Object(a.lazy)(function(){return Promise.all([e.e(0),e.e(2),e.e(11)]).then(e.bind(null,700))});var C=function(){var t=Object(f.c)();return Object(a.useEffect)(function(){t(Object(x.e)())},[]),u.a.createElement(a.Suspense,{fallback:u.a.createElement(R.a,null)},u.a.createElement(w.a,null),u.a.createElement(L.d,null,u.a.createElement(L.b,{path:"/signin",component:N}),u.a.createElement(L.b,{path:"/signup",component:k}),u.a.createElement(L.b,{path:"/",component:G})))},P=e(84),H=e.n(P),U=e(91),M=e.n(U),W=Object(l.d)(g,Object(l.a)(d.a)),F=H()({sidebar:{width:300,flexShrink:0},sidebarPaper:{width:300},responsive:{},hide:{display:"none"},palette:{primary:{main:"#a6e0ed"},secondary:{main:"#56db96"},error:{main:"#c91448"},background:{dark:{light:"#555954",main:"#444743",dark:"#2c2e2c"},light:{light:"#f5f5f5",main:"#ededed",dark:"#e6e6e6"}},tonalOffset:.2,contrastThreshold:3}});F.responsive=Object(r.a)({},F.breakpoints.up("md"),{marginLeft:300,width:"calc(100% - ".concat(300,"px)")}),i.a.render(u.a.createElement(M.a,{theme:F},u.a.createElement(f.a,{store:W},u.a.createElement(o.a,null,u.a.createElement(C,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},19:function(t,n,e){"use strict";function r(t){return{type:"SWITCH_SIDEBAR",status:t}}function a(t,n){return{type:"SHOW_NOTIFICATION_DIALOG",title:t,content:n}}function u(){return{type:"HIDE_NOTIFICATION_DIALOG"}}e.d(n,"l",function(){return r}),e.d(n,"j",function(){return a}),e.d(n,"d",function(){return u}),e.d(n,"a",function(){return c}),e.d(n,"b",function(){return i}),e.d(n,"f",function(){return o}),e.d(n,"e",function(){return l}),e.d(n,"h",function(){return f}),e.d(n,"i",function(){return d}),e.d(n,"k",function(){return s}),e.d(n,"c",function(){return p}),e.d(n,"g",function(){return O});var c="ADD_DIALOG",i="DELETE_DIALOG",o="RENAME_DIALOG",l="IMG_DIALOG";function f(){return{type:"SHOW_ADD_DIALOG"}}function d(){return{type:"SHOW_DELETE_DIALOG"}}function s(){return{type:"SHOW_RENAME_DIALOG"}}function p(){return{type:"HIDE_DIALOG"}}function O(t){return{type:"SET_TARGET",data:t}}},27:function(t,n,e){"use strict";var r=e(89),a=e.n(r);n.a=a.a.create({baseURL:"/",responseType:"json",headers:{"Content-Type":"application/json"},withCredentials:!0})},64:function(t,n,e){"use strict";e.d(n,"g",function(){return o}),e.d(n,"i",function(){return l}),e.d(n,"d",function(){return f}),e.d(n,"j",function(){return d}),e.d(n,"e",function(){return s}),e.d(n,"a",function(){return p}),e.d(n,"c",function(){return O}),e.d(n,"b",function(){return E}),e.d(n,"h",function(){return v}),e.d(n,"f",function(){return b});var r=e(15),a=e.n(r),u=e(26),c=e(27),i=e(19),o=0,l=-1,f=1,d=2,s=function(){return function(){var t=Object(u.a)(a.a.mark(function t(n){var e,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("user/status");case 3:e=t.sent,r=e.data,n({type:"SET_AUTHORIZATION_STATUS",status:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(n){return t.apply(this,arguments)}}()},p=function(t,n){return function(){var e=Object(u.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post("user/signin",{username:t,password:n});case 3:r(s()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),r(Object(i.j)("Sign In","Fail to sign in")),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},O=function(t,n){return function(){var e=Object(u.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post("user",{username:t,password:n});case 3:r(s()),e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),r(Object(i.j)("Sign Up","Fail to sign up")),console.log(e.t0),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var t=Object(u.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("user/signout");case 3:n(s()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}()},v=function(){return function(){var t=Object(u.a)(a.a.mark(function t(n){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("user");case 3:e=t.sent,n({type:"INIT_USERS",users:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(n){return t.apply(this,arguments)}}()};function b(t){return{type:"DELETE_USER",id:t}}},70:function(t,n,e){"use strict";var r=e(0),a=e.n(r),u=e(139),c=e(95);n.a=function(t){return a.a.createElement(u.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},a.a.createElement(c.a,{size:60,thickness:5}))}},97:function(t,n,e){t.exports=e(138)}},[[97,5,6]]]);
//# sourceMappingURL=main.6ee4819b.chunk.js.map