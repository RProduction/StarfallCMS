(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{514:function(e,t,n){(function(t,r){var o,i=n(35);o=function(){"use strict";var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var s=t[o](i),c=s.value}catch(a){return void n(a)}if(!s.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},f=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},l=new WeakMap,p=new WeakMap,h=Promise.resolve();function d(e){if("string"!==typeof e)throw new TypeError("eventName must be a string")}function v(e){if("function"!==typeof e)throw new TypeError("listener must be a function")}function y(e,t){var n=p.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}var m=function(){function e(){o(this,e),l.set(this,new Set),p.set(this,new Map)}return s(e,[{key:"on",value:function(e,t){return d(e),v(t),y(this,e).add(t),this.off.bind(this,e,t)}},{key:"off",value:function(e,t){d(e),v(t),y(this,e).delete(t)}},{key:"once",value:function(e){var t=this;return new Promise(function(n){d(e);var r=t.on(e,function(e){r(),n(e)})})}},{key:"emit",value:function(){var e=n(i.mark(function e(t,r){var o,s,c,a,u=this;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),o=y(this,t),s=l.get(this),c=[].concat(f(o)),a=[].concat(f(s)),e.next=7,h;case 7:return e.abrupt("return",Promise.all([].concat(f(c.map(function(){var e=n(i.mark(function e(t){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(r));case 2:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}())),f(a.map(function(){var e=n(i.mark(function e(n){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.has(n)){e.next=2;break}return e.abrupt("return",n(t,r));case 2:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}())))));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"emitSerial",value:function(){var e=n(i.mark(function e(t,n){var r,o,s,c,a,u,p,v,m,k,b,g,w,_,E,S;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),r=y(this,t),o=l.get(this),s=[].concat(f(r)),c=[].concat(f(o)),e.next=7,h;case 7:a=!0,u=!1,p=void 0,e.prev=10,v=s[Symbol.iterator]();case 12:if(a=(m=v.next()).done){e.next=20;break}if(k=m.value,!r.has(k)){e.next=17;break}return e.next=17,k(n);case 17:a=!0,e.next=12;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),u=!0,p=e.t0;case 26:e.prev=26,e.prev=27,!a&&v.return&&v.return();case 29:if(e.prev=29,!u){e.next=32;break}throw p;case 32:return e.finish(29);case 33:return e.finish(26);case 34:b=!0,g=!1,w=void 0,e.prev=37,_=c[Symbol.iterator]();case 39:if(b=(E=_.next()).done){e.next=47;break}if(S=E.value,!o.has(S)){e.next=44;break}return e.next=44,S(t,n);case 44:b=!0,e.next=39;break;case 47:e.next=53;break;case 49:e.prev=49,e.t1=e.catch(37),g=!0,w=e.t1;case 53:e.prev=53,e.prev=54,!b&&_.return&&_.return();case 56:if(e.prev=56,!g){e.next=59;break}throw w;case 59:return e.finish(56);case 60:return e.finish(53);case 61:case"end":return e.stop()}},e,this,[[10,22,26,34],[27,,29,33],[37,49,53,61],[54,,56,60]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAny",value:function(e){return v(e),l.get(this).add(e),this.offAny.bind(this,e)}},{key:"offAny",value:function(e){v(e),l.get(this).delete(e)}},{key:"clearListeners",value:function(e){if("string"===typeof e)y(this,e).clear();else{l.get(this).clear();var t=!0,n=!1,r=void 0;try{for(var o,i=p.get(this).values()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.clear()}}catch(s){n=!0,r=s}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}}},{key:"listenerCount",value:function(e){if("string"===typeof e)return l.get(this).size+y(this,e).size;"undefined"!==typeof e&&d(e);var t=l.get(this).size,n=!0,r=!1,o=void 0;try{for(var i,s=p.get(this).values()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){t+=i.value.size}}catch(c){r=!0,o=c}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t}}]),e}();m.Typed=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,m),t}(),Object.defineProperty(m.Typed,"Typed",{enumerable:!1,value:void 0});var k=m,b=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})};function g(e,t){return t.encode?t.strict?b(e):encodeURIComponent(e):e}var w=function(e,t){!1===(t=c({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[g(t,e),"[",r,"]"].join(""):[g(t,e),"[",g(r,e),"]=",g(n,e)].join("")};case"bracket":return function(t,n){return null===n?g(t,e):[g(t,e),"[]=",g(n,e)].join("")};default:return function(t,n){return null===n?g(t,e):[g(t,e),"=",g(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return g(r,t);if(Array.isArray(o)){var i=[],s=!0,c=!1,a=void 0;try{for(var u,f=o.slice()[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var l=u.value;void 0!==l&&i.push(n(r,l,i.length))}}catch(p){c=!0,a=p}finally{try{!s&&f.return&&f.return()}finally{if(c)throw a}}return i.join("&")}return g(r,t)+"="+g(o,t)}).filter(function(e){return e.length>0}).join("&"):""};function _(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;var E=_(function(t,n){t.exports=function(){var t="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return"undefined"===typeof t?"undefined":e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"===typeof t?"undefined":e(t)},n={OPEN:0,JOIN:1,LEAVE:2,JOIN_ACK:3,JOIN_ERROR:4,LEAVE_ACK:5,LEAVE_ERROR:6,EVENT:7,PING:8,PONG:9};function r(e,t,n){return n.forEach(function(e){!function(e,t){if(!e||"string"!=typeof e)throw new Error(t)}(t[e],"expected "+e+" to be a valid string")}),{t:e,d:t}}var o={};return Object.keys(n).forEach(function(e){var r=e.toLowerCase().replace(/^\w|_(\w)/g,function(e,t){return t?t.toUpperCase():e.toUpperCase()});o["is"+r+"Packet"]=function(r){return!(!r||"object"!==(void 0===r?"undefined":t(r))||r.t!==n[e])}}),o.hasTopic=function(e){return!!(e&&e.d&&e.d.topic)},o.isValidJoinPacket=o.hasTopic,o.isValidLeavePacket=o.hasTopic,o.isValidEventPacket=o.hasTopic,o.joinPacket=function(e){return r(n.JOIN,{topic:e},["topic"])},o.leavePacket=function(e){return r(n.LEAVE,{topic:e},["topic"])},o.joinAckPacket=function(e){return r(n.JOIN_ACK,{topic:e},["topic"])},o.joinErrorPacket=function(e,t){return r(n.JOIN_ERROR,{topic:e,message:t},["topic","message"])},o.leaveAckPacket=function(e){return r(n.LEAVE_ACK,{topic:e},["topic"])},o.leaveErrorPacket=function(e,t){return r(n.LEAVE_ERROR,{topic:e,message:t},["topic","message"])},o.eventPacket=function(e,t,o){return r(n.EVENT,{topic:e,event:t,data:o=o||""},["topic","event"])},o.pingPacket=function(){return{t:n.PING}},o.pongPacket=function(){return{t:n.PONG}},c({codes:n},o)}()}),S=1e3,A=60*S,P=60*A,x=24*P,O=365.25*x,j=function(t,n){n=n||{};var r="undefined"===typeof t?"undefined":e(t);if("string"===r&&t.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*O;case"days":case"day":case"d":return n*x;case"hours":case"hour":case"hrs":case"hr":case"h":return n*P;case"minutes":case"minute":case"mins":case"min":case"m":return n*A;case"seconds":case"second":case"secs":case"sec":case"s":return n*S;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===r&&!1===isNaN(t))return n.long?function(e){return C(e,x,"day")||C(e,P,"hour")||C(e,A,"minute")||C(e,S,"second")||e+" ms"}(t):function(e){if(e>=x)return Math.round(e/x)+"d";if(e>=P)return Math.round(e/P)+"h";if(e>=A)return Math.round(e/A)+"m";if(e>=S)return Math.round(e/S)+"s";return e+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function C(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var L=_(function(e,t){var n;function r(e){function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=arguments[c];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var a=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"===typeof o){var i=s[a];n=o.call(e,i),s.splice(a,1),a--}return n}),t.formatArgs.call(e,s),(r.log||t.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(r),r}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=j,t.names=[],t.skips=[],t.formatters={}}),N=(L.coerce,L.disable,L.enable,L.enabled,L.humanize,L.names,L.skips,L.formatters,_(function(t,n){function o(){var e;try{e=n.storage.debug}catch(t){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:""}).DEBUG),e}(n=t.exports=L).log=function(){return"object"===("undefined"===typeof console?"undefined":e(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}},n.load=o,n.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(o())})),R=(N.log,N.formatArgs,N.save,N.load,N.useColors,N.storage,N.colors,_(function(e){var t=N;t.enable("adonis:*"),e.exports=t("adonis:websocket")})),I=function(){function e(t,n){o(this,e),this.topic=t,this.connection=n,this.emitter=new k,this._state="pending",this._emitBuffer=[]}return s(e,[{key:"joinAck",value:function(){var e=this;this.state="open",this.emitter.emit("ready",this),R("clearing emit buffer for %s topic after subscription ack",this.topic),this._emitBuffer.forEach(function(t){return e.emit(t.event,t.data)}),this._emitBuffer=[]}},{key:"joinError",value:function(e){this.state="error",this.emitter.emit("error",e),this.serverClose()}},{key:"leaveAck",value:function(){this.state="closed",this.serverClose()}},{key:"leaveError",value:function(e){this.emitter.emit("leaveError",e)}},{key:"on",value:function(){var e;(e=this.emitter).on.apply(e,arguments)}},{key:"once",value:function(){var e;(e=this.emitter).once.apply(e,arguments)}},{key:"off",value:function(){var e;(e=this.emitter).off.apply(e,arguments)}},{key:"emit",value:function(e,t){"pending"!==this.state?this.connection.sendEvent(this.topic,e,t):this._emitBuffer.push({event:e,data:t})}},{key:"serverClose",value:function(){var e=this;return this.emitter.emit("close",this).then(function(){e._emitBuffer=[],e.emitter.clearListeners()}).catch(function(){e._emitBuffer=[],e.emitter.clearListeners()})}},{key:"serverEvent",value:function(e){var t=e.event,n=e.data;this.emitter.emit(t,n)}},{key:"serverError",value:function(){this.state="error"}},{key:"close",value:function(){this.state="closing",R("closing subscription for %s topic with server",this.topic),this.connection.sendPacket(E.leavePacket(this.topic))}},{key:"terminate",value:function(){this.leaveAck()}},{key:"state",get:function(){return this._state},set:function(e){if(-1===!this.constructor.states.indexOf(e))throw new Error(e+" is not a valid socket state");this._state=e}}],[{key:"states",get:function(){return["pending","open","closed","closing","error"]}}]),e}(),J={name:"json",encode:function(e,t){var n=null;try{n=JSON.stringify(e)}catch(r){return t(r)}t(null,n)},decode:function(e,t){var n=null;try{n=JSON.parse(e)}catch(r){return t(r)}t(null,n)}},T="https:"===window.location.protocol?"wss":"ws",Q=function(e){function t(e,n){o(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e=e||T+"://"+window.location.host,r.options=c({path:"adonis-ws",reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,query:null,encoder:J},n),R("connection options %o",r.options),r._connectionState="idle",r._reconnectionAttempts=0,r._packetsQueue=[],r._processingQueue=!1,r._pingTimer=null,r._extendedQuery={},r._url=e.replace(/\/$/,"")+"/"+r.options.path,r.subscriptions={},r.removeSubscription=function(e){var t=e.topic;delete r.subscriptions[t]},r}return a(t,k),s(t,[{key:"_cleanup",value:function(){clearInterval(this._pingTimer),this.ws=null,this._pingTimer=null}},{key:"_subscriptionsIterator",value:function(e){var t=this;Object.keys(this.subscriptions).forEach(function(n){return e(t.subscriptions[n],n)})}},{key:"_ensureSubscription",value:function(e,t){var n=this.getSubscription(e.d.topic);n?t(n,e):R("cannot consume packet since %s topic has no active subscription %j",e.d.topic,e)}},{key:"_processQueue",value:function(){var e=this;!this._processingQueue&&this._packetsQueue.length&&(this._processingQueue=!0,this.options.encoder.encode(this._packetsQueue.shift(),function(t,n){t?R("encode error %j",t):(e.write(n),e._processingQueue=!1,e._processQueue())}))}},{key:"_onOpen",value:function(){R("opened")}},{key:"_onError",value:function(e){R("error %O",e),this._subscriptionsIterator(function(e){return e.serverError()}),this.emit("error",e)}},{key:"_reconnect",value:function(){var e=this;this._reconnectionAttempts++,this.emit("reconnect",this._reconnectionAttempts),setTimeout(function(){e._connectionState="reconnect",e.connect()},this.options.reconnectionDelay*this._reconnectionAttempts)}},{key:"_onClose",value:function(e){var t=this;R("closing from %s state",this._connectionState),this._cleanup(),this._subscriptionsIterator(function(e){return e.terminate()}),this.emit("close",this).then(function(){t.shouldReconnect?t._reconnect():t.clearListeners()}).catch(function(){t.shouldReconnect?t._reconnect():t.clearListeners()})}},{key:"_onMessage",value:function(e){var t=this;this.options.encoder.decode(e.data,function(e,n){e?R("packet dropped, decode error %o",e):t._handleMessage(n)})}},{key:"_handleMessage",value:function(e){return E.isOpenPacket(e)?(R("open packet"),void this._handleOpen(e)):E.isJoinAckPacket(e)?(R("join ack packet"),void this._handleJoinAck(e)):E.isJoinErrorPacket(e)?(R("join error packet"),void this._handleJoinError(e)):E.isLeaveAckPacket(e)?(R("leave ack packet"),void this._handleLeaveAck(e)):E.isLeaveErrorPacket(e)?(R("leave error packet"),void this._handleLeaveError(e)):E.isLeavePacket(e)?(R("leave packet"),void this._handleServerLeave(e)):E.isEventPacket(e)?(R("event packet"),void this._handleEvent(e)):void(E.isPongPacket(e)?R("pong packet"):R("invalid packet type %d",e.t))}},{key:"_handleOpen",value:function(e){var t=this;this._connectionState="open",this.emit("open",e.d),this._pingTimer=setInterval(function(){t.sendPacket(E.pingPacket())},e.d.clientInterval),R("processing pre connection subscriptions %o",Object.keys(this.subscriptions)),this._subscriptionsIterator(function(e){t._sendSubscriptionPacket(e.topic)})}},{key:"_handleJoinAck",value:function(e){this._ensureSubscription(e,function(e){return e.joinAck()})}},{key:"_handleJoinError",value:function(e){this._ensureSubscription(e,function(e,t){return e.joinError(t.d)})}},{key:"_handleLeaveAck",value:function(e){this._ensureSubscription(e,function(e){return e.leaveAck()})}},{key:"_handleLeaveError",value:function(e){this._ensureSubscription(e,function(e,t){return e.leaveError(t.d)})}},{key:"_handleServerLeave",value:function(e){this._ensureSubscription(e,function(e,t){return e.leaveAck()})}},{key:"_handleEvent",value:function(e){this._ensureSubscription(e,function(e,t){return e.serverEvent(t.d)})}},{key:"_sendSubscriptionPacket",value:function(e){R("initiating subscription for %s topic with server",e),this.sendPacket(E.joinPacket(e))}},{key:"connect",value:function(){var e=this,t=w(c({},this.options.query,this._extendedQuery)),n=t?this._url+"?"+t:this._url;return R("creating socket connection on %s url",n),this.ws=new window.WebSocket(n),this.ws.onclose=function(t){return e._onClose(t)},this.ws.onerror=function(t){return e._onError(t)},this.ws.onopen=function(t){return e._onOpen(t)},this.ws.onmessage=function(t){return e._onMessage(t)},this}},{key:"write",value:function(e){this.ws.readyState===window.WebSocket.OPEN?this.ws.send(e):R("connection is not in open state, current state %s",this.ws.readyState)}},{key:"sendPacket",value:function(e){this._packetsQueue.push(e),this._processQueue()}},{key:"getSubscription",value:function(e){return this.subscriptions[e]}},{key:"hasSubcription",value:function(e){return!!this.getSubscription(e)}},{key:"subscribe",value:function(e){if(!e||"string"!==typeof e)throw new Error("subscribe method expects topic to be a valid string");if(this.subscriptions[e])throw new Error("Cannot subscribe to same topic twice. Instead use getSubscription");var t=new I(e,this);return t.on("close",this.removeSubscription),this.subscriptions[e]=t,"open"===this._connectionState&&this._sendSubscriptionPacket(e),t}},{key:"sendEvent",value:function(e,t,n){if(!e||!t)throw new Error("topic and event name is required to call sendEvent method");var r=this.getSubscription(e);if(!r)throw new Error("There is no active subscription for "+e+" topic");if("open"!==r.state)throw new Error("Cannot emit since subscription socket is in "+this.state+" state");R("sending event on %s topic",e),this.sendPacket(E.eventPacket(e,t,n))}},{key:"withJwtToken",value:function(e){return this._extendedQuery.token=e,this}},{key:"withBasicAuth",value:function(e,t){return this._extendedQuery.basic=window.btoa(e+":"+t),this}},{key:"withApiToken",value:function(e){return this._extendedQuery.token=e,this}},{key:"close",value:function(){this._connectionState="terminated",this.ws.close()}},{key:"shouldReconnect",get:function(){return"terminated"!==this._connectionState&&this.options.reconnection&&this.options.reconnectionAttempts>this._reconnectionAttempts}}]),t}();return function(e,t){return new Q(e,t)}},e.exports=o()}).call(this,n(43),n(46))}}]);
//# sourceMappingURL=29.52ef9531.chunk.js.map