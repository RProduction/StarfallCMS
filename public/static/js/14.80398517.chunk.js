(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{158:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(168),o=t(163),i=t(694),m=t(695),l=t(696),u=t(697),s=t(396),d=t(352),f=t(235);var p=function(e){var n=e.request,t=e.btn,a=e.category,c=e.values,o=c.name,i=c.newName,m=c.confirmName,l=e.errors,u=e.touched,p=e.handleChange,h=e.isValid,g=e.setFieldTouched,b=function(e,n){n.persist(),p(n),g(e,!0,!1)};return r.a.createElement(f.a,{container:!0,component:"form",spacing:1,onSubmit:function(e){e.preventDefault(),n({name:o,newName:i,confirmName:m})}},"add"===a?r.a.createElement(f.a,{component:s.a,item:!0,xs:12,id:"name",name:"name",label:"Name",onChange:b.bind(null,"name"),value:o,helperText:u.name?l.name:"",error:u.name&&Boolean(l.name)}):"delete"===a?r.a.createElement(f.a,{component:s.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:b.bind(null,"confirmName"),value:m,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)}):"rename"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{component:s.a,item:!0,xs:12,id:"newName",name:"newName",label:"New Name",onChange:b.bind(null,"newName"),value:i,helperText:u.newName?l.newName:"",error:u.newName&&Boolean(l.newName)}),r.a.createElement(f.a,{component:s.a,item:!0,xs:12,id:"confirmName",name:"confirmName",label:"Confirm Name",onChange:b.bind(null,"confirmName"),value:m,helperText:u.confirmName?l.confirmName:"",error:u.confirmName&&Boolean(l.confirmName)})):null,r.a.createElement(f.a,{item:!0,xs:12,component:d.a,type:"submit",disabled:!h,size:"large"},t))},h=o.object({name:o.string().required("enter name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"name too short").max(50,"name too long")}),g=o.object({name:o.string(),confirmName:o.string().required("re-enter name").matches(/^[a-z0-9_]*$/i,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).oneOf([o.ref("name")],"Confirm Name does not match")}),b=o.object({name:o.string(),confirmName:o.string().required("re-enter name").oneOf([o.ref("name")],"Confirm Name does not match"),newName:o.string().required("enter new name").matches(/^[a-zA-Z0-9_]+$/,{message:"input letters, numbers, and underscore only",excludeEmptyString:!0}).min(1,"new name too short").max(50,"new name too long")}),E={name:""},N=function(e){return{name:e,confirmName:""}},v=function(e){return{name:e,confirmName:"",newName:""}};n.a=function(e){var n=e.title,t=e.content,a=e.targetName,o=e.category,s=e.dialogProps;return r.a.createElement(i.a,s,r.a.createElement(m.a,{id:"dialog-title"},n),r.a.createElement(l.a,null,"add"===o||"delete"===o||"rename"===o?r.a.createElement(r.a.Fragment,null,"delete"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,t),r.a.createElement(u.a,null,"Please type in the name of the target to confirm")):null,r.a.createElement(c.a,{validationSchema:"add"===o?h:"rename"===o?b:"delete"===o?g:{},initialValues:"add"===o?E:"rename"===o?v(a):"delete"===o?N(a):{},render:function(n){return r.a.createElement(p,Object.assign({},e,n))}})):"notification"===o?r.a.createElement(u.a,null,t):null))}},185:function(e,n,t){"use strict";var a=t(139);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t(0)),c=(0,a(t(141)).default)(r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.default=c},631:function(e,n,t){"use strict";var a=t(139);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t(0)),c=(0,a(t(141)).default)(r.default.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");n.default=c},709:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(400),o=t(247),i=t.n(o),m=t(248),l=t.n(m),u=t(251),s=t.n(u),d=t(250),f=t.n(d),p=t(249),h=t.n(p),g=t(252),b=t.n(g),E=t(199),N=t.n(E),v=t(631),j=t.n(v),O=t(185),w=t.n(O),C=t(237),x=t.n(C),y=t(33),P=t(60),T=function(e){return e.users},F=function(e){return Object.values(T(e))},S=t(18),A=t(13),L=t.n(A),k=t(25),z=t(26),D=t(158);var M=function(e){var n=Object(y.c)(),t=Object(y.d)(function(e){return e.target}),a=Object(y.d)(function(e){return e.dialog}),c=Object(y.d)(function(e){return e.notification});return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{dialogProps:{open:a===S.b,onClose:function(){return n(Object(S.c)())}},category:"delete",title:'PERMANENTLY DELETE "'.concat(t.name,'"'),btn:'PERMANENTLY DELETE "'.concat(t.name,'"'),content:'This action will PERMANENTLY DELETE "'.concat(t.name,'". Proceed with caution!'),targetName:t.name,request:function(){var e=Object(k.a)(L.a.mark(function e(a){var r;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.name,e.prev=1,e.next=4,z.a.delete("user/".concat(t.id));case 4:n(Object(P.f)(t.id)),n(Object(S.c)()),n(Object(S.j)("Delete User ".concat(r),"Succeed deleting user ".concat(r))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(S.c)()),n(Object(S.j)("Delete User ".concat(r),"Fail deleting user ".concat(r,", error: ").concat(e.t0)));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(n){return e.apply(this,arguments)}}()}),r.a.createElement(D.a,{category:"notification",title:c.title,content:c.content,dialogProps:{open:""!==c.title&&""!==c.content,onClose:function(){return n(Object(S.d)())}}}))},_=[{title:"#",field:"#",searchable:!1},{field:"id",searchable:!1,hidden:!0,export:!1},{title:"Username",field:"username",searchable:!0,export:!1},{title:"Is Creator?",field:"isCreator",render:function(e){return r.a.createElement(c.a,{readOnly:!0,checked:e.isCreator})}}];n.default=function(e){var n=e.history,t=Object(y.c)(),c=Object(y.d)(function(e){return F(e)});return Object(a.useEffect)(function(){t(Object(P.h)())},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(x.a,{title:"User List",columns:_,data:c.map(function(e,n){return{"#":n+1,id:e.id,username:e.username,isCreator:e.isCreator}}),actions:[function(e){return{icon:function(){return r.a.createElement(N.a,null)},tooltip:"Delete User",hidden:e.isCreator,onClick:function(e,n){var a=n.id,r=n.username;t(Object(S.g)({id:a,name:r})),t(Object(S.i)())}}},{icon:function(){return r.a.createElement(w.a,null)},tooltip:"Add User",isFreeAction:!0,onClick:function(){return n.push("/signup")}},{icon:function(){return r.a.createElement(j.a,null)},tooltip:"Refresh",isFreeAction:!0,onClick:function(){return t(Object(P.h)())}}],icons:{Search:i.a,ResetSearch:l.a,FirstPage:h.a,PreviousPage:f.a,NextPage:s.a,LastPage:b.a},options:{pageSize:10,pageSizeOptions:[10,25,50],search:!0,actionsColumnIndex:-1}}))}}}]);
//# sourceMappingURL=14.80398517.chunk.js.map