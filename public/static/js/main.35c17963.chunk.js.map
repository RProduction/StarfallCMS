{"version":3,"sources":["redux/actions/globalActions.js","Axios.js","redux/actions/authorizationActions.js","App.js","serviceWorker.js","redux/reducers/helpers.js","redux/reducers/authorizationReducer.js","redux/reducers/projectReducer.js","redux/reducers/entityReducer.js","redux/reducers/documentReducer.js","redux/reducers/storageReducer.js","redux/reducers/globalReducer.js","redux/reducers/index.js","index.js"],"names":["SwitchSideBar","status","type","ShowNotificationDialog","title","content","HideNotificationDialog","__webpack_require__","d","__webpack_exports__","ADD_DIALOG","DELETE_DIALOG","RENAME_DIALOG","IMG_DIALOG","ShowAddDialog","ShowDeleteDialog","ShowRenameDialog","ShowImgDialog","HideDialog","SetTarget","data","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","axios","create","baseURL","responseType","headers","Content-Type","withCredentials","FIRST_BOOT","NOT_AUTHORIZED","CREATOR","USER","CheckAuthStatus","_ref","Object","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Project_VScode_Web_StarfallCMS_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","_ref2","wrap","_context","prev","next","Axios","get","sent","t0","console","log","stop","_x","apply","this","arguments","AuthSignIn","username","password","_ref3","_callee2","_context2","post","_x2","AuthSignUp","_ref4","_callee3","_context3","_x3","AuthSignOut","_ref5","_callee4","_context4","_x4","Admin","lazy","Promise","all","e","then","bind","SignIn","SignUp","App","useDispatch","useEffect","react_default","createElement","react","fallback","CssBaseline","react_router","path","component","Boolean","window","location","hostname","match","createReducer","initialState","handlers","state","length","undefined","action","hasOwnProperty","authorizationReducer","SET_AUTHORIZATION_STATUS","projectPopoverReducer","SET_PROJECT_POPOVER","anchor","projectsReducer","ADD_PROJECTS","produce","draft","projects","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","project","value","id","name","img","created","updated","publicKey","err","return","DELETE_PROJECT","RENAME_PROJECT","IMG_PROJECT","entitiesReducer","ADD_ENTITIES","entities","entity","projectId","schema","DELETE_ENTITIES","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","RENAME_ENTITY","SET_ENTITY_SCHEMA","documentsReducer","ADD_DOCUMENTS","documents","document","DELETE_DOCUMENTS","MODIFY_DOCUMENT","currentDocumentReducer","GENERATE_FIELD","fieldType","ADD_FIELD","keys","currentType","forEach","key","index","SET_FIELD","current","constructor","Array","DELETE_FIELD","storageReducer","INIT_STORAGE","UPLOAD_STORAGE","files","currentPath","split","size","modified","FOLDER_STORAGE","MOVE_STORAGE","targets","target","currentTarget","RENAME_STORAGE","new_name","DELETE_STORAGE","paths","storagePathReducer","INIT_STORAGE_PATH","concat","FORWARD_STORAGE_PATH","BACKWARD_STORAGE_PATH","res","sidebarReducer","SWITCH_SIDEBAR","targetReducer","SET_TARGET","entries","slicedToArray","dialogReducer","SHOW_ADD_DIALOG","SHOW_DELETE_DIALOG","SHOW_RENAME_DIALOG","SHOW_IMG_DIALOG","HIDE_DIALOG","notificationReducer","SHOW_NOTIFICATION_DIALOG","HIDE_NOTIFICATION_DIALOG","reducers","combineReducers","authStatus","currentDocument","storage","storagePath","dialog","notification","sidebar","projectPopover","store","createStore","applyMiddleware","thunk","theme","createMuiTheme","width","flexShrink","sidebarPaper","responsive","hide","display","palette","primary","main","secondary","error","background","dark","light","tonalOffset","contrastThreshold","defineProperty","breakpoints","up","marginLeft","ReactDOM","render","MuiThemeProvider","es","react_router_dom","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.35c17963.chunk.js","sourcesContent":["// UI SideBar switch\r\nexport function SwitchSideBar(status){\r\n    return {type: \"SWITCH_SIDEBAR\", status: status};\r\n}\r\n\r\n// UI Notification Dialog switch and content data\r\nexport function ShowNotificationDialog(title, content){\r\n    return {type: \"SHOW_NOTIFICATION_DIALOG\", title: title, content: content};\r\n}\r\n\r\nexport function HideNotificationDialog(){\r\n    return {type: \"HIDE_NOTIFICATION_DIALOG\"};\r\n}\r\n\r\n// UI dialog\r\nexport const ADD_DIALOG = \"ADD_DIALOG\";\r\nexport const DELETE_DIALOG = \"DELETE_DIALOG\";\r\nexport const RENAME_DIALOG = \"RENAME_DIALOG\";\r\nexport const IMG_DIALOG = \"IMG_DIALOG\";\r\n\r\nexport function ShowAddDialog(){\r\n    return {type: \"SHOW_ADD_DIALOG\"};\r\n}\r\n\r\nexport function ShowDeleteDialog(){\r\n    return {type: \"SHOW_DELETE_DIALOG\"};\r\n}\r\n\r\nexport function ShowRenameDialog(){\r\n    return {type: \"SHOW_RENAME_DIALOG\"};\r\n}\r\n\r\nexport function ShowImgDialog(){\r\n    return {type: \"SHOW_IMG_DIALOG\"};\r\n}\r\n\r\nexport function HideDialog(){\r\n    return {type: \"HIDE_DIALOG\"};\r\n}\r\n\r\n// current target information\r\nexport function SetTarget(data){\r\n    return {type: \"SET_TARGET\", data: data};\r\n}","import axios from 'axios';\r\n\r\nconst url = process.env.NODE_ENV === 'development' ? 'http://localhost:3333/' : '/';\r\n\r\nexport default axios.create({\r\n    baseURL: url,\r\n    responseType: \"json\",\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    },\r\n    withCredentials: true\r\n});","import Axios from '../../Axios';\r\n\r\n// authorization status\r\nexport const FIRST_BOOT = 0;\r\nexport const NOT_AUTHORIZED = -1;\r\nexport const CREATOR = 1;\r\nexport const USER = 2;\r\n\r\nexport const CheckAuthStatus = () => async dispatch => {\r\n    try{\r\n        const {data} = await Axios.get('user/status');\r\n        dispatch({type: \"SET_AUTHORIZATION_STATUS\", status: data});\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const AuthSignIn = (username, password) => async dispatch => {\r\n    try{\r\n        await Axios.post('user/signin', {\r\n            username: username,\r\n            password: password\r\n        });\r\n        dispatch(CheckAuthStatus());\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const AuthSignUp = (username, password) => async dispatch => {\r\n    try{\r\n        await Axios.post('user', {\r\n            username: username,\r\n            password: password\r\n        });\r\n        dispatch(CheckAuthStatus());\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const AuthSignOut = () => async dispatch => {\r\n    try{\r\n        await Axios.post('user/signout');\r\n        dispatch(CheckAuthStatus());\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}","import React, {lazy, Suspense, useEffect} from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport {CssBaseline} from '@material-ui/core';\r\nimport {useDispatch} from 'react-redux';\r\nimport {CheckAuthStatus} from './redux/actions/authorizationActions';\r\n\r\nconst Admin = lazy(()=>import('./Admin'));\r\nconst SignIn = lazy(()=>import('./SignIn'));\r\nconst SignUp = lazy(()=>import('./SignUp'));\r\n\r\nfunction App() {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(()=>{\r\n\t\tdispatch(CheckAuthStatus());\r\n\t}, []);\r\n\t  \r\n\treturn (\r\n    \t<Suspense fallback={<div></div>}>\r\n\t\t\t<CssBaseline/>\r\n\t\t\t\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path=\"/signin\" component={SignIn}/>\r\n\t\t\t\t<Route path=\"/signup\" component={SignUp}/>\r\n\t\t\t\t<Route path=\"/\" component={Admin}/>\r\n\t\t\t</Switch>\r\n\r\n\t\t</Suspense>\r\n  \t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export function createReducer(initialState, handlers) {\r\n    return function reducer(state = initialState, action) {\r\n        if (handlers.hasOwnProperty(action.type)) {\r\n            return handlers[action.type](state, action)\r\n        } else {\r\n            return state\r\n        }\r\n    }\r\n}","import {createReducer} from './helpers';\r\n\r\nfunction SetAuthorizationStatus(state, action){\r\n    return action.status;\r\n}\r\n\r\nconst authorizationReducer = createReducer(-1, {\r\n    SET_AUTHORIZATION_STATUS: SetAuthorizationStatus\r\n});\r\n\r\nexport default authorizationReducer;","import {createReducer} from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// project popover\r\nfunction SetProjectPopover(state, action){\r\n    return action.anchor;\r\n}\r\n\r\n// receive array of id, name, updated, created, publicKey\r\nconst AddProjects = (state, action) => produce(state, (draft)=>{\r\n    const {projects} = action;\r\n    for(let project of projects){\r\n        draft[project.id] = {\r\n            id: project.id,\r\n            name: project.name,\r\n            img: project.img,\r\n            created: project.created,\r\n            updated: project.updated,\r\n            publicKey: project.publicKey\r\n        }\r\n    }\r\n});\r\n\r\nconst DeleteProject = (state, action) => produce(state, (draft)=>{\r\n    const {id} = action;\r\n    delete draft[id];\r\n});\r\n\r\nconst RenameProject = (state, action) => produce(state, (draft)=>{\r\n    const {id, name, updated} = action;\r\n    draft[id].name = name;\r\n    draft[id].updated = updated;\r\n});\r\n\r\nconst ImgProject = (state, action) => produce(state, (draft)=>{\r\n    const {id, img, updated} = action;\r\n    draft[id].img = img;\r\n    draft[id].updated = updated;\r\n});\r\n\r\n// reducers\r\nexport const projectPopoverReducer = createReducer(null, {\r\n    SET_PROJECT_POPOVER: SetProjectPopover\r\n});\r\n\r\nexport const projectsReducer = createReducer({}, {\r\n    ADD_PROJECTS: AddProjects,\r\n    DELETE_PROJECT: DeleteProject,\r\n    RENAME_PROJECT: RenameProject,\r\n    IMG_PROJECT: ImgProject,\r\n});","import { createReducer } from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// receive array of id, projectId, name, updated, created\r\nconst AddEntities = (state, action) => produce(state, (draft)=>{\r\n    const {entities} = action;\r\n    for(let entity of entities){\r\n        draft[entity.id] = {\r\n            id: entity.id,\r\n            projectId: entity.projectId,\r\n            name: entity.name,\r\n            created: entity.created,\r\n            updated: entity.updated,\r\n            schema: entity.schema\r\n        }\r\n    }\r\n});\r\n\r\n// receive array of entity id\r\nconst DeleteEntities = (state, action) => produce(state, (draft)=>{\r\n    const {entities} = action;\r\n    for(let entity of entities){\r\n        delete draft[entity];\r\n    }\r\n});\r\n\r\nconst RenameEntity = (state, action) => produce(state, (draft)=>{\r\n    const {id, name, updated} = action; \r\n    draft[id].name = name;\r\n    draft[id].updated = updated;\r\n});\r\n\r\nconst SetEntitySchema = (state, action) => produce(state, (draft)=>{\r\n    const {id, schema, updated} = action; \r\n    draft[id].schema = schema;\r\n    draft[id].updated = updated;\r\n});\r\n\r\n// reducers\r\nexport const entitiesReducer = createReducer({}, {\r\n    ADD_ENTITIES: AddEntities,\r\n    DELETE_ENTITIES: DeleteEntities,\r\n    RENAME_ENTITY: RenameEntity,\r\n    SET_ENTITY_SCHEMA: SetEntitySchema\r\n});\r\n","import { createReducer } from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// document reducer\r\n// receive array of id, entityId, data, updated, created\r\nconst AddDocuments = (state, action) => produce(state, (draft)=>{\r\n    const {documents} = action;\r\n    for(let document of documents){\r\n        draft[document.id] = document\r\n    }\r\n});\r\n\r\n// receive array of documents id\r\nconst DeleteDocuments = (state, action) => produce(state, (draft)=>{\r\n    const {documents} = action;\r\n    for(let document of documents){\r\n        delete draft[document];\r\n    }\r\n});\r\n\r\nconst ModifyDocument = (state, action) => produce(state, (draft)=>{\r\n    const {id, updated, data} = action;\r\n    draft[id].updated = updated;\r\n    draft[id].data = data;\r\n});\r\n\r\n// receive data and type\r\nconst GenerateField = (state, action) => produce(state, (draft)=>{\r\n    const {data, fieldType} = action;\r\n\r\n    draft.data = data;\r\n    draft.type = fieldType;\r\n});\r\n\r\n// receive array of key and type\r\n// array type only for array(define what can of type array contain)\r\nconst AddField = (state, action) => produce(state, (draft)=>{\r\n    const {keys, fieldType} = action;\r\n\r\n    let currentType = draft.type;\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length){\r\n            currentType = currentType[key];\r\n        }else if (fieldType === 'object'){\r\n            currentType[key] = {};\r\n        }else if(fieldType === 'array'){\r\n            currentType[key] = ['integer'];\r\n        }else{\r\n            currentType[key] = fieldType;\r\n        }\r\n    });\r\n});\r\n\r\n// receive array of key and value\r\n// key must exist and have a right topology\r\nconst SetField = (state, action) => produce(state, (draft)=>{\r\n    const {keys, value} = action;\r\n    \r\n    let current = draft.data;\r\n    let currentType = draft.type;\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length){\r\n            if(currentType.constructor === Object)\r\n                currentType = currentType[key];\r\n            else if(currentType.constructor === Array)\r\n                currentType = currentType[0];\r\n            \r\n            if(!current[key] && currentType.constructor === Object)\r\n                current[key] = {};\r\n            else if(!current[key] && currentType.constructor === Array)\r\n                current[key] = [];\r\n\r\n            current = current[key];\r\n        }\r\n        else\r\n            current[key] = value;\r\n    });\r\n});\r\n\r\n// receive array of key\r\nconst DeleteField = (state, action) => produce(state, (draft)=>{\r\n    const {keys} = action;\r\n    \r\n    let currentType = draft.type;\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length)\r\n            currentType = currentType[key];\r\n        else\r\n            delete currentType[key];\r\n    });\r\n});\r\n\r\n// reducers\r\n\r\nexport const documentsReducer = createReducer({}, {\r\n    ADD_DOCUMENTS: AddDocuments,\r\n    DELETE_DOCUMENTS: DeleteDocuments,\r\n    MODIFY_DOCUMENT: ModifyDocument\r\n});\r\n\r\nexport const currentDocumentReducer = createReducer({data: {}, type: {}}, {\r\n    GENERATE_FIELD: GenerateField,\r\n    ADD_FIELD: AddField,\r\n    SET_FIELD: SetField,\r\n    DELETE_FIELD: DeleteField\r\n});","import {createReducer} from './helpers';\r\nimport {produce} from 'immer';\r\n\r\n// for storage reducer\r\n\r\n// receive project id and data consist of folder structure in shape of object tree\r\nconst InitStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, data} = action;\r\n    draft[id] = data;\r\n});\r\n\r\n// receive project id, path, files\r\n// process path into keys\r\n// path can null\r\nconst UploadStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path, files} = action;\r\n    \r\n    if(!draft[id]) draft[id] = {};\r\n\r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key)=>{\r\n        currentPath = currentPath[key];\r\n    });\r\n\r\n    files.forEach(value => currentPath[value.name] = {\r\n        name: value.name,\r\n        size: value.size,\r\n        created: value.created,\r\n        modified: value.modified\r\n    });\r\n});\r\n\r\n// receive project id, path\r\n// process path into keys\r\n// path will never null\r\nconst FolderStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path} = action;\r\n    \r\n    if(!draft[id]) draft[id] = {};\r\n\r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key, index)=>{\r\n        if(index+1 < keys.length){\r\n            currentPath = currentPath[key];\r\n        }else{\r\n            currentPath[key] = {};\r\n        }\r\n    });\r\n});\r\n\r\n// receive project id, path, and targets\r\n// path can null\r\n// targets is array and 1 path will never null\r\nconst MoveStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path, targets} = action;\r\n\r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key)=>{\r\n        currentPath = currentPath[key];\r\n    });\r\n\r\n    targets.forEach(target => {\r\n        let currentTarget = draft[id];\r\n        let keys = target.split('/');\r\n        keys.forEach((key, index)=>{\r\n            if(index+1 < keys.length){\r\n                currentTarget = currentTarget[key];\r\n            }else{\r\n                currentPath[key] = currentTarget[key];\r\n                delete currentTarget[key];\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// receive project id, path, name, new_name\r\n// path can null\r\nconst RenameStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, path, name, new_name} = action;\r\n    \r\n    let currentPath = draft[id];\r\n    let keys = path.split('/');\r\n    keys.forEach((key)=>{\r\n        currentPath = currentPath[key];\r\n    });\r\n\r\n    currentPath[new_name] = currentPath[name];\r\n    delete currentPath[name];\r\n});\r\n\r\n// receive project id, and target paths\r\n// paths is array and 1 path will never null\r\nconst DeleteStorage = (state, action) => produce(state, (draft)=>{\r\n    const {id, paths} = action;\r\n    \r\n    paths.forEach(path => {\r\n        let currentPath = draft[id];\r\n        let keys = path.split('/');\r\n        keys.forEach((key, index)=>{\r\n            if(index+1 < keys.length){\r\n                currentPath = currentPath[key];\r\n            }else{\r\n                delete currentPath[key];\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// for storage path reducer\r\n\r\n// receive project id\r\n// init path when first visiting storage\r\nfunction InitStoragePath(state, action){\r\n    const {id} = action;\r\n    return `${id}`;\r\n}\r\n\r\nfunction ForwardStoragePath(state, action){\r\n    const {next} = action;\r\n    return `${state}/${next}`;\r\n}\r\n\r\nfunction BackwardStoragePath(state, action){\r\n    const paths = state.split('/');\r\n    let res = '';\r\n    paths.forEach((path, index) => {\r\n        if(index === 0)\r\n            res = path;\r\n        else if(index+1 < paths.length)\r\n            res += `/${path}`;\r\n    });\r\n\r\n    return res;\r\n}\r\n\r\n// reducers\r\nexport const storageReducer = createReducer({}, {\r\n    INIT_STORAGE: InitStorage,\r\n    UPLOAD_STORAGE: UploadStorage,\r\n    FOLDER_STORAGE: FolderStorage,\r\n    MOVE_STORAGE: MoveStorage,\r\n    RENAME_STORAGE: RenameStorage,\r\n    DELETE_STORAGE: DeleteStorage,\r\n});\r\n\r\nexport const storagePathReducer = createReducer('', {\r\n    INIT_STORAGE_PATH: InitStoragePath,\r\n    FORWARD_STORAGE_PATH: ForwardStoragePath,\r\n    BACKWARD_STORAGE_PATH: BackwardStoragePath\r\n});","import {createReducer} from './helpers';\r\nimport {ADD_DIALOG, DELETE_DIALOG, RENAME_DIALOG, IMG_DIALOG} from '../actions/globalActions';\r\nimport {produce} from 'immer';\r\n\r\n// admin sidebar switch\r\nfunction SwitchSideBar(state, action) {\r\n    return action.status;\r\n}\r\n\r\n// target\r\nconst SetTarget = (state, action) => produce(state, (draft)=>{\r\n    const {data} = action;\r\n    Object.entries(data).forEach(([key, value]) => draft[key] = value);\r\n});\r\n\r\n// add, delete, rename dialog\r\nfunction ShowAddDialog(state, action){\r\n    return ADD_DIALOG;\r\n}\r\n\r\nfunction ShowDeleteDialog(state, action){\r\n    return DELETE_DIALOG;\r\n}\r\n\r\nfunction ShowRenameDialog(state, action){\r\n    return RENAME_DIALOG;\r\n}\r\n\r\nfunction ShowImgDialog(state, action){\r\n    return IMG_DIALOG;\r\n}\r\n\r\nfunction HideDialog(state, action){\r\n    return null;\r\n}\r\n\r\n// notification dialog switch\r\nconst ShowNotificationDialog = (state, action) => produce(state, (draft)=>{\r\n    const {title, content} = action;\r\n    draft.title = title;\r\n    draft.content = content;\r\n});\r\n\r\nconst HideNotificationDialog = (state, action) => produce(state, (draft)=>{\r\n    draft.title = '';\r\n    draft.content = '';\r\n});\r\n\r\n// reducers\r\nexport const sidebarReducer = createReducer(false, {\r\n    SWITCH_SIDEBAR: SwitchSideBar\r\n});\r\n\r\nexport const targetReducer = createReducer({}, {\r\n    SET_TARGET: SetTarget\r\n});\r\n\r\nexport const dialogReducer = createReducer(null, {\r\n    SHOW_ADD_DIALOG: ShowAddDialog,\r\n    SHOW_DELETE_DIALOG: ShowDeleteDialog,\r\n    SHOW_RENAME_DIALOG: ShowRenameDialog,\r\n    SHOW_IMG_DIALOG: ShowImgDialog,\r\n    HIDE_DIALOG: HideDialog\r\n});\r\n\r\nexport const notificationReducer = createReducer({title: '', content: ''}, {\r\n    SHOW_NOTIFICATION_DIALOG: ShowNotificationDialog,\r\n    HIDE_NOTIFICATION_DIALOG: HideNotificationDialog\r\n});","import {combineReducers} from 'redux';\r\n\r\nimport authorizationReducer from './authorizationReducer';\r\nimport {projectPopoverReducer, projectsReducer} from './projectReducer';\r\nimport {entitiesReducer} from './entityReducer';\r\nimport {documentsReducer, currentDocumentReducer} from './documentReducer';\r\nimport {storageReducer, storagePathReducer} from './storageReducer';\r\nimport {notificationReducer, dialogReducer, targetReducer, sidebarReducer} from './globalReducer';\r\n\r\nconst reducers = combineReducers(\r\n    {\r\n        authStatus: authorizationReducer,\r\n        projects: projectsReducer,\r\n        entities: entitiesReducer,\r\n        documents: documentsReducer,\r\n        currentDocument: currentDocumentReducer,\r\n        storage: storageReducer,\r\n        storagePath: storagePathReducer,\r\n        dialog: dialogReducer,\r\n        notification: notificationReducer,\r\n        target: targetReducer,\r\n        sidebar: sidebarReducer,\r\n        projectPopover: projectPopoverReducer\r\n    }\r\n);\r\n\r\nexport default reducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter} from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {createStore, applyMiddleware} from 'redux';\nimport {Provider} from 'react-redux';\nimport reducers from './redux/reducers';\nimport thunk from 'redux-thunk';\n\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\n\nconst store = createStore(\n    reducers, \n    applyMiddleware(thunk)\n);\n\nconst sidebarWidth = 300;\nconst theme = createMuiTheme({\n    sidebar: {\n        width: sidebarWidth,\n        flexShrink: 0\n    },\n    sidebarPaper: {\n        width: sidebarWidth\n    },\n    responsive: {},\n    hide: {\n        display: 'none'\n    },\n    palette:{\n        primary: {\n            main: '#a6e0ed'\n        },\n        secondary: {\n            main: '#56db96'\n        },\n        error: {\n            main: '#c91448'\n        },\n        background:{\n            dark:{\n                light: '#555954',\n                main: '#444743',\n                dark: '#2c2e2c'\n            },\n            light:{\n                light: '#f5f5f5',\n                main: '#ededed',\n                dark: '#e6e6e6'\n            }\n        },\n        tonalOffset:  0.2,\n        contrastThreshold: 3\n    }\n});\n\ntheme.responsive = {\n    [theme.breakpoints.up('md')]: {\n        marginLeft: sidebarWidth,\n        width: `calc(100% - ${sidebarWidth}px)`\n    }\n}\n\nReactDOM.render(\n    <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n            <HashRouter>\n                <App />\n            </HashRouter>\n        </Provider>\n    </MuiThemeProvider>\n    , document.getElementById('root')\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}